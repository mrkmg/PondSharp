{"version":3,"file":"4575.js","mappings":"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","sources":["webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/_deps/vscode-languageserver-types/main.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-languageserver-textdocument/lib/esm/main.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/cssLanguageTypes.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssScanner.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/workerManager.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssParser.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssHover.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssNavigation.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssScanner.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCodeActions.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssValidation.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssParser.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/scssCompletion.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessScanner.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessParser.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lessCompletion.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/dataManager.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/scssNavigation.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/languageFeatures.js","webpack://pondsharp.client/./node_modules/monaco-editor/esm/vs/language/css/cssMode.js"],"sourcesContent":["/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.number(candidate.red)\n            && Is.number(candidate.green)\n            && Is.number(candidate.blue)\n            && Is.number(candidate.alpha);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * Enum of known range kinds\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The DiagnosticCode namespace provides functions to deal with complex diagnostic codes.\n *\n * @since 3.16.0 - Proposed state\n */\nexport var DiagnosticCode;\n(function (DiagnosticCode) {\n    /**\n     * Checks whether the given liternal conforms to the [DiagnosticCode](#DiagnosticCode) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode || (DiagnosticCode = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits) {\n        this.edits = edits;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\n        this.edits.push(TextEdit.insert(position, newText));\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\n        this.edits.push(TextEdit.replace(range, newText));\n    };\n    TextEditChangeImpl.prototype.delete = function (range) {\n        this.edits.push(TextEdit.del(range));\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            if (this._workspaceEdit === undefined) {\n                return { documentChanges: [] };\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (VersionedTextDocumentIdentifier.is(key)) {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    documentChanges: []\n                };\n            }\n            if (!this._workspaceEdit.documentChanges) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = key;\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    changes: Object.create(null)\n                };\n            }\n            if (!this._workspaceEdit.changes) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\n    };\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n(function (MarkupKind) {\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0 - Proposed state\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.15\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== void 0) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === void 0 || Array.isArray(candidate.children)) &&\n            (candidate.tags === void 0 || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only) {\n        var result = { diagnostics: diagnostics };\n        if (only !== void 0 && only !== null) {\n            result.only = only;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, commandOrEdit, kind) {\n        var result = { title: title };\n        if (Command.is(commandOrEdit)) {\n            result.command = commandOrEdit;\n        }\n        else {\n            result.edit = commandOrEdit;\n        }\n        if (kind !== void 0) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\n            (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (changes, version) {\n        for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\n            var change = changes_1[_i];\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                var range = getWellformedRange(change.range);\n                // update content\n                var startOffset = this.offsetAt(range.start);\n                var endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                var startLine = Math.max(range.start.line, 0);\n                var endLine = Math.max(range.end.line, 0);\n                var lineOffsets = this._lineOffsets;\n                var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (var i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice.apply(lineOffsets, [startLine + 1, endLine - startLine].concat(addedLineOffsets));\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                var diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return { line: line, character: offset - lineOffsets[line] };\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.isIncremental = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    };\n    FullTextDocument.isFull = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    };\n    return FullTextDocument;\n}());\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifing its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits.map(getWellformedEdit), function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = 0;\n        var spans = [];\n        for (var _i = 0, sortedEdits_1 = sortedEdits; _i < sortedEdits_1.length; _i++) {\n            var e = sortedEdits_1[_i];\n            var startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    var p = (data.length / 2) | 0;\n    var left = data.slice(0, p);\n    var right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    var leftIdx = 0;\n    var rightIdx = 0;\n    var i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        var ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset) {\n    if (textOffset === void 0) { textOffset = 0; }\n    var result = isAtLineStart ? [textOffset] : [];\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charCodeAt(i);\n        if (ch === 13 /* CarriageReturn */ || ch === 10 /* LineFeed */) {\n            if (ch === 13 /* CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    var start = range.start;\n    var end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    var range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range: range };\n    }\n    return textEdit;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { MarkupKind } from './_deps/vscode-languageserver-types/main.js';\nexport { TextDocument } from '../vscode-languageserver-textdocument/lib/esm/main.js';\nexport * from './_deps/vscode-languageserver-types/main.js';\nexport var ClientCapabilities;\n(function (ClientCapabilities) {\n    ClientCapabilities.LATEST = {\n        textDocument: {\n            completion: {\n                completionItem: {\n                    documentationFormat: [MarkupKind.Markdown, MarkupKind.PlainText]\n                }\n            },\n            hover: {\n                contentFormat: [MarkupKind.Markdown, MarkupKind.PlainText]\n            }\n        }\n    };\n})(ClientCapabilities || (ClientCapabilities = {}));\nexport var FileType;\n(function (FileType) {\n    /**\n     * The file type is unknown.\n     */\n    FileType[FileType[\"Unknown\"] = 0] = \"Unknown\";\n    /**\n     * A regular file.\n     */\n    FileType[FileType[\"File\"] = 1] = \"File\";\n    /**\n     * A directory.\n     */\n    FileType[FileType[\"Directory\"] = 2] = \"Directory\";\n    /**\n     * A symbolic link to a file.\n     */\n    FileType[FileType[\"SymbolicLink\"] = 64] = \"SymbolicLink\";\n})(FileType || (FileType = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { trim } from \"../utils/strings.js\";\n/// <summary>\n/// Nodes for the css 2.1 specification. See for reference:\n/// http://www.w3.org/TR/CSS21/grammar.html#grammar\n/// </summary>\nexport var NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"Undefined\"] = 0] = \"Undefined\";\n    NodeType[NodeType[\"Identifier\"] = 1] = \"Identifier\";\n    NodeType[NodeType[\"Stylesheet\"] = 2] = \"Stylesheet\";\n    NodeType[NodeType[\"Ruleset\"] = 3] = \"Ruleset\";\n    NodeType[NodeType[\"Selector\"] = 4] = \"Selector\";\n    NodeType[NodeType[\"SimpleSelector\"] = 5] = \"SimpleSelector\";\n    NodeType[NodeType[\"SelectorInterpolation\"] = 6] = \"SelectorInterpolation\";\n    NodeType[NodeType[\"SelectorCombinator\"] = 7] = \"SelectorCombinator\";\n    NodeType[NodeType[\"SelectorCombinatorParent\"] = 8] = \"SelectorCombinatorParent\";\n    NodeType[NodeType[\"SelectorCombinatorSibling\"] = 9] = \"SelectorCombinatorSibling\";\n    NodeType[NodeType[\"SelectorCombinatorAllSiblings\"] = 10] = \"SelectorCombinatorAllSiblings\";\n    NodeType[NodeType[\"SelectorCombinatorShadowPiercingDescendant\"] = 11] = \"SelectorCombinatorShadowPiercingDescendant\";\n    NodeType[NodeType[\"Page\"] = 12] = \"Page\";\n    NodeType[NodeType[\"PageBoxMarginBox\"] = 13] = \"PageBoxMarginBox\";\n    NodeType[NodeType[\"ClassSelector\"] = 14] = \"ClassSelector\";\n    NodeType[NodeType[\"IdentifierSelector\"] = 15] = \"IdentifierSelector\";\n    NodeType[NodeType[\"ElementNameSelector\"] = 16] = \"ElementNameSelector\";\n    NodeType[NodeType[\"PseudoSelector\"] = 17] = \"PseudoSelector\";\n    NodeType[NodeType[\"AttributeSelector\"] = 18] = \"AttributeSelector\";\n    NodeType[NodeType[\"Declaration\"] = 19] = \"Declaration\";\n    NodeType[NodeType[\"Declarations\"] = 20] = \"Declarations\";\n    NodeType[NodeType[\"Property\"] = 21] = \"Property\";\n    NodeType[NodeType[\"Expression\"] = 22] = \"Expression\";\n    NodeType[NodeType[\"BinaryExpression\"] = 23] = \"BinaryExpression\";\n    NodeType[NodeType[\"Term\"] = 24] = \"Term\";\n    NodeType[NodeType[\"Operator\"] = 25] = \"Operator\";\n    NodeType[NodeType[\"Value\"] = 26] = \"Value\";\n    NodeType[NodeType[\"StringLiteral\"] = 27] = \"StringLiteral\";\n    NodeType[NodeType[\"URILiteral\"] = 28] = \"URILiteral\";\n    NodeType[NodeType[\"EscapedValue\"] = 29] = \"EscapedValue\";\n    NodeType[NodeType[\"Function\"] = 30] = \"Function\";\n    NodeType[NodeType[\"NumericValue\"] = 31] = \"NumericValue\";\n    NodeType[NodeType[\"HexColorValue\"] = 32] = \"HexColorValue\";\n    NodeType[NodeType[\"MixinDeclaration\"] = 33] = \"MixinDeclaration\";\n    NodeType[NodeType[\"MixinReference\"] = 34] = \"MixinReference\";\n    NodeType[NodeType[\"VariableName\"] = 35] = \"VariableName\";\n    NodeType[NodeType[\"VariableDeclaration\"] = 36] = \"VariableDeclaration\";\n    NodeType[NodeType[\"Prio\"] = 37] = \"Prio\";\n    NodeType[NodeType[\"Interpolation\"] = 38] = \"Interpolation\";\n    NodeType[NodeType[\"NestedProperties\"] = 39] = \"NestedProperties\";\n    NodeType[NodeType[\"ExtendsReference\"] = 40] = \"ExtendsReference\";\n    NodeType[NodeType[\"SelectorPlaceholder\"] = 41] = \"SelectorPlaceholder\";\n    NodeType[NodeType[\"Debug\"] = 42] = \"Debug\";\n    NodeType[NodeType[\"If\"] = 43] = \"If\";\n    NodeType[NodeType[\"Else\"] = 44] = \"Else\";\n    NodeType[NodeType[\"For\"] = 45] = \"For\";\n    NodeType[NodeType[\"Each\"] = 46] = \"Each\";\n    NodeType[NodeType[\"While\"] = 47] = \"While\";\n    NodeType[NodeType[\"MixinContentReference\"] = 48] = \"MixinContentReference\";\n    NodeType[NodeType[\"MixinContentDeclaration\"] = 49] = \"MixinContentDeclaration\";\n    NodeType[NodeType[\"Media\"] = 50] = \"Media\";\n    NodeType[NodeType[\"Keyframe\"] = 51] = \"Keyframe\";\n    NodeType[NodeType[\"FontFace\"] = 52] = \"FontFace\";\n    NodeType[NodeType[\"Import\"] = 53] = \"Import\";\n    NodeType[NodeType[\"Namespace\"] = 54] = \"Namespace\";\n    NodeType[NodeType[\"Invocation\"] = 55] = \"Invocation\";\n    NodeType[NodeType[\"FunctionDeclaration\"] = 56] = \"FunctionDeclaration\";\n    NodeType[NodeType[\"ReturnStatement\"] = 57] = \"ReturnStatement\";\n    NodeType[NodeType[\"MediaQuery\"] = 58] = \"MediaQuery\";\n    NodeType[NodeType[\"FunctionParameter\"] = 59] = \"FunctionParameter\";\n    NodeType[NodeType[\"FunctionArgument\"] = 60] = \"FunctionArgument\";\n    NodeType[NodeType[\"KeyframeSelector\"] = 61] = \"KeyframeSelector\";\n    NodeType[NodeType[\"ViewPort\"] = 62] = \"ViewPort\";\n    NodeType[NodeType[\"Document\"] = 63] = \"Document\";\n    NodeType[NodeType[\"AtApplyRule\"] = 64] = \"AtApplyRule\";\n    NodeType[NodeType[\"CustomPropertyDeclaration\"] = 65] = \"CustomPropertyDeclaration\";\n    NodeType[NodeType[\"CustomPropertySet\"] = 66] = \"CustomPropertySet\";\n    NodeType[NodeType[\"ListEntry\"] = 67] = \"ListEntry\";\n    NodeType[NodeType[\"Supports\"] = 68] = \"Supports\";\n    NodeType[NodeType[\"SupportsCondition\"] = 69] = \"SupportsCondition\";\n    NodeType[NodeType[\"NamespacePrefix\"] = 70] = \"NamespacePrefix\";\n    NodeType[NodeType[\"GridLine\"] = 71] = \"GridLine\";\n    NodeType[NodeType[\"Plugin\"] = 72] = \"Plugin\";\n    NodeType[NodeType[\"UnknownAtRule\"] = 73] = \"UnknownAtRule\";\n    NodeType[NodeType[\"Use\"] = 74] = \"Use\";\n    NodeType[NodeType[\"ModuleConfiguration\"] = 75] = \"ModuleConfiguration\";\n    NodeType[NodeType[\"Forward\"] = 76] = \"Forward\";\n    NodeType[NodeType[\"ForwardVisibility\"] = 77] = \"ForwardVisibility\";\n    NodeType[NodeType[\"Module\"] = 78] = \"Module\";\n})(NodeType || (NodeType = {}));\nexport var ReferenceType;\n(function (ReferenceType) {\n    ReferenceType[ReferenceType[\"Mixin\"] = 0] = \"Mixin\";\n    ReferenceType[ReferenceType[\"Rule\"] = 1] = \"Rule\";\n    ReferenceType[ReferenceType[\"Variable\"] = 2] = \"Variable\";\n    ReferenceType[ReferenceType[\"Function\"] = 3] = \"Function\";\n    ReferenceType[ReferenceType[\"Keyframe\"] = 4] = \"Keyframe\";\n    ReferenceType[ReferenceType[\"Unknown\"] = 5] = \"Unknown\";\n    ReferenceType[ReferenceType[\"Module\"] = 6] = \"Module\";\n    ReferenceType[ReferenceType[\"Forward\"] = 7] = \"Forward\";\n    ReferenceType[ReferenceType[\"ForwardVisibility\"] = 8] = \"ForwardVisibility\";\n})(ReferenceType || (ReferenceType = {}));\nexport function getNodeAtOffset(node, offset) {\n    var candidate = null;\n    if (!node || offset < node.offset || offset > node.end) {\n        return null;\n    }\n    // Find the shortest node at the position\n    node.accept(function (node) {\n        if (node.offset === -1 && node.length === -1) {\n            return true;\n        }\n        if (node.offset <= offset && node.end >= offset) {\n            if (!candidate) {\n                candidate = node;\n            }\n            else if (node.length <= candidate.length) {\n                candidate = node;\n            }\n            return true;\n        }\n        return false;\n    });\n    return candidate;\n}\nexport function getNodePath(node, offset) {\n    var candidate = getNodeAtOffset(node, offset);\n    var path = [];\n    while (candidate) {\n        path.unshift(candidate);\n        candidate = candidate.parent;\n    }\n    return path;\n}\nexport function getParentDeclaration(node) {\n    var decl = node.findParent(NodeType.Declaration);\n    var value = decl && decl.getValue();\n    if (value && value.encloses(node)) {\n        return decl;\n    }\n    return null;\n}\nvar Node = /** @class */ (function () {\n    function Node(offset, len, nodeType) {\n        if (offset === void 0) { offset = -1; }\n        if (len === void 0) { len = -1; }\n        this.parent = null;\n        this.offset = offset;\n        this.length = len;\n        if (nodeType) {\n            this.nodeType = nodeType;\n        }\n    }\n    Object.defineProperty(Node.prototype, \"end\", {\n        get: function () { return this.offset + this.length; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"type\", {\n        get: function () {\n            return this.nodeType || NodeType.Undefined;\n        },\n        set: function (type) {\n            this.nodeType = type;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.getTextProvider = function () {\n        var node = this;\n        while (node && !node.textProvider) {\n            node = node.parent;\n        }\n        if (node) {\n            return node.textProvider;\n        }\n        return function () { return 'unknown'; };\n    };\n    Node.prototype.getText = function () {\n        return this.getTextProvider()(this.offset, this.length);\n    };\n    Node.prototype.matches = function (str) {\n        return this.length === str.length && this.getTextProvider()(this.offset, this.length) === str;\n    };\n    Node.prototype.startsWith = function (str) {\n        return this.length >= str.length && this.getTextProvider()(this.offset, str.length) === str;\n    };\n    Node.prototype.endsWith = function (str) {\n        return this.length >= str.length && this.getTextProvider()(this.end - str.length, str.length) === str;\n    };\n    Node.prototype.accept = function (visitor) {\n        if (visitor(this) && this.children) {\n            for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                child.accept(visitor);\n            }\n        }\n    };\n    Node.prototype.acceptVisitor = function (visitor) {\n        this.accept(visitor.visitNode.bind(visitor));\n    };\n    Node.prototype.adoptChild = function (node, index) {\n        if (index === void 0) { index = -1; }\n        if (node.parent && node.parent.children) {\n            var idx = node.parent.children.indexOf(node);\n            if (idx >= 0) {\n                node.parent.children.splice(idx, 1);\n            }\n        }\n        node.parent = this;\n        var children = this.children;\n        if (!children) {\n            children = this.children = [];\n        }\n        if (index !== -1) {\n            children.splice(index, 0, node);\n        }\n        else {\n            children.push(node);\n        }\n        return node;\n    };\n    Node.prototype.attachTo = function (parent, index) {\n        if (index === void 0) { index = -1; }\n        if (parent) {\n            parent.adoptChild(this, index);\n        }\n        return this;\n    };\n    Node.prototype.collectIssues = function (results) {\n        if (this.issues) {\n            results.push.apply(results, this.issues);\n        }\n    };\n    Node.prototype.addIssue = function (issue) {\n        if (!this.issues) {\n            this.issues = [];\n        }\n        this.issues.push(issue);\n    };\n    Node.prototype.hasIssue = function (rule) {\n        return Array.isArray(this.issues) && this.issues.some(function (i) { return i.getRule() === rule; });\n    };\n    Node.prototype.isErroneous = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        if (this.issues && this.issues.length > 0) {\n            return true;\n        }\n        return recursive && Array.isArray(this.children) && this.children.some(function (c) { return c.isErroneous(true); });\n    };\n    Node.prototype.setNode = function (field, node, index) {\n        if (index === void 0) { index = -1; }\n        if (node) {\n            node.attachTo(this, index);\n            this[field] = node;\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.addChild = function (node) {\n        if (node) {\n            if (!this.children) {\n                this.children = [];\n            }\n            node.attachTo(this);\n            this.updateOffsetAndLength(node);\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.updateOffsetAndLength = function (node) {\n        if (node.offset < this.offset || this.offset === -1) {\n            this.offset = node.offset;\n        }\n        var nodeEnd = node.end;\n        if ((nodeEnd > this.end) || this.length === -1) {\n            this.length = nodeEnd - this.offset;\n        }\n    };\n    Node.prototype.hasChildren = function () {\n        return !!this.children && this.children.length > 0;\n    };\n    Node.prototype.getChildren = function () {\n        return this.children ? this.children.slice(0) : [];\n    };\n    Node.prototype.getChild = function (index) {\n        if (this.children && index < this.children.length) {\n            return this.children[index];\n        }\n        return null;\n    };\n    Node.prototype.addChildren = function (nodes) {\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            this.addChild(node);\n        }\n    };\n    Node.prototype.findFirstChildBeforeOffset = function (offset) {\n        if (this.children) {\n            var current = null;\n            for (var i = this.children.length - 1; i >= 0; i--) {\n                // iterate until we find a child that has a start offset smaller than the input offset\n                current = this.children[i];\n                if (current.offset <= offset) {\n                    return current;\n                }\n            }\n        }\n        return null;\n    };\n    Node.prototype.findChildAtOffset = function (offset, goDeep) {\n        var current = this.findFirstChildBeforeOffset(offset);\n        if (current && current.end >= offset) {\n            if (goDeep) {\n                return current.findChildAtOffset(offset, true) || current;\n            }\n            return current;\n        }\n        return null;\n    };\n    Node.prototype.encloses = function (candidate) {\n        return this.offset <= candidate.offset && this.offset + this.length >= candidate.offset + candidate.length;\n    };\n    Node.prototype.getParent = function () {\n        var result = this.parent;\n        while (result instanceof Nodelist) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.findParent = function (type) {\n        var result = this;\n        while (result && result.type !== type) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.findAParent = function () {\n        var types = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            types[_i] = arguments[_i];\n        }\n        var result = this;\n        while (result && !types.some(function (t) { return result.type === t; })) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.setData = function (key, value) {\n        if (!this.options) {\n            this.options = {};\n        }\n        this.options[key] = value;\n    };\n    Node.prototype.getData = function (key) {\n        if (!this.options || !this.options.hasOwnProperty(key)) {\n            return null;\n        }\n        return this.options[key];\n    };\n    return Node;\n}());\nexport { Node };\nvar Nodelist = /** @class */ (function (_super) {\n    __extends(Nodelist, _super);\n    function Nodelist(parent, index) {\n        if (index === void 0) { index = -1; }\n        var _this = _super.call(this, -1, -1) || this;\n        _this.attachTo(parent, index);\n        _this.offset = -1;\n        _this.length = -1;\n        return _this;\n    }\n    return Nodelist;\n}(Node));\nexport { Nodelist };\nvar Identifier = /** @class */ (function (_super) {\n    __extends(Identifier, _super);\n    function Identifier(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.isCustomProperty = false;\n        return _this;\n    }\n    Object.defineProperty(Identifier.prototype, \"type\", {\n        get: function () {\n            return NodeType.Identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Identifier.prototype.containsInterpolation = function () {\n        return this.hasChildren();\n    };\n    return Identifier;\n}(Node));\nexport { Identifier };\nvar Stylesheet = /** @class */ (function (_super) {\n    __extends(Stylesheet, _super);\n    function Stylesheet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Stylesheet.prototype, \"type\", {\n        get: function () {\n            return NodeType.Stylesheet;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Stylesheet;\n}(Node));\nexport { Stylesheet };\nvar Declarations = /** @class */ (function (_super) {\n    __extends(Declarations, _super);\n    function Declarations(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Declarations.prototype, \"type\", {\n        get: function () {\n            return NodeType.Declarations;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Declarations;\n}(Node));\nexport { Declarations };\nvar BodyDeclaration = /** @class */ (function (_super) {\n    __extends(BodyDeclaration, _super);\n    function BodyDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    BodyDeclaration.prototype.getDeclarations = function () {\n        return this.declarations;\n    };\n    BodyDeclaration.prototype.setDeclarations = function (decls) {\n        return this.setNode('declarations', decls);\n    };\n    return BodyDeclaration;\n}(Node));\nexport { BodyDeclaration };\nvar RuleSet = /** @class */ (function (_super) {\n    __extends(RuleSet, _super);\n    function RuleSet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(RuleSet.prototype, \"type\", {\n        get: function () {\n            return NodeType.Ruleset;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RuleSet.prototype.getSelectors = function () {\n        if (!this.selectors) {\n            this.selectors = new Nodelist(this);\n        }\n        return this.selectors;\n    };\n    RuleSet.prototype.isNested = function () {\n        return !!this.parent && this.parent.findParent(NodeType.Declarations) !== null;\n    };\n    return RuleSet;\n}(BodyDeclaration));\nexport { RuleSet };\nvar Selector = /** @class */ (function (_super) {\n    __extends(Selector, _super);\n    function Selector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Selector.prototype, \"type\", {\n        get: function () {\n            return NodeType.Selector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Selector;\n}(Node));\nexport { Selector };\nvar SimpleSelector = /** @class */ (function (_super) {\n    __extends(SimpleSelector, _super);\n    function SimpleSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(SimpleSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.SimpleSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SimpleSelector;\n}(Node));\nexport { SimpleSelector };\nvar AtApplyRule = /** @class */ (function (_super) {\n    __extends(AtApplyRule, _super);\n    function AtApplyRule(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(AtApplyRule.prototype, \"type\", {\n        get: function () {\n            return NodeType.AtApplyRule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AtApplyRule.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    AtApplyRule.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    AtApplyRule.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return AtApplyRule;\n}(Node));\nexport { AtApplyRule };\nvar AbstractDeclaration = /** @class */ (function (_super) {\n    __extends(AbstractDeclaration, _super);\n    function AbstractDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    return AbstractDeclaration;\n}(Node));\nexport { AbstractDeclaration };\nvar CustomPropertyDeclaration = /** @class */ (function (_super) {\n    __extends(CustomPropertyDeclaration, _super);\n    function CustomPropertyDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(CustomPropertyDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.CustomPropertyDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CustomPropertyDeclaration.prototype.setProperty = function (node) {\n        return this.setNode('property', node);\n    };\n    CustomPropertyDeclaration.prototype.getProperty = function () {\n        return this.property;\n    };\n    CustomPropertyDeclaration.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    CustomPropertyDeclaration.prototype.getValue = function () {\n        return this.value;\n    };\n    CustomPropertyDeclaration.prototype.setPropertySet = function (value) {\n        return this.setNode('propertySet', value);\n    };\n    CustomPropertyDeclaration.prototype.getPropertySet = function () {\n        return this.propertySet;\n    };\n    return CustomPropertyDeclaration;\n}(AbstractDeclaration));\nexport { CustomPropertyDeclaration };\nvar CustomPropertySet = /** @class */ (function (_super) {\n    __extends(CustomPropertySet, _super);\n    function CustomPropertySet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(CustomPropertySet.prototype, \"type\", {\n        get: function () {\n            return NodeType.CustomPropertySet;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CustomPropertySet;\n}(BodyDeclaration));\nexport { CustomPropertySet };\nvar Declaration = /** @class */ (function (_super) {\n    __extends(Declaration, _super);\n    function Declaration(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.property = null;\n        return _this;\n    }\n    Object.defineProperty(Declaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.Declaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Declaration.prototype.setProperty = function (node) {\n        return this.setNode('property', node);\n    };\n    Declaration.prototype.getProperty = function () {\n        return this.property;\n    };\n    Declaration.prototype.getFullPropertyName = function () {\n        var propertyName = this.property ? this.property.getName() : 'unknown';\n        if (this.parent instanceof Declarations && this.parent.getParent() instanceof NestedProperties) {\n            var parentDecl = this.parent.getParent().getParent();\n            if (parentDecl instanceof Declaration) {\n                return parentDecl.getFullPropertyName() + propertyName;\n            }\n        }\n        return propertyName;\n    };\n    Declaration.prototype.getNonPrefixedPropertyName = function () {\n        var propertyName = this.getFullPropertyName();\n        if (propertyName && propertyName.charAt(0) === '-') {\n            var vendorPrefixEnd = propertyName.indexOf('-', 1);\n            if (vendorPrefixEnd !== -1) {\n                return propertyName.substring(vendorPrefixEnd + 1);\n            }\n        }\n        return propertyName;\n    };\n    Declaration.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    Declaration.prototype.getValue = function () {\n        return this.value;\n    };\n    Declaration.prototype.setNestedProperties = function (value) {\n        return this.setNode('nestedProperties', value);\n    };\n    Declaration.prototype.getNestedProperties = function () {\n        return this.nestedProperties;\n    };\n    return Declaration;\n}(AbstractDeclaration));\nexport { Declaration };\nvar Property = /** @class */ (function (_super) {\n    __extends(Property, _super);\n    function Property(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Property.prototype, \"type\", {\n        get: function () {\n            return NodeType.Property;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Property.prototype.setIdentifier = function (value) {\n        return this.setNode('identifier', value);\n    };\n    Property.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Property.prototype.getName = function () {\n        return trim(this.getText(), /[_\\+]+$/); /* +_: less merge */\n    };\n    Property.prototype.isCustomProperty = function () {\n        return !!this.identifier && this.identifier.isCustomProperty;\n    };\n    return Property;\n}(Node));\nexport { Property };\nvar Invocation = /** @class */ (function (_super) {\n    __extends(Invocation, _super);\n    function Invocation(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Invocation.prototype, \"type\", {\n        get: function () {\n            return NodeType.Invocation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Invocation.prototype.getArguments = function () {\n        if (!this.arguments) {\n            this.arguments = new Nodelist(this);\n        }\n        return this.arguments;\n    };\n    return Invocation;\n}(Node));\nexport { Invocation };\nvar Function = /** @class */ (function (_super) {\n    __extends(Function, _super);\n    function Function(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Function.prototype, \"type\", {\n        get: function () {\n            return NodeType.Function;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Function.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Function.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Function.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return Function;\n}(Invocation));\nexport { Function };\nvar FunctionParameter = /** @class */ (function (_super) {\n    __extends(FunctionParameter, _super);\n    function FunctionParameter(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionParameter.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionParameter;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionParameter.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionParameter.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionParameter.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionParameter.prototype.setDefaultValue = function (node) {\n        return this.setNode('defaultValue', node, 0);\n    };\n    FunctionParameter.prototype.getDefaultValue = function () {\n        return this.defaultValue;\n    };\n    return FunctionParameter;\n}(Node));\nexport { FunctionParameter };\nvar FunctionArgument = /** @class */ (function (_super) {\n    __extends(FunctionArgument, _super);\n    function FunctionArgument(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionArgument.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionArgument;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionArgument.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionArgument.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionArgument.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionArgument.prototype.setValue = function (node) {\n        return this.setNode('value', node, 0);\n    };\n    FunctionArgument.prototype.getValue = function () {\n        return this.value;\n    };\n    return FunctionArgument;\n}(Node));\nexport { FunctionArgument };\nvar IfStatement = /** @class */ (function (_super) {\n    __extends(IfStatement, _super);\n    function IfStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(IfStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.If;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IfStatement.prototype.setExpression = function (node) {\n        return this.setNode('expression', node, 0);\n    };\n    IfStatement.prototype.setElseClause = function (elseClause) {\n        return this.setNode('elseClause', elseClause);\n    };\n    return IfStatement;\n}(BodyDeclaration));\nexport { IfStatement };\nvar ForStatement = /** @class */ (function (_super) {\n    __extends(ForStatement, _super);\n    function ForStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ForStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.For;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ForStatement.prototype.setVariable = function (node) {\n        return this.setNode('variable', node, 0);\n    };\n    return ForStatement;\n}(BodyDeclaration));\nexport { ForStatement };\nvar EachStatement = /** @class */ (function (_super) {\n    __extends(EachStatement, _super);\n    function EachStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(EachStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.Each;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EachStatement.prototype.getVariables = function () {\n        if (!this.variables) {\n            this.variables = new Nodelist(this);\n        }\n        return this.variables;\n    };\n    return EachStatement;\n}(BodyDeclaration));\nexport { EachStatement };\nvar WhileStatement = /** @class */ (function (_super) {\n    __extends(WhileStatement, _super);\n    function WhileStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(WhileStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.While;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return WhileStatement;\n}(BodyDeclaration));\nexport { WhileStatement };\nvar ElseStatement = /** @class */ (function (_super) {\n    __extends(ElseStatement, _super);\n    function ElseStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ElseStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.Else;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ElseStatement;\n}(BodyDeclaration));\nexport { ElseStatement };\nvar FunctionDeclaration = /** @class */ (function (_super) {\n    __extends(FunctionDeclaration, _super);\n    function FunctionDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionDeclaration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionDeclaration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionDeclaration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionDeclaration.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    return FunctionDeclaration;\n}(BodyDeclaration));\nexport { FunctionDeclaration };\nvar ViewPort = /** @class */ (function (_super) {\n    __extends(ViewPort, _super);\n    function ViewPort(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ViewPort.prototype, \"type\", {\n        get: function () {\n            return NodeType.ViewPort;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ViewPort;\n}(BodyDeclaration));\nexport { ViewPort };\nvar FontFace = /** @class */ (function (_super) {\n    __extends(FontFace, _super);\n    function FontFace(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FontFace.prototype, \"type\", {\n        get: function () {\n            return NodeType.FontFace;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FontFace;\n}(BodyDeclaration));\nexport { FontFace };\nvar NestedProperties = /** @class */ (function (_super) {\n    __extends(NestedProperties, _super);\n    function NestedProperties(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(NestedProperties.prototype, \"type\", {\n        get: function () {\n            return NodeType.NestedProperties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NestedProperties;\n}(BodyDeclaration));\nexport { NestedProperties };\nvar Keyframe = /** @class */ (function (_super) {\n    __extends(Keyframe, _super);\n    function Keyframe(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Keyframe.prototype, \"type\", {\n        get: function () {\n            return NodeType.Keyframe;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Keyframe.prototype.setKeyword = function (keyword) {\n        return this.setNode('keyword', keyword, 0);\n    };\n    Keyframe.prototype.getKeyword = function () {\n        return this.keyword;\n    };\n    Keyframe.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Keyframe.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Keyframe.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return Keyframe;\n}(BodyDeclaration));\nexport { Keyframe };\nvar KeyframeSelector = /** @class */ (function (_super) {\n    __extends(KeyframeSelector, _super);\n    function KeyframeSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(KeyframeSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.KeyframeSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return KeyframeSelector;\n}(BodyDeclaration));\nexport { KeyframeSelector };\nvar Import = /** @class */ (function (_super) {\n    __extends(Import, _super);\n    function Import(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Import.prototype, \"type\", {\n        get: function () {\n            return NodeType.Import;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Import.prototype.setMedialist = function (node) {\n        if (node) {\n            node.attachTo(this);\n            return true;\n        }\n        return false;\n    };\n    return Import;\n}(Node));\nexport { Import };\nvar Use = /** @class */ (function (_super) {\n    __extends(Use, _super);\n    function Use() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Use.prototype, \"type\", {\n        get: function () {\n            return NodeType.Use;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Use.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    Use.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Use.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Use;\n}(Node));\nexport { Use };\nvar ModuleConfiguration = /** @class */ (function (_super) {\n    __extends(ModuleConfiguration, _super);\n    function ModuleConfiguration() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ModuleConfiguration.prototype, \"type\", {\n        get: function () {\n            return NodeType.ModuleConfiguration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ModuleConfiguration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    ModuleConfiguration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    ModuleConfiguration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    ModuleConfiguration.prototype.setValue = function (node) {\n        return this.setNode('value', node, 0);\n    };\n    ModuleConfiguration.prototype.getValue = function () {\n        return this.value;\n    };\n    return ModuleConfiguration;\n}(Node));\nexport { ModuleConfiguration };\nvar Forward = /** @class */ (function (_super) {\n    __extends(Forward, _super);\n    function Forward() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Forward.prototype, \"type\", {\n        get: function () {\n            return NodeType.Forward;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Forward.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Forward.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Forward;\n}(Node));\nexport { Forward };\nvar ForwardVisibility = /** @class */ (function (_super) {\n    __extends(ForwardVisibility, _super);\n    function ForwardVisibility() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ForwardVisibility.prototype, \"type\", {\n        get: function () {\n            return NodeType.ForwardVisibility;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ForwardVisibility.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    ForwardVisibility.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return ForwardVisibility;\n}(Node));\nexport { ForwardVisibility };\nvar Namespace = /** @class */ (function (_super) {\n    __extends(Namespace, _super);\n    function Namespace(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Namespace.prototype, \"type\", {\n        get: function () {\n            return NodeType.Namespace;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Namespace;\n}(Node));\nexport { Namespace };\nvar Media = /** @class */ (function (_super) {\n    __extends(Media, _super);\n    function Media(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Media.prototype, \"type\", {\n        get: function () {\n            return NodeType.Media;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Media;\n}(BodyDeclaration));\nexport { Media };\nvar Supports = /** @class */ (function (_super) {\n    __extends(Supports, _super);\n    function Supports(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Supports.prototype, \"type\", {\n        get: function () {\n            return NodeType.Supports;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Supports;\n}(BodyDeclaration));\nexport { Supports };\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Document.prototype, \"type\", {\n        get: function () {\n            return NodeType.Document;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Document;\n}(BodyDeclaration));\nexport { Document };\nvar Medialist = /** @class */ (function (_super) {\n    __extends(Medialist, _super);\n    function Medialist(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Medialist.prototype.getMediums = function () {\n        if (!this.mediums) {\n            this.mediums = new Nodelist(this);\n        }\n        return this.mediums;\n    };\n    return Medialist;\n}(Node));\nexport { Medialist };\nvar MediaQuery = /** @class */ (function (_super) {\n    __extends(MediaQuery, _super);\n    function MediaQuery(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MediaQuery.prototype, \"type\", {\n        get: function () {\n            return NodeType.MediaQuery;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MediaQuery;\n}(Node));\nexport { MediaQuery };\nvar SupportsCondition = /** @class */ (function (_super) {\n    __extends(SupportsCondition, _super);\n    function SupportsCondition(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(SupportsCondition.prototype, \"type\", {\n        get: function () {\n            return NodeType.SupportsCondition;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SupportsCondition;\n}(Node));\nexport { SupportsCondition };\nvar Page = /** @class */ (function (_super) {\n    __extends(Page, _super);\n    function Page(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Page.prototype, \"type\", {\n        get: function () {\n            return NodeType.Page;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Page;\n}(BodyDeclaration));\nexport { Page };\nvar PageBoxMarginBox = /** @class */ (function (_super) {\n    __extends(PageBoxMarginBox, _super);\n    function PageBoxMarginBox(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(PageBoxMarginBox.prototype, \"type\", {\n        get: function () {\n            return NodeType.PageBoxMarginBox;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PageBoxMarginBox;\n}(BodyDeclaration));\nexport { PageBoxMarginBox };\nvar Expression = /** @class */ (function (_super) {\n    __extends(Expression, _super);\n    function Expression(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Expression.prototype, \"type\", {\n        get: function () {\n            return NodeType.Expression;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Expression;\n}(Node));\nexport { Expression };\nvar BinaryExpression = /** @class */ (function (_super) {\n    __extends(BinaryExpression, _super);\n    function BinaryExpression(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(BinaryExpression.prototype, \"type\", {\n        get: function () {\n            return NodeType.BinaryExpression;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BinaryExpression.prototype.setLeft = function (left) {\n        return this.setNode('left', left);\n    };\n    BinaryExpression.prototype.getLeft = function () {\n        return this.left;\n    };\n    BinaryExpression.prototype.setRight = function (right) {\n        return this.setNode('right', right);\n    };\n    BinaryExpression.prototype.getRight = function () {\n        return this.right;\n    };\n    BinaryExpression.prototype.setOperator = function (value) {\n        return this.setNode('operator', value);\n    };\n    BinaryExpression.prototype.getOperator = function () {\n        return this.operator;\n    };\n    return BinaryExpression;\n}(Node));\nexport { BinaryExpression };\nvar Term = /** @class */ (function (_super) {\n    __extends(Term, _super);\n    function Term(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Term.prototype, \"type\", {\n        get: function () {\n            return NodeType.Term;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Term.prototype.setOperator = function (value) {\n        return this.setNode('operator', value);\n    };\n    Term.prototype.getOperator = function () {\n        return this.operator;\n    };\n    Term.prototype.setExpression = function (value) {\n        return this.setNode('expression', value);\n    };\n    Term.prototype.getExpression = function () {\n        return this.expression;\n    };\n    return Term;\n}(Node));\nexport { Term };\nvar AttributeSelector = /** @class */ (function (_super) {\n    __extends(AttributeSelector, _super);\n    function AttributeSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(AttributeSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.AttributeSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AttributeSelector.prototype.setNamespacePrefix = function (value) {\n        return this.setNode('namespacePrefix', value);\n    };\n    AttributeSelector.prototype.getNamespacePrefix = function () {\n        return this.namespacePrefix;\n    };\n    AttributeSelector.prototype.setIdentifier = function (value) {\n        return this.setNode('identifier', value);\n    };\n    AttributeSelector.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    AttributeSelector.prototype.setOperator = function (operator) {\n        return this.setNode('operator', operator);\n    };\n    AttributeSelector.prototype.getOperator = function () {\n        return this.operator;\n    };\n    AttributeSelector.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    AttributeSelector.prototype.getValue = function () {\n        return this.value;\n    };\n    return AttributeSelector;\n}(Node));\nexport { AttributeSelector };\nvar Operator = /** @class */ (function (_super) {\n    __extends(Operator, _super);\n    function Operator(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Operator.prototype, \"type\", {\n        get: function () {\n            return NodeType.Operator;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Operator;\n}(Node));\nexport { Operator };\nvar HexColorValue = /** @class */ (function (_super) {\n    __extends(HexColorValue, _super);\n    function HexColorValue(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(HexColorValue.prototype, \"type\", {\n        get: function () {\n            return NodeType.HexColorValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return HexColorValue;\n}(Node));\nexport { HexColorValue };\nvar _dot = '.'.charCodeAt(0), _0 = '0'.charCodeAt(0), _9 = '9'.charCodeAt(0);\nvar NumericValue = /** @class */ (function (_super) {\n    __extends(NumericValue, _super);\n    function NumericValue(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(NumericValue.prototype, \"type\", {\n        get: function () {\n            return NodeType.NumericValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NumericValue.prototype.getValue = function () {\n        var raw = this.getText();\n        var unitIdx = 0;\n        var code;\n        for (var i = 0, len = raw.length; i < len; i++) {\n            code = raw.charCodeAt(i);\n            if (!(_0 <= code && code <= _9 || code === _dot)) {\n                break;\n            }\n            unitIdx += 1;\n        }\n        return {\n            value: raw.substring(0, unitIdx),\n            unit: unitIdx < raw.length ? raw.substring(unitIdx) : undefined\n        };\n    };\n    return NumericValue;\n}(Node));\nexport { NumericValue };\nvar VariableDeclaration = /** @class */ (function (_super) {\n    __extends(VariableDeclaration, _super);\n    function VariableDeclaration(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.variable = null;\n        _this.value = null;\n        _this.needsSemicolon = true;\n        return _this;\n    }\n    Object.defineProperty(VariableDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.VariableDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    VariableDeclaration.prototype.setVariable = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.variable = node;\n            return true;\n        }\n        return false;\n    };\n    VariableDeclaration.prototype.getVariable = function () {\n        return this.variable;\n    };\n    VariableDeclaration.prototype.getName = function () {\n        return this.variable ? this.variable.getName() : '';\n    };\n    VariableDeclaration.prototype.setValue = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.value = node;\n            return true;\n        }\n        return false;\n    };\n    VariableDeclaration.prototype.getValue = function () {\n        return this.value;\n    };\n    return VariableDeclaration;\n}(AbstractDeclaration));\nexport { VariableDeclaration };\nvar Interpolation = /** @class */ (function (_super) {\n    __extends(Interpolation, _super);\n    // private _interpolations: void; // workaround for https://github.com/Microsoft/TypeScript/issues/18276\n    function Interpolation(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Interpolation.prototype, \"type\", {\n        get: function () {\n            return NodeType.Interpolation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Interpolation;\n}(Node));\nexport { Interpolation };\nvar Variable = /** @class */ (function (_super) {\n    __extends(Variable, _super);\n    function Variable(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Variable.prototype, \"type\", {\n        get: function () {\n            return NodeType.VariableName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Variable.prototype.getName = function () {\n        return this.getText();\n    };\n    return Variable;\n}(Node));\nexport { Variable };\nvar ExtendsReference = /** @class */ (function (_super) {\n    __extends(ExtendsReference, _super);\n    function ExtendsReference(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ExtendsReference.prototype, \"type\", {\n        get: function () {\n            return NodeType.ExtendsReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ExtendsReference.prototype.getSelectors = function () {\n        if (!this.selectors) {\n            this.selectors = new Nodelist(this);\n        }\n        return this.selectors;\n    };\n    return ExtendsReference;\n}(Node));\nexport { ExtendsReference };\nvar MixinContentReference = /** @class */ (function (_super) {\n    __extends(MixinContentReference, _super);\n    function MixinContentReference(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinContentReference.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinContentReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinContentReference.prototype.getArguments = function () {\n        if (!this.arguments) {\n            this.arguments = new Nodelist(this);\n        }\n        return this.arguments;\n    };\n    return MixinContentReference;\n}(Node));\nexport { MixinContentReference };\nvar MixinContentDeclaration = /** @class */ (function (_super) {\n    __extends(MixinContentDeclaration, _super);\n    function MixinContentDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinContentDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinContentReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinContentDeclaration.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    return MixinContentDeclaration;\n}(BodyDeclaration));\nexport { MixinContentDeclaration };\nvar MixinReference = /** @class */ (function (_super) {\n    __extends(MixinReference, _super);\n    function MixinReference(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinReference.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinReference.prototype.getNamespaces = function () {\n        if (!this.namespaces) {\n            this.namespaces = new Nodelist(this);\n        }\n        return this.namespaces;\n    };\n    MixinReference.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    MixinReference.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    MixinReference.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    MixinReference.prototype.getArguments = function () {\n        if (!this.arguments) {\n            this.arguments = new Nodelist(this);\n        }\n        return this.arguments;\n    };\n    MixinReference.prototype.setContent = function (node) {\n        return this.setNode('content', node);\n    };\n    MixinReference.prototype.getContent = function () {\n        return this.content;\n    };\n    return MixinReference;\n}(Node));\nexport { MixinReference };\nvar MixinDeclaration = /** @class */ (function (_super) {\n    __extends(MixinDeclaration, _super);\n    function MixinDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinDeclaration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    MixinDeclaration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    MixinDeclaration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    MixinDeclaration.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    MixinDeclaration.prototype.setGuard = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.guard = node;\n        }\n        return false;\n    };\n    return MixinDeclaration;\n}(BodyDeclaration));\nexport { MixinDeclaration };\nvar UnknownAtRule = /** @class */ (function (_super) {\n    __extends(UnknownAtRule, _super);\n    function UnknownAtRule(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(UnknownAtRule.prototype, \"type\", {\n        get: function () {\n            return NodeType.UnknownAtRule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    UnknownAtRule.prototype.setAtRuleName = function (atRuleName) {\n        this.atRuleName = atRuleName;\n    };\n    UnknownAtRule.prototype.getAtRuleName = function () {\n        return this.atRuleName;\n    };\n    return UnknownAtRule;\n}(BodyDeclaration));\nexport { UnknownAtRule };\nvar ListEntry = /** @class */ (function (_super) {\n    __extends(ListEntry, _super);\n    function ListEntry() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ListEntry.prototype, \"type\", {\n        get: function () {\n            return NodeType.ListEntry;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ListEntry.prototype.setKey = function (node) {\n        return this.setNode('key', node, 0);\n    };\n    ListEntry.prototype.setValue = function (node) {\n        return this.setNode('value', node, 1);\n    };\n    return ListEntry;\n}(Node));\nexport { ListEntry };\nvar LessGuard = /** @class */ (function (_super) {\n    __extends(LessGuard, _super);\n    function LessGuard() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LessGuard.prototype.getConditions = function () {\n        if (!this.conditions) {\n            this.conditions = new Nodelist(this);\n        }\n        return this.conditions;\n    };\n    return LessGuard;\n}(Node));\nexport { LessGuard };\nvar GuardCondition = /** @class */ (function (_super) {\n    __extends(GuardCondition, _super);\n    function GuardCondition() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GuardCondition.prototype.setVariable = function (node) {\n        return this.setNode('variable', node);\n    };\n    return GuardCondition;\n}(Node));\nexport { GuardCondition };\nvar Module = /** @class */ (function (_super) {\n    __extends(Module, _super);\n    function Module() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Module.prototype, \"type\", {\n        get: function () {\n            return NodeType.Module;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Module.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Module.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Module;\n}(Node));\nexport { Module };\nexport var Level;\n(function (Level) {\n    Level[Level[\"Ignore\"] = 1] = \"Ignore\";\n    Level[Level[\"Warning\"] = 2] = \"Warning\";\n    Level[Level[\"Error\"] = 4] = \"Error\";\n})(Level || (Level = {}));\nvar Marker = /** @class */ (function () {\n    function Marker(node, rule, level, message, offset, length) {\n        if (offset === void 0) { offset = node.offset; }\n        if (length === void 0) { length = node.length; }\n        this.node = node;\n        this.rule = rule;\n        this.level = level;\n        this.message = message || rule.message;\n        this.offset = offset;\n        this.length = length;\n    }\n    Marker.prototype.getRule = function () {\n        return this.rule;\n    };\n    Marker.prototype.getLevel = function () {\n        return this.level;\n    };\n    Marker.prototype.getOffset = function () {\n        return this.offset;\n    };\n    Marker.prototype.getLength = function () {\n        return this.length;\n    };\n    Marker.prototype.getNode = function () {\n        return this.node;\n    };\n    Marker.prototype.getMessage = function () {\n        return this.message;\n    };\n    return Marker;\n}());\nexport { Marker };\n/*\nexport class DefaultVisitor implements IVisitor {\n\n    public visitNode(node:Node):boolean {\n        switch (node.type) {\n            case NodeType.Stylesheet:\n                return this.visitStylesheet(<Stylesheet> node);\n            case NodeType.FontFace:\n                return this.visitFontFace(<FontFace> node);\n            case NodeType.Ruleset:\n                return this.visitRuleSet(<RuleSet> node);\n            case NodeType.Selector:\n                return this.visitSelector(<Selector> node);\n            case NodeType.SimpleSelector:\n                return this.visitSimpleSelector(<SimpleSelector> node);\n            case NodeType.Declaration:\n                return this.visitDeclaration(<Declaration> node);\n            case NodeType.Function:\n                return this.visitFunction(<Function> node);\n            case NodeType.FunctionDeclaration:\n                return this.visitFunctionDeclaration(<FunctionDeclaration> node);\n            case NodeType.FunctionParameter:\n                return this.visitFunctionParameter(<FunctionParameter> node);\n            case NodeType.FunctionArgument:\n                return this.visitFunctionArgument(<FunctionArgument> node);\n            case NodeType.Term:\n                return this.visitTerm(<Term> node);\n            case NodeType.Declaration:\n                return this.visitExpression(<Expression> node);\n            case NodeType.NumericValue:\n                return this.visitNumericValue(<NumericValue> node);\n            case NodeType.Page:\n                return this.visitPage(<Page> node);\n            case NodeType.PageBoxMarginBox:\n                return this.visitPageBoxMarginBox(<PageBoxMarginBox> node);\n            case NodeType.Property:\n                return this.visitProperty(<Property> node);\n            case NodeType.NumericValue:\n                return this.visitNodelist(<Nodelist> node);\n            case NodeType.Import:\n                return this.visitImport(<Import> node);\n            case NodeType.Namespace:\n                return this.visitNamespace(<Namespace> node);\n            case NodeType.Keyframe:\n                return this.visitKeyframe(<Keyframe> node);\n            case NodeType.KeyframeSelector:\n                return this.visitKeyframeSelector(<KeyframeSelector> node);\n            case NodeType.MixinDeclaration:\n                return this.visitMixinDeclaration(<MixinDeclaration> node);\n            case NodeType.MixinReference:\n                return this.visitMixinReference(<MixinReference> node);\n            case NodeType.Variable:\n                return this.visitVariable(<Variable> node);\n            case NodeType.VariableDeclaration:\n                return this.visitVariableDeclaration(<VariableDeclaration> node);\n        }\n        return this.visitUnknownNode(node);\n    }\n\n    public visitFontFace(node:FontFace):boolean {\n        return true;\n    }\n\n    public visitKeyframe(node:Keyframe):boolean {\n        return true;\n    }\n\n    public visitKeyframeSelector(node:KeyframeSelector):boolean {\n        return true;\n    }\n\n    public visitStylesheet(node:Stylesheet):boolean {\n        return true;\n    }\n\n    public visitProperty(Node:Property):boolean {\n        return true;\n    }\n\n    public visitRuleSet(node:RuleSet):boolean {\n        return true;\n    }\n\n    public visitSelector(node:Selector):boolean {\n        return true;\n    }\n\n    public visitSimpleSelector(node:SimpleSelector):boolean {\n        return true;\n    }\n\n    public visitDeclaration(node:Declaration):boolean {\n        return true;\n    }\n\n    public visitFunction(node:Function):boolean {\n        return true;\n    }\n\n    public visitFunctionDeclaration(node:FunctionDeclaration):boolean {\n        return true;\n    }\n\n    public visitInvocation(node:Invocation):boolean {\n        return true;\n    }\n\n    public visitTerm(node:Term):boolean {\n        return true;\n    }\n\n    public visitImport(node:Import):boolean {\n        return true;\n    }\n\n    public visitNamespace(node:Namespace):boolean {\n        return true;\n    }\n\n    public visitExpression(node:Expression):boolean {\n        return true;\n    }\n\n    public visitNumericValue(node:NumericValue):boolean {\n        return true;\n    }\n\n    public visitPage(node:Page):boolean {\n        return true;\n    }\n\n    public visitPageBoxMarginBox(node:PageBoxMarginBox):boolean {\n        return true;\n    }\n\n    public visitNodelist(node:Nodelist):boolean {\n        return true;\n    }\n\n    public visitVariableDeclaration(node:VariableDeclaration):boolean {\n        return true;\n    }\n\n    public visitVariable(node:Variable):boolean {\n        return true;\n    }\n\n    public visitMixinDeclaration(node:MixinDeclaration):boolean {\n        return true;\n    }\n\n    public visitMixinReference(node:MixinReference):boolean {\n        return true;\n    }\n\n    public visitUnknownNode(node:Node):boolean {\n        return true;\n    }\n}\n*/\nvar ParseErrorCollector = /** @class */ (function () {\n    function ParseErrorCollector() {\n        this.entries = [];\n    }\n    ParseErrorCollector.entries = function (node) {\n        var visitor = new ParseErrorCollector();\n        node.acceptVisitor(visitor);\n        return visitor.entries;\n    };\n    ParseErrorCollector.prototype.visitNode = function (node) {\n        if (node.isErroneous()) {\n            node.collectIssues(this.entries);\n        }\n        return true;\n    };\n    return ParseErrorCollector;\n}());\nexport { ParseErrorCollector };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport var TokenType;\n(function (TokenType) {\n    TokenType[TokenType[\"Ident\"] = 0] = \"Ident\";\n    TokenType[TokenType[\"AtKeyword\"] = 1] = \"AtKeyword\";\n    TokenType[TokenType[\"String\"] = 2] = \"String\";\n    TokenType[TokenType[\"BadString\"] = 3] = \"BadString\";\n    TokenType[TokenType[\"UnquotedString\"] = 4] = \"UnquotedString\";\n    TokenType[TokenType[\"Hash\"] = 5] = \"Hash\";\n    TokenType[TokenType[\"Num\"] = 6] = \"Num\";\n    TokenType[TokenType[\"Percentage\"] = 7] = \"Percentage\";\n    TokenType[TokenType[\"Dimension\"] = 8] = \"Dimension\";\n    TokenType[TokenType[\"UnicodeRange\"] = 9] = \"UnicodeRange\";\n    TokenType[TokenType[\"CDO\"] = 10] = \"CDO\";\n    TokenType[TokenType[\"CDC\"] = 11] = \"CDC\";\n    TokenType[TokenType[\"Colon\"] = 12] = \"Colon\";\n    TokenType[TokenType[\"SemiColon\"] = 13] = \"SemiColon\";\n    TokenType[TokenType[\"CurlyL\"] = 14] = \"CurlyL\";\n    TokenType[TokenType[\"CurlyR\"] = 15] = \"CurlyR\";\n    TokenType[TokenType[\"ParenthesisL\"] = 16] = \"ParenthesisL\";\n    TokenType[TokenType[\"ParenthesisR\"] = 17] = \"ParenthesisR\";\n    TokenType[TokenType[\"BracketL\"] = 18] = \"BracketL\";\n    TokenType[TokenType[\"BracketR\"] = 19] = \"BracketR\";\n    TokenType[TokenType[\"Whitespace\"] = 20] = \"Whitespace\";\n    TokenType[TokenType[\"Includes\"] = 21] = \"Includes\";\n    TokenType[TokenType[\"Dashmatch\"] = 22] = \"Dashmatch\";\n    TokenType[TokenType[\"SubstringOperator\"] = 23] = \"SubstringOperator\";\n    TokenType[TokenType[\"PrefixOperator\"] = 24] = \"PrefixOperator\";\n    TokenType[TokenType[\"SuffixOperator\"] = 25] = \"SuffixOperator\";\n    TokenType[TokenType[\"Delim\"] = 26] = \"Delim\";\n    TokenType[TokenType[\"EMS\"] = 27] = \"EMS\";\n    TokenType[TokenType[\"EXS\"] = 28] = \"EXS\";\n    TokenType[TokenType[\"Length\"] = 29] = \"Length\";\n    TokenType[TokenType[\"Angle\"] = 30] = \"Angle\";\n    TokenType[TokenType[\"Time\"] = 31] = \"Time\";\n    TokenType[TokenType[\"Freq\"] = 32] = \"Freq\";\n    TokenType[TokenType[\"Exclamation\"] = 33] = \"Exclamation\";\n    TokenType[TokenType[\"Resolution\"] = 34] = \"Resolution\";\n    TokenType[TokenType[\"Comma\"] = 35] = \"Comma\";\n    TokenType[TokenType[\"Charset\"] = 36] = \"Charset\";\n    TokenType[TokenType[\"EscapedJavaScript\"] = 37] = \"EscapedJavaScript\";\n    TokenType[TokenType[\"BadEscapedJavaScript\"] = 38] = \"BadEscapedJavaScript\";\n    TokenType[TokenType[\"Comment\"] = 39] = \"Comment\";\n    TokenType[TokenType[\"SingleLineComment\"] = 40] = \"SingleLineComment\";\n    TokenType[TokenType[\"EOF\"] = 41] = \"EOF\";\n    TokenType[TokenType[\"CustomToken\"] = 42] = \"CustomToken\";\n})(TokenType || (TokenType = {}));\nvar MultiLineStream = /** @class */ (function () {\n    function MultiLineStream(source) {\n        this.source = source;\n        this.len = source.length;\n        this.position = 0;\n    }\n    MultiLineStream.prototype.substring = function (from, to) {\n        if (to === void 0) { to = this.position; }\n        return this.source.substring(from, to);\n    };\n    MultiLineStream.prototype.eos = function () {\n        return this.len <= this.position;\n    };\n    MultiLineStream.prototype.pos = function () {\n        return this.position;\n    };\n    MultiLineStream.prototype.goBackTo = function (pos) {\n        this.position = pos;\n    };\n    MultiLineStream.prototype.goBack = function (n) {\n        this.position -= n;\n    };\n    MultiLineStream.prototype.advance = function (n) {\n        this.position += n;\n    };\n    MultiLineStream.prototype.nextChar = function () {\n        return this.source.charCodeAt(this.position++) || 0;\n    };\n    MultiLineStream.prototype.peekChar = function (n) {\n        if (n === void 0) { n = 0; }\n        return this.source.charCodeAt(this.position + n) || 0;\n    };\n    MultiLineStream.prototype.lookbackChar = function (n) {\n        if (n === void 0) { n = 0; }\n        return this.source.charCodeAt(this.position - n) || 0;\n    };\n    MultiLineStream.prototype.advanceIfChar = function (ch) {\n        if (ch === this.source.charCodeAt(this.position)) {\n            this.position++;\n            return true;\n        }\n        return false;\n    };\n    MultiLineStream.prototype.advanceIfChars = function (ch) {\n        if (this.position + ch.length > this.source.length) {\n            return false;\n        }\n        var i = 0;\n        for (; i < ch.length; i++) {\n            if (this.source.charCodeAt(this.position + i) !== ch[i]) {\n                return false;\n            }\n        }\n        this.advance(i);\n        return true;\n    };\n    MultiLineStream.prototype.advanceWhileChar = function (condition) {\n        var posNow = this.position;\n        while (this.position < this.len && condition(this.source.charCodeAt(this.position))) {\n            this.position++;\n        }\n        return this.position - posNow;\n    };\n    return MultiLineStream;\n}());\nexport { MultiLineStream };\nvar _a = 'a'.charCodeAt(0);\nvar _f = 'f'.charCodeAt(0);\nvar _z = 'z'.charCodeAt(0);\nvar _A = 'A'.charCodeAt(0);\nvar _F = 'F'.charCodeAt(0);\nvar _Z = 'Z'.charCodeAt(0);\nvar _0 = '0'.charCodeAt(0);\nvar _9 = '9'.charCodeAt(0);\nvar _TLD = '~'.charCodeAt(0);\nvar _HAT = '^'.charCodeAt(0);\nvar _EQS = '='.charCodeAt(0);\nvar _PIP = '|'.charCodeAt(0);\nvar _MIN = '-'.charCodeAt(0);\nvar _USC = '_'.charCodeAt(0);\nvar _PRC = '%'.charCodeAt(0);\nvar _MUL = '*'.charCodeAt(0);\nvar _LPA = '('.charCodeAt(0);\nvar _RPA = ')'.charCodeAt(0);\nvar _LAN = '<'.charCodeAt(0);\nvar _RAN = '>'.charCodeAt(0);\nvar _ATS = '@'.charCodeAt(0);\nvar _HSH = '#'.charCodeAt(0);\nvar _DLR = '$'.charCodeAt(0);\nvar _BSL = '\\\\'.charCodeAt(0);\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _DQO = '\"'.charCodeAt(0);\nvar _SQO = '\\''.charCodeAt(0);\nvar _WSP = ' '.charCodeAt(0);\nvar _TAB = '\\t'.charCodeAt(0);\nvar _SEM = ';'.charCodeAt(0);\nvar _COL = ':'.charCodeAt(0);\nvar _CUL = '{'.charCodeAt(0);\nvar _CUR = '}'.charCodeAt(0);\nvar _BRL = '['.charCodeAt(0);\nvar _BRR = ']'.charCodeAt(0);\nvar _CMA = ','.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar _BNG = '!'.charCodeAt(0);\nvar staticTokenTable = {};\nstaticTokenTable[_SEM] = TokenType.SemiColon;\nstaticTokenTable[_COL] = TokenType.Colon;\nstaticTokenTable[_CUL] = TokenType.CurlyL;\nstaticTokenTable[_CUR] = TokenType.CurlyR;\nstaticTokenTable[_BRR] = TokenType.BracketR;\nstaticTokenTable[_BRL] = TokenType.BracketL;\nstaticTokenTable[_LPA] = TokenType.ParenthesisL;\nstaticTokenTable[_RPA] = TokenType.ParenthesisR;\nstaticTokenTable[_CMA] = TokenType.Comma;\nvar staticUnitTable = {};\nstaticUnitTable['em'] = TokenType.EMS;\nstaticUnitTable['ex'] = TokenType.EXS;\nstaticUnitTable['px'] = TokenType.Length;\nstaticUnitTable['cm'] = TokenType.Length;\nstaticUnitTable['mm'] = TokenType.Length;\nstaticUnitTable['in'] = TokenType.Length;\nstaticUnitTable['pt'] = TokenType.Length;\nstaticUnitTable['pc'] = TokenType.Length;\nstaticUnitTable['deg'] = TokenType.Angle;\nstaticUnitTable['rad'] = TokenType.Angle;\nstaticUnitTable['grad'] = TokenType.Angle;\nstaticUnitTable['ms'] = TokenType.Time;\nstaticUnitTable['s'] = TokenType.Time;\nstaticUnitTable['hz'] = TokenType.Freq;\nstaticUnitTable['khz'] = TokenType.Freq;\nstaticUnitTable['%'] = TokenType.Percentage;\nstaticUnitTable['fr'] = TokenType.Percentage;\nstaticUnitTable['dpi'] = TokenType.Resolution;\nstaticUnitTable['dpcm'] = TokenType.Resolution;\nvar Scanner = /** @class */ (function () {\n    function Scanner() {\n        this.stream = new MultiLineStream('');\n        this.ignoreComment = true;\n        this.ignoreWhitespace = true;\n        this.inURL = false;\n    }\n    Scanner.prototype.setSource = function (input) {\n        this.stream = new MultiLineStream(input);\n    };\n    Scanner.prototype.finishToken = function (offset, type, text) {\n        return {\n            offset: offset,\n            len: this.stream.pos() - offset,\n            type: type,\n            text: text || this.stream.substring(offset)\n        };\n    };\n    Scanner.prototype.substring = function (offset, len) {\n        return this.stream.substring(offset, offset + len);\n    };\n    Scanner.prototype.pos = function () {\n        return this.stream.pos();\n    };\n    Scanner.prototype.goBackTo = function (pos) {\n        this.stream.goBackTo(pos);\n    };\n    Scanner.prototype.scanUnquotedString = function () {\n        var offset = this.stream.pos();\n        var content = [];\n        if (this._unquotedString(content)) {\n            return this.finishToken(offset, TokenType.UnquotedString, content.join(''));\n        }\n        return null;\n    };\n    Scanner.prototype.scan = function () {\n        // processes all whitespaces and comments\n        var triviaToken = this.trivia();\n        if (triviaToken !== null) {\n            return triviaToken;\n        }\n        var offset = this.stream.pos();\n        // End of file/input\n        if (this.stream.eos()) {\n            return this.finishToken(offset, TokenType.EOF);\n        }\n        return this.scanNext(offset);\n    };\n    Scanner.prototype.scanNext = function (offset) {\n        // CDO <!--\n        if (this.stream.advanceIfChars([_LAN, _BNG, _MIN, _MIN])) {\n            return this.finishToken(offset, TokenType.CDO);\n        }\n        // CDC -->\n        if (this.stream.advanceIfChars([_MIN, _MIN, _RAN])) {\n            return this.finishToken(offset, TokenType.CDC);\n        }\n        var content = [];\n        if (this.ident(content)) {\n            return this.finishToken(offset, TokenType.Ident, content.join(''));\n        }\n        // at-keyword\n        if (this.stream.advanceIfChar(_ATS)) {\n            content = ['@'];\n            if (this._name(content)) {\n                var keywordText = content.join('');\n                if (keywordText === '@charset') {\n                    return this.finishToken(offset, TokenType.Charset, keywordText);\n                }\n                return this.finishToken(offset, TokenType.AtKeyword, keywordText);\n            }\n            else {\n                return this.finishToken(offset, TokenType.Delim);\n            }\n        }\n        // hash\n        if (this.stream.advanceIfChar(_HSH)) {\n            content = ['#'];\n            if (this._name(content)) {\n                return this.finishToken(offset, TokenType.Hash, content.join(''));\n            }\n            else {\n                return this.finishToken(offset, TokenType.Delim);\n            }\n        }\n        // Important\n        if (this.stream.advanceIfChar(_BNG)) {\n            return this.finishToken(offset, TokenType.Exclamation);\n        }\n        // Numbers\n        if (this._number()) {\n            var pos = this.stream.pos();\n            content = [this.stream.substring(offset, pos)];\n            if (this.stream.advanceIfChar(_PRC)) {\n                // Percentage 43%\n                return this.finishToken(offset, TokenType.Percentage);\n            }\n            else if (this.ident(content)) {\n                var dim = this.stream.substring(pos).toLowerCase();\n                var tokenType_1 = staticUnitTable[dim];\n                if (typeof tokenType_1 !== 'undefined') {\n                    // Known dimension 43px\n                    return this.finishToken(offset, tokenType_1, content.join(''));\n                }\n                else {\n                    // Unknown dimension 43ft\n                    return this.finishToken(offset, TokenType.Dimension, content.join(''));\n                }\n            }\n            return this.finishToken(offset, TokenType.Num);\n        }\n        // String, BadString\n        content = [];\n        var tokenType = this._string(content);\n        if (tokenType !== null) {\n            return this.finishToken(offset, tokenType, content.join(''));\n        }\n        // single character tokens\n        tokenType = staticTokenTable[this.stream.peekChar()];\n        if (typeof tokenType !== 'undefined') {\n            this.stream.advance(1);\n            return this.finishToken(offset, tokenType);\n        }\n        // includes ~=\n        if (this.stream.peekChar(0) === _TLD && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.Includes);\n        }\n        // DashMatch |=\n        if (this.stream.peekChar(0) === _PIP && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.Dashmatch);\n        }\n        // Substring operator *=\n        if (this.stream.peekChar(0) === _MUL && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.SubstringOperator);\n        }\n        // Substring operator ^=\n        if (this.stream.peekChar(0) === _HAT && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.PrefixOperator);\n        }\n        // Substring operator $=\n        if (this.stream.peekChar(0) === _DLR && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.SuffixOperator);\n        }\n        // Delim\n        this.stream.nextChar();\n        return this.finishToken(offset, TokenType.Delim);\n    };\n    Scanner.prototype.trivia = function () {\n        while (true) {\n            var offset = this.stream.pos();\n            if (this._whitespace()) {\n                if (!this.ignoreWhitespace) {\n                    return this.finishToken(offset, TokenType.Whitespace);\n                }\n            }\n            else if (this.comment()) {\n                if (!this.ignoreComment) {\n                    return this.finishToken(offset, TokenType.Comment);\n                }\n            }\n            else {\n                return null;\n            }\n        }\n    };\n    Scanner.prototype.comment = function () {\n        if (this.stream.advanceIfChars([_FSL, _MUL])) {\n            var success_1 = false, hot_1 = false;\n            this.stream.advanceWhileChar(function (ch) {\n                if (hot_1 && ch === _FSL) {\n                    success_1 = true;\n                    return false;\n                }\n                hot_1 = ch === _MUL;\n                return true;\n            });\n            if (success_1) {\n                this.stream.advance(1);\n            }\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._number = function () {\n        var npeek = 0, ch;\n        if (this.stream.peekChar() === _DOT) {\n            npeek = 1;\n        }\n        ch = this.stream.peekChar(npeek);\n        if (ch >= _0 && ch <= _9) {\n            this.stream.advance(npeek + 1);\n            this.stream.advanceWhileChar(function (ch) {\n                return ch >= _0 && ch <= _9 || npeek === 0 && ch === _DOT;\n            });\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._newline = function (result) {\n        var ch = this.stream.peekChar();\n        switch (ch) {\n            case _CAR:\n            case _LFD:\n            case _NWL:\n                this.stream.advance(1);\n                result.push(String.fromCharCode(ch));\n                if (ch === _CAR && this.stream.advanceIfChar(_NWL)) {\n                    result.push('\\n');\n                }\n                return true;\n        }\n        return false;\n    };\n    Scanner.prototype._escape = function (result, includeNewLines) {\n        var ch = this.stream.peekChar();\n        if (ch === _BSL) {\n            this.stream.advance(1);\n            ch = this.stream.peekChar();\n            var hexNumCount = 0;\n            while (hexNumCount < 6 && (ch >= _0 && ch <= _9 || ch >= _a && ch <= _f || ch >= _A && ch <= _F)) {\n                this.stream.advance(1);\n                ch = this.stream.peekChar();\n                hexNumCount++;\n            }\n            if (hexNumCount > 0) {\n                try {\n                    var hexVal = parseInt(this.stream.substring(this.stream.pos() - hexNumCount), 16);\n                    if (hexVal) {\n                        result.push(String.fromCharCode(hexVal));\n                    }\n                }\n                catch (e) {\n                    // ignore\n                }\n                // optional whitespace or new line, not part of result text\n                if (ch === _WSP || ch === _TAB) {\n                    this.stream.advance(1);\n                }\n                else {\n                    this._newline([]);\n                }\n                return true;\n            }\n            if (ch !== _CAR && ch !== _LFD && ch !== _NWL) {\n                this.stream.advance(1);\n                result.push(String.fromCharCode(ch));\n                return true;\n            }\n            else if (includeNewLines) {\n                return this._newline(result);\n            }\n        }\n        return false;\n    };\n    Scanner.prototype._stringChar = function (closeQuote, result) {\n        // not closeQuote, not backslash, not newline\n        var ch = this.stream.peekChar();\n        if (ch !== 0 && ch !== closeQuote && ch !== _BSL && ch !== _CAR && ch !== _LFD && ch !== _NWL) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._string = function (result) {\n        if (this.stream.peekChar() === _SQO || this.stream.peekChar() === _DQO) {\n            var closeQuote = this.stream.nextChar();\n            result.push(String.fromCharCode(closeQuote));\n            while (this._stringChar(closeQuote, result) || this._escape(result, true)) {\n                // loop\n            }\n            if (this.stream.peekChar() === closeQuote) {\n                this.stream.nextChar();\n                result.push(String.fromCharCode(closeQuote));\n                return TokenType.String;\n            }\n            else {\n                return TokenType.BadString;\n            }\n        }\n        return null;\n    };\n    Scanner.prototype._unquotedChar = function (result) {\n        // not closeQuote, not backslash, not newline\n        var ch = this.stream.peekChar();\n        if (ch !== 0 && ch !== _BSL && ch !== _SQO && ch !== _DQO && ch !== _LPA && ch !== _RPA && ch !== _WSP && ch !== _TAB && ch !== _NWL && ch !== _LFD && ch !== _CAR) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._unquotedString = function (result) {\n        var hasContent = false;\n        while (this._unquotedChar(result) || this._escape(result)) {\n            hasContent = true;\n        }\n        return hasContent;\n    };\n    Scanner.prototype._whitespace = function () {\n        var n = this.stream.advanceWhileChar(function (ch) {\n            return ch === _WSP || ch === _TAB || ch === _NWL || ch === _LFD || ch === _CAR;\n        });\n        return n > 0;\n    };\n    Scanner.prototype._name = function (result) {\n        var matched = false;\n        while (this._identChar(result) || this._escape(result)) {\n            matched = true;\n        }\n        return matched;\n    };\n    Scanner.prototype.ident = function (result) {\n        var pos = this.stream.pos();\n        var hasMinus = this._minus(result);\n        if (hasMinus && this._minus(result) /* -- */) {\n            if (this._identFirstChar(result) || this._escape(result)) {\n                while (this._identChar(result) || this._escape(result)) {\n                    // loop\n                }\n                return true;\n            }\n        }\n        else if (this._identFirstChar(result) || this._escape(result)) {\n            while (this._identChar(result) || this._escape(result)) {\n                // loop\n            }\n            return true;\n        }\n        this.stream.goBackTo(pos);\n        return false;\n    };\n    Scanner.prototype._identFirstChar = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _USC || // _\n            ch >= _a && ch <= _z || // a-z\n            ch >= _A && ch <= _Z || // A-Z\n            ch >= 0x80 && ch <= 0xFFFF) { // nonascii\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._minus = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _MIN) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._identChar = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _USC || // _\n            ch === _MIN || // -\n            ch >= _a && ch <= _z || // a-z\n            ch >= _A && ch <= _Z || // A-Z\n            ch >= _0 && ch <= _9 || // 0/9\n            ch >= 0x80 && ch <= 0xFFFF) { // nonascii\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    return Scanner;\n}());\nexport { Scanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as nodes from '../parser/cssNodes.js';\nimport { Symbols } from '../parser/cssSymbolScope.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport * as strings from '../utils/strings.js';\nimport { Position, CompletionItemKind, Range, TextEdit, InsertTextFormat, MarkupKind, CompletionItemTag } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nimport { isDefined } from '../utils/objects.js';\nimport { PathCompletionParticipant } from './pathCompletion.js';\nvar localize = nls.loadMessageBundle();\nvar SnippetFormat = InsertTextFormat.Snippet;\nvar SortTexts;\n(function (SortTexts) {\n    // char code 32, comes before everything\n    SortTexts[\"Enums\"] = \" \";\n    SortTexts[\"Normal\"] = \"d\";\n    SortTexts[\"VendorPrefixed\"] = \"x\";\n    SortTexts[\"Term\"] = \"y\";\n    SortTexts[\"Variable\"] = \"z\";\n})(SortTexts || (SortTexts = {}));\nvar CSSCompletion = /** @class */ (function () {\n    function CSSCompletion(variablePrefix, lsOptions, cssDataManager) {\n        if (variablePrefix === void 0) { variablePrefix = null; }\n        this.variablePrefix = variablePrefix;\n        this.lsOptions = lsOptions;\n        this.cssDataManager = cssDataManager;\n        this.completionParticipants = [];\n    }\n    CSSCompletion.prototype.configure = function (settings) {\n        this.settings = settings;\n    };\n    CSSCompletion.prototype.getSymbolContext = function () {\n        if (!this.symbolContext) {\n            this.symbolContext = new Symbols(this.styleSheet);\n        }\n        return this.symbolContext;\n    };\n    CSSCompletion.prototype.setCompletionParticipants = function (registeredCompletionParticipants) {\n        this.completionParticipants = registeredCompletionParticipants || [];\n    };\n    CSSCompletion.prototype.doComplete2 = function (document, position, styleSheet, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var participant, contributedParticipants, result, pathCompletionResult;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.lsOptions.fileSystemProvider || !this.lsOptions.fileSystemProvider.readDirectory) {\n                            return [2 /*return*/, this.doComplete(document, position, styleSheet)];\n                        }\n                        participant = new PathCompletionParticipant(this.lsOptions.fileSystemProvider.readDirectory);\n                        contributedParticipants = this.completionParticipants;\n                        this.completionParticipants = [participant].concat(contributedParticipants);\n                        result = this.doComplete(document, position, styleSheet);\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, , 3, 4]);\n                        return [4 /*yield*/, participant.computeCompletions(document, documentContext)];\n                    case 2:\n                        pathCompletionResult = _a.sent();\n                        return [2 /*return*/, {\n                                isIncomplete: result.isIncomplete || pathCompletionResult.isIncomplete,\n                                items: pathCompletionResult.items.concat(result.items)\n                            }];\n                    case 3:\n                        this.completionParticipants = contributedParticipants;\n                        return [7 /*endfinally*/];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CSSCompletion.prototype.doComplete = function (document, position, styleSheet) {\n        this.offset = document.offsetAt(position);\n        this.position = position;\n        this.currentWord = getCurrentWord(document, this.offset);\n        this.defaultReplaceRange = Range.create(Position.create(this.position.line, this.position.character - this.currentWord.length), this.position);\n        this.textDocument = document;\n        this.styleSheet = styleSheet;\n        try {\n            var result = { isIncomplete: false, items: [] };\n            this.nodePath = nodes.getNodePath(this.styleSheet, this.offset);\n            for (var i = this.nodePath.length - 1; i >= 0; i--) {\n                var node = this.nodePath[i];\n                if (node instanceof nodes.Property) {\n                    this.getCompletionsForDeclarationProperty(node.getParent(), result);\n                }\n                else if (node instanceof nodes.Expression) {\n                    if (node.parent instanceof nodes.Interpolation) {\n                        this.getVariableProposals(null, result);\n                    }\n                    else {\n                        this.getCompletionsForExpression(node, result);\n                    }\n                }\n                else if (node instanceof nodes.SimpleSelector) {\n                    var parentRef = node.findAParent(nodes.NodeType.ExtendsReference, nodes.NodeType.Ruleset);\n                    if (parentRef) {\n                        if (parentRef.type === nodes.NodeType.ExtendsReference) {\n                            this.getCompletionsForExtendsReference(parentRef, node, result);\n                        }\n                        else {\n                            var parentRuleSet = parentRef;\n                            this.getCompletionsForSelector(parentRuleSet, parentRuleSet && parentRuleSet.isNested(), result);\n                        }\n                    }\n                }\n                else if (node instanceof nodes.FunctionArgument) {\n                    this.getCompletionsForFunctionArgument(node, node.getParent(), result);\n                }\n                else if (node instanceof nodes.Declarations) {\n                    this.getCompletionsForDeclarations(node, result);\n                }\n                else if (node instanceof nodes.VariableDeclaration) {\n                    this.getCompletionsForVariableDeclaration(node, result);\n                }\n                else if (node instanceof nodes.RuleSet) {\n                    this.getCompletionsForRuleSet(node, result);\n                }\n                else if (node instanceof nodes.Interpolation) {\n                    this.getCompletionsForInterpolation(node, result);\n                }\n                else if (node instanceof nodes.FunctionDeclaration) {\n                    this.getCompletionsForFunctionDeclaration(node, result);\n                }\n                else if (node instanceof nodes.MixinReference) {\n                    this.getCompletionsForMixinReference(node, result);\n                }\n                else if (node instanceof nodes.Function) {\n                    this.getCompletionsForFunctionArgument(null, node, result);\n                }\n                else if (node instanceof nodes.Supports) {\n                    this.getCompletionsForSupports(node, result);\n                }\n                else if (node instanceof nodes.SupportsCondition) {\n                    this.getCompletionsForSupportsCondition(node, result);\n                }\n                else if (node instanceof nodes.ExtendsReference) {\n                    this.getCompletionsForExtendsReference(node, null, result);\n                }\n                else if (node.type === nodes.NodeType.URILiteral) {\n                    this.getCompletionForUriLiteralValue(node, result);\n                }\n                else if (node.parent === null) {\n                    this.getCompletionForTopLevel(result);\n                }\n                else if (node.type === nodes.NodeType.StringLiteral && this.isImportPathParent(node.parent.type)) {\n                    this.getCompletionForImportPath(node, result);\n                    // } else if (node instanceof nodes.Variable) {\n                    // this.getCompletionsForVariableDeclaration()\n                }\n                else {\n                    continue;\n                }\n                if (result.items.length > 0 || this.offset > node.offset) {\n                    return this.finalize(result);\n                }\n            }\n            this.getCompletionsForStylesheet(result);\n            if (result.items.length === 0) {\n                if (this.variablePrefix && this.currentWord.indexOf(this.variablePrefix) === 0) {\n                    this.getVariableProposals(null, result);\n                }\n            }\n            return this.finalize(result);\n        }\n        finally {\n            // don't hold on any state, clear symbolContext\n            this.position = null;\n            this.currentWord = null;\n            this.textDocument = null;\n            this.styleSheet = null;\n            this.symbolContext = null;\n            this.defaultReplaceRange = null;\n            this.nodePath = null;\n        }\n    };\n    CSSCompletion.prototype.isImportPathParent = function (type) {\n        return type === nodes.NodeType.Import;\n    };\n    CSSCompletion.prototype.finalize = function (result) {\n        return result;\n    };\n    CSSCompletion.prototype.findInNodePath = function () {\n        var types = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            types[_i] = arguments[_i];\n        }\n        for (var i = this.nodePath.length - 1; i >= 0; i--) {\n            var node = this.nodePath[i];\n            if (types.indexOf(node.type) !== -1) {\n                return node;\n            }\n        }\n        return null;\n    };\n    CSSCompletion.prototype.getCompletionsForDeclarationProperty = function (declaration, result) {\n        return this.getPropertyProposals(declaration, result);\n    };\n    CSSCompletion.prototype.getPropertyProposals = function (declaration, result) {\n        var _this = this;\n        var triggerPropertyValueCompletion = this.isTriggerPropertyValueCompletionEnabled;\n        var completePropertyWithSemicolon = this.isCompletePropertyWithSemicolonEnabled;\n        var properties = this.cssDataManager.getProperties();\n        properties.forEach(function (entry) {\n            var range;\n            var insertText;\n            var retrigger = false;\n            if (declaration) {\n                range = _this.getCompletionRange(declaration.getProperty());\n                insertText = entry.name;\n                if (!isDefined(declaration.colonPosition)) {\n                    insertText += ': ';\n                    retrigger = true;\n                }\n            }\n            else {\n                range = _this.getCompletionRange(null);\n                insertText = entry.name + ': ';\n                retrigger = true;\n            }\n            // Empty .selector { | } case\n            if (!declaration && completePropertyWithSemicolon) {\n                insertText += '$0;';\n            }\n            // Cases such as .selector { p; } or .selector { p:; }\n            if (declaration && !declaration.semicolonPosition) {\n                if (completePropertyWithSemicolon && _this.offset >= _this.textDocument.offsetAt(range.end)) {\n                    insertText += '$0;';\n                }\n            }\n            var item = {\n                label: entry.name,\n                documentation: languageFacts.getEntryDescription(entry, _this.doesSupportMarkdown()),\n                tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                textEdit: TextEdit.replace(range, insertText),\n                insertTextFormat: InsertTextFormat.Snippet,\n                kind: CompletionItemKind.Property\n            };\n            if (!entry.restrictions) {\n                retrigger = false;\n            }\n            if (triggerPropertyValueCompletion && retrigger) {\n                item.command = {\n                    title: 'Suggest',\n                    command: 'editor.action.triggerSuggest'\n                };\n            }\n            var relevance = typeof entry.relevance === 'number' ? Math.min(Math.max(entry.relevance, 0), 99) : 50;\n            var sortTextSuffix = (255 - relevance).toString(16);\n            var sortTextPrefix = strings.startsWith(entry.name, '-') ? SortTexts.VendorPrefixed : SortTexts.Normal;\n            item.sortText = sortTextPrefix + '_' + sortTextSuffix;\n            result.items.push(item);\n        });\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssProperty) {\n                participant.onCssProperty({\n                    propertyName: _this.currentWord,\n                    range: _this.defaultReplaceRange\n                });\n            }\n        });\n        return result;\n    };\n    Object.defineProperty(CSSCompletion.prototype, \"isTriggerPropertyValueCompletionEnabled\", {\n        get: function () {\n            if (!this.settings ||\n                !this.settings.completion ||\n                this.settings.completion.triggerPropertyValueCompletion === undefined) {\n                return true;\n            }\n            return this.settings.completion.triggerPropertyValueCompletion;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CSSCompletion.prototype, \"isCompletePropertyWithSemicolonEnabled\", {\n        get: function () {\n            if (!this.settings ||\n                !this.settings.completion ||\n                this.settings.completion.completePropertyWithSemicolon === undefined) {\n                return true;\n            }\n            return this.settings.completion.completePropertyWithSemicolon;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CSSCompletion.prototype.getCompletionsForDeclarationValue = function (node, result) {\n        var _this = this;\n        var propertyName = node.getFullPropertyName();\n        var entry = this.cssDataManager.getProperty(propertyName);\n        var existingNode = node.getValue() || null;\n        while (existingNode && existingNode.hasChildren()) {\n            existingNode = existingNode.findChildAtOffset(this.offset, false);\n        }\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssPropertyValue) {\n                participant.onCssPropertyValue({\n                    propertyName: propertyName,\n                    propertyValue: _this.currentWord,\n                    range: _this.getCompletionRange(existingNode)\n                });\n            }\n        });\n        if (entry) {\n            if (entry.restrictions) {\n                for (var _i = 0, _a = entry.restrictions; _i < _a.length; _i++) {\n                    var restriction = _a[_i];\n                    switch (restriction) {\n                        case 'color':\n                            this.getColorProposals(entry, existingNode, result);\n                            break;\n                        case 'position':\n                            this.getPositionProposals(entry, existingNode, result);\n                            break;\n                        case 'repeat':\n                            this.getRepeatStyleProposals(entry, existingNode, result);\n                            break;\n                        case 'line-style':\n                            this.getLineStyleProposals(entry, existingNode, result);\n                            break;\n                        case 'line-width':\n                            this.getLineWidthProposals(entry, existingNode, result);\n                            break;\n                        case 'geometry-box':\n                            this.getGeometryBoxProposals(entry, existingNode, result);\n                            break;\n                        case 'box':\n                            this.getBoxProposals(entry, existingNode, result);\n                            break;\n                        case 'image':\n                            this.getImageProposals(entry, existingNode, result);\n                            break;\n                        case 'timing-function':\n                            this.getTimingFunctionProposals(entry, existingNode, result);\n                            break;\n                        case 'shape':\n                            this.getBasicShapeProposals(entry, existingNode, result);\n                            break;\n                    }\n                }\n            }\n            this.getValueEnumProposals(entry, existingNode, result);\n            this.getCSSWideKeywordProposals(entry, existingNode, result);\n            this.getUnitProposals(entry, existingNode, result);\n        }\n        else {\n            var existingValues = collectValues(this.styleSheet, node);\n            for (var _b = 0, _c = existingValues.getEntries(); _b < _c.length; _b++) {\n                var existingValue = _c[_b];\n                result.items.push({\n                    label: existingValue,\n                    textEdit: TextEdit.replace(this.getCompletionRange(existingNode), existingValue),\n                    kind: CompletionItemKind.Value\n                });\n            }\n        }\n        this.getVariableProposals(existingNode, result);\n        this.getTermProposals(entry, existingNode, result);\n        return result;\n    };\n    CSSCompletion.prototype.getValueEnumProposals = function (entry, existingNode, result) {\n        if (entry.values) {\n            for (var _i = 0, _a = entry.values; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var insertString = value.name;\n                var insertTextFormat = void 0;\n                if (strings.endsWith(insertString, ')')) {\n                    var from = insertString.lastIndexOf('(');\n                    if (from !== -1) {\n                        insertString = insertString.substr(0, from) + '($1)';\n                        insertTextFormat = SnippetFormat;\n                    }\n                }\n                var sortText = SortTexts.Enums;\n                if (strings.startsWith(value.name, '-')) {\n                    sortText += SortTexts.VendorPrefixed;\n                }\n                var item = {\n                    label: value.name,\n                    documentation: languageFacts.getEntryDescription(value, this.doesSupportMarkdown()),\n                    tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                    textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertString),\n                    sortText: sortText,\n                    kind: CompletionItemKind.Value,\n                    insertTextFormat: insertTextFormat\n                };\n                result.items.push(item);\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCSSWideKeywordProposals = function (entry, existingNode, result) {\n        for (var keywords in languageFacts.cssWideKeywords) {\n            result.items.push({\n                label: keywords,\n                documentation: languageFacts.cssWideKeywords[keywords],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), keywords),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForInterpolation = function (node, result) {\n        if (this.offset >= node.offset + 2) {\n            this.getVariableProposals(null, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getVariableProposals = function (existingNode, result) {\n        var symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Variable);\n        for (var _i = 0, symbols_1 = symbols; _i < symbols_1.length; _i++) {\n            var symbol = symbols_1[_i];\n            var insertText = strings.startsWith(symbol.name, '--') ? \"var(\" + symbol.name + \")\" : symbol.name;\n            var completionItem = {\n                label: symbol.name,\n                documentation: symbol.value ? strings.getLimitedString(symbol.value) : symbol.value,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                kind: CompletionItemKind.Variable,\n                sortText: SortTexts.Variable\n            };\n            if (typeof completionItem.documentation === 'string' && isColorString(completionItem.documentation)) {\n                completionItem.kind = CompletionItemKind.Color;\n            }\n            if (symbol.node.type === nodes.NodeType.FunctionParameter) {\n                var mixinNode = (symbol.node.getParent());\n                if (mixinNode.type === nodes.NodeType.MixinDeclaration) {\n                    completionItem.detail = localize('completion.argument', 'argument from \\'{0}\\'', mixinNode.getName());\n                }\n            }\n            result.items.push(completionItem);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getVariableProposalsForCSSVarFunction = function (result) {\n        var symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Variable);\n        symbols = symbols.filter(function (symbol) {\n            return strings.startsWith(symbol.name, '--');\n        });\n        for (var _i = 0, symbols_2 = symbols; _i < symbols_2.length; _i++) {\n            var symbol = symbols_2[_i];\n            var completionItem = {\n                label: symbol.name,\n                documentation: symbol.value ? strings.getLimitedString(symbol.value) : symbol.value,\n                textEdit: TextEdit.replace(this.getCompletionRange(null), symbol.name),\n                kind: CompletionItemKind.Variable\n            };\n            if (typeof completionItem.documentation === 'string' && isColorString(completionItem.documentation)) {\n                completionItem.kind = CompletionItemKind.Color;\n            }\n            result.items.push(completionItem);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getUnitProposals = function (entry, existingNode, result) {\n        var currentWord = '0';\n        if (this.currentWord.length > 0) {\n            var numMatch = this.currentWord.match(/^-?\\d[\\.\\d+]*/);\n            if (numMatch) {\n                currentWord = numMatch[0];\n                result.isIncomplete = currentWord.length === this.currentWord.length;\n            }\n        }\n        else if (this.currentWord.length === 0) {\n            result.isIncomplete = true;\n        }\n        if (existingNode && existingNode.parent && existingNode.parent.type === nodes.NodeType.Term) {\n            existingNode = existingNode.getParent(); // include the unary operator\n        }\n        if (entry.restrictions) {\n            for (var _i = 0, _a = entry.restrictions; _i < _a.length; _i++) {\n                var restriction = _a[_i];\n                var units = languageFacts.units[restriction];\n                if (units) {\n                    for (var _b = 0, units_1 = units; _b < units_1.length; _b++) {\n                        var unit = units_1[_b];\n                        var insertText = currentWord + unit;\n                        result.items.push({\n                            label: insertText,\n                            textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                            kind: CompletionItemKind.Unit\n                        });\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionRange = function (existingNode) {\n        if (existingNode && existingNode.offset <= this.offset && this.offset <= existingNode.end) {\n            var end = existingNode.end !== -1 ? this.textDocument.positionAt(existingNode.end) : this.position;\n            var start = this.textDocument.positionAt(existingNode.offset);\n            if (start.line === end.line) {\n                return Range.create(start, end); // multi line edits are not allowed\n            }\n        }\n        return this.defaultReplaceRange;\n    };\n    CSSCompletion.prototype.getColorProposals = function (entry, existingNode, result) {\n        for (var color in languageFacts.colors) {\n            result.items.push({\n                label: color,\n                documentation: languageFacts.colors[color],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), color),\n                kind: CompletionItemKind.Color\n            });\n        }\n        for (var color in languageFacts.colorKeywords) {\n            result.items.push({\n                label: color,\n                documentation: languageFacts.colorKeywords[color],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), color),\n                kind: CompletionItemKind.Value\n            });\n        }\n        var colorValues = new Set();\n        this.styleSheet.acceptVisitor(new ColorValueCollector(colorValues, this.offset));\n        for (var _i = 0, _a = colorValues.getEntries(); _i < _a.length; _i++) {\n            var color = _a[_i];\n            result.items.push({\n                label: color,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), color),\n                kind: CompletionItemKind.Color\n            });\n        }\n        var _loop_1 = function (p) {\n            var tabStop = 1;\n            var replaceFunction = function (_match, p1) { return '${' + tabStop++ + ':' + p1 + '}'; };\n            var insertText = p.func.replace(/\\[?\\$(\\w+)\\]?/g, replaceFunction);\n            result.items.push({\n                label: p.func.substr(0, p.func.indexOf('(')),\n                detail: p.func,\n                documentation: p.desc,\n                textEdit: TextEdit.replace(this_1.getCompletionRange(existingNode), insertText),\n                insertTextFormat: SnippetFormat,\n                kind: CompletionItemKind.Function\n            });\n        };\n        var this_1 = this;\n        for (var _b = 0, _c = languageFacts.colorFunctions; _b < _c.length; _b++) {\n            var p = _c[_b];\n            _loop_1(p);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getPositionProposals = function (entry, existingNode, result) {\n        for (var position in languageFacts.positionKeywords) {\n            result.items.push({\n                label: position,\n                documentation: languageFacts.positionKeywords[position],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), position),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getRepeatStyleProposals = function (entry, existingNode, result) {\n        for (var repeat in languageFacts.repeatStyleKeywords) {\n            result.items.push({\n                label: repeat,\n                documentation: languageFacts.repeatStyleKeywords[repeat],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), repeat),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getLineStyleProposals = function (entry, existingNode, result) {\n        for (var lineStyle in languageFacts.lineStyleKeywords) {\n            result.items.push({\n                label: lineStyle,\n                documentation: languageFacts.lineStyleKeywords[lineStyle],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), lineStyle),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getLineWidthProposals = function (entry, existingNode, result) {\n        for (var _i = 0, _a = languageFacts.lineWidthKeywords; _i < _a.length; _i++) {\n            var lineWidth = _a[_i];\n            result.items.push({\n                label: lineWidth,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), lineWidth),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getGeometryBoxProposals = function (entry, existingNode, result) {\n        for (var box in languageFacts.geometryBoxKeywords) {\n            result.items.push({\n                label: box,\n                documentation: languageFacts.geometryBoxKeywords[box],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), box),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getBoxProposals = function (entry, existingNode, result) {\n        for (var box in languageFacts.boxKeywords) {\n            result.items.push({\n                label: box,\n                documentation: languageFacts.boxKeywords[box],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), box),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getImageProposals = function (entry, existingNode, result) {\n        for (var image in languageFacts.imageFunctions) {\n            var insertText = moveCursorInsideParenthesis(image);\n            result.items.push({\n                label: image,\n                documentation: languageFacts.imageFunctions[image],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                kind: CompletionItemKind.Function,\n                insertTextFormat: image !== insertText ? SnippetFormat : void 0\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getTimingFunctionProposals = function (entry, existingNode, result) {\n        for (var timing in languageFacts.transitionTimingFunctions) {\n            var insertText = moveCursorInsideParenthesis(timing);\n            result.items.push({\n                label: timing,\n                documentation: languageFacts.transitionTimingFunctions[timing],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                kind: CompletionItemKind.Function,\n                insertTextFormat: timing !== insertText ? SnippetFormat : void 0\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getBasicShapeProposals = function (entry, existingNode, result) {\n        for (var shape in languageFacts.basicShapeFunctions) {\n            var insertText = moveCursorInsideParenthesis(shape);\n            result.items.push({\n                label: shape,\n                documentation: languageFacts.basicShapeFunctions[shape],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                kind: CompletionItemKind.Function,\n                insertTextFormat: shape !== insertText ? SnippetFormat : void 0\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForStylesheet = function (result) {\n        var node = this.styleSheet.findFirstChildBeforeOffset(this.offset);\n        if (!node) {\n            return this.getCompletionForTopLevel(result);\n        }\n        if (node instanceof nodes.RuleSet) {\n            return this.getCompletionsForRuleSet(node, result);\n        }\n        if (node instanceof nodes.Supports) {\n            return this.getCompletionsForSupports(node, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionForTopLevel = function (result) {\n        var _this = this;\n        this.cssDataManager.getAtDirectives().forEach(function (entry) {\n            result.items.push({\n                label: entry.name,\n                textEdit: TextEdit.replace(_this.getCompletionRange(null), entry.name),\n                documentation: languageFacts.getEntryDescription(entry, _this.doesSupportMarkdown()),\n                tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                kind: CompletionItemKind.Keyword\n            });\n        });\n        this.getCompletionsForSelector(null, false, result);\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForRuleSet = function (ruleSet, result) {\n        var declarations = ruleSet.getDeclarations();\n        var isAfter = declarations && declarations.endsWith('}') && this.offset >= declarations.end;\n        if (isAfter) {\n            return this.getCompletionForTopLevel(result);\n        }\n        var isInSelectors = !declarations || this.offset <= declarations.offset;\n        if (isInSelectors) {\n            return this.getCompletionsForSelector(ruleSet, ruleSet.isNested(), result);\n        }\n        return this.getCompletionsForDeclarations(ruleSet.getDeclarations(), result);\n    };\n    CSSCompletion.prototype.getCompletionsForSelector = function (ruleSet, isNested, result) {\n        var _this = this;\n        var existingNode = this.findInNodePath(nodes.NodeType.PseudoSelector, nodes.NodeType.IdentifierSelector, nodes.NodeType.ClassSelector, nodes.NodeType.ElementNameSelector);\n        if (!existingNode && this.offset - this.currentWord.length > 0 && this.textDocument.getText()[this.offset - this.currentWord.length - 1] === ':') {\n            // after the ':' of a pseudo selector, no node generated for just ':'\n            this.currentWord = ':' + this.currentWord;\n            this.defaultReplaceRange = Range.create(Position.create(this.position.line, this.position.character - this.currentWord.length), this.position);\n        }\n        var pseudoClasses = this.cssDataManager.getPseudoClasses();\n        pseudoClasses.forEach(function (entry) {\n            var insertText = moveCursorInsideParenthesis(entry.name);\n            var item = {\n                label: entry.name,\n                textEdit: TextEdit.replace(_this.getCompletionRange(existingNode), insertText),\n                documentation: languageFacts.getEntryDescription(entry, _this.doesSupportMarkdown()),\n                tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                kind: CompletionItemKind.Function,\n                insertTextFormat: entry.name !== insertText ? SnippetFormat : void 0\n            };\n            if (strings.startsWith(entry.name, ':-')) {\n                item.sortText = SortTexts.VendorPrefixed;\n            }\n            result.items.push(item);\n        });\n        var pseudoElements = this.cssDataManager.getPseudoElements();\n        pseudoElements.forEach(function (entry) {\n            var insertText = moveCursorInsideParenthesis(entry.name);\n            var item = {\n                label: entry.name,\n                textEdit: TextEdit.replace(_this.getCompletionRange(existingNode), insertText),\n                documentation: languageFacts.getEntryDescription(entry, _this.doesSupportMarkdown()),\n                tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                kind: CompletionItemKind.Function,\n                insertTextFormat: entry.name !== insertText ? SnippetFormat : void 0\n            };\n            if (strings.startsWith(entry.name, '::-')) {\n                item.sortText = SortTexts.VendorPrefixed;\n            }\n            result.items.push(item);\n        });\n        if (!isNested) { // show html tags only for top level\n            for (var _i = 0, _a = languageFacts.html5Tags; _i < _a.length; _i++) {\n                var entry = _a[_i];\n                result.items.push({\n                    label: entry,\n                    textEdit: TextEdit.replace(this.getCompletionRange(existingNode), entry),\n                    kind: CompletionItemKind.Keyword\n                });\n            }\n            for (var _b = 0, _c = languageFacts.svgElements; _b < _c.length; _b++) {\n                var entry = _c[_b];\n                result.items.push({\n                    label: entry,\n                    textEdit: TextEdit.replace(this.getCompletionRange(existingNode), entry),\n                    kind: CompletionItemKind.Keyword\n                });\n            }\n        }\n        var visited = {};\n        visited[this.currentWord] = true;\n        var docText = this.textDocument.getText();\n        this.styleSheet.accept(function (n) {\n            if (n.type === nodes.NodeType.SimpleSelector && n.length > 0) {\n                var selector = docText.substr(n.offset, n.length);\n                if (selector.charAt(0) === '.' && !visited[selector]) {\n                    visited[selector] = true;\n                    result.items.push({\n                        label: selector,\n                        textEdit: TextEdit.replace(_this.getCompletionRange(existingNode), selector),\n                        kind: CompletionItemKind.Keyword\n                    });\n                }\n                return false;\n            }\n            return true;\n        });\n        if (ruleSet && ruleSet.isNested()) {\n            var selector = ruleSet.getSelectors().findFirstChildBeforeOffset(this.offset);\n            if (selector && ruleSet.getSelectors().getChildren().indexOf(selector) === 0) {\n                this.getPropertyProposals(null, result);\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForDeclarations = function (declarations, result) {\n        if (!declarations || this.offset === declarations.offset) { // incomplete nodes\n            return result;\n        }\n        var node = declarations.findFirstChildBeforeOffset(this.offset);\n        if (!node) {\n            return this.getCompletionsForDeclarationProperty(null, result);\n        }\n        if (node instanceof nodes.AbstractDeclaration) {\n            var declaration = node;\n            if (!isDefined(declaration.colonPosition) || this.offset <= declaration.colonPosition) {\n                // complete property\n                return this.getCompletionsForDeclarationProperty(declaration, result);\n            }\n            else if ((isDefined(declaration.semicolonPosition) && declaration.semicolonPosition < this.offset)) {\n                if (this.offset === declaration.semicolonPosition + 1) {\n                    return result; // don't show new properties right after semicolon (see Bug 15421:[intellisense] [css] Be less aggressive when manually typing CSS)\n                }\n                // complete next property\n                return this.getCompletionsForDeclarationProperty(null, result);\n            }\n            if (declaration instanceof nodes.Declaration) {\n                // complete value\n                return this.getCompletionsForDeclarationValue(declaration, result);\n            }\n        }\n        else if (node instanceof nodes.ExtendsReference) {\n            this.getCompletionsForExtendsReference(node, null, result);\n        }\n        else if (this.currentWord && this.currentWord[0] === '@') {\n            this.getCompletionsForDeclarationProperty(null, result);\n        }\n        else if (node instanceof nodes.RuleSet) {\n            this.getCompletionsForDeclarationProperty(null, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForVariableDeclaration = function (declaration, result) {\n        if (this.offset && isDefined(declaration.colonPosition) && this.offset > declaration.colonPosition) {\n            this.getVariableProposals(declaration.getValue(), result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForExpression = function (expression, result) {\n        var parent = expression.getParent();\n        if (parent instanceof nodes.FunctionArgument) {\n            this.getCompletionsForFunctionArgument(parent, parent.getParent(), result);\n            return result;\n        }\n        var declaration = expression.findParent(nodes.NodeType.Declaration);\n        if (!declaration) {\n            this.getTermProposals(undefined, null, result);\n            return result;\n        }\n        var node = expression.findChildAtOffset(this.offset, true);\n        if (!node) {\n            return this.getCompletionsForDeclarationValue(declaration, result);\n        }\n        if (node instanceof nodes.NumericValue || node instanceof nodes.Identifier) {\n            return this.getCompletionsForDeclarationValue(declaration, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForFunctionArgument = function (arg, func, result) {\n        var identifier = func.getIdentifier();\n        if (identifier && identifier.matches('var')) {\n            if (!func.getArguments().hasChildren() || func.getArguments().getChild(0) === arg) {\n                this.getVariableProposalsForCSSVarFunction(result);\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForFunctionDeclaration = function (decl, result) {\n        var declarations = decl.getDeclarations();\n        if (declarations && this.offset > declarations.offset && this.offset < declarations.end) {\n            this.getTermProposals(undefined, null, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForMixinReference = function (ref, result) {\n        var _this = this;\n        var allMixins = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Mixin);\n        for (var _i = 0, allMixins_1 = allMixins; _i < allMixins_1.length; _i++) {\n            var mixinSymbol = allMixins_1[_i];\n            if (mixinSymbol.node instanceof nodes.MixinDeclaration) {\n                result.items.push(this.makeTermProposal(mixinSymbol, mixinSymbol.node.getParameters(), null));\n            }\n        }\n        var identifierNode = ref.getIdentifier() || null;\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssMixinReference) {\n                participant.onCssMixinReference({\n                    mixinName: _this.currentWord,\n                    range: _this.getCompletionRange(identifierNode)\n                });\n            }\n        });\n        return result;\n    };\n    CSSCompletion.prototype.getTermProposals = function (entry, existingNode, result) {\n        var allFunctions = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Function);\n        for (var _i = 0, allFunctions_1 = allFunctions; _i < allFunctions_1.length; _i++) {\n            var functionSymbol = allFunctions_1[_i];\n            if (functionSymbol.node instanceof nodes.FunctionDeclaration) {\n                result.items.push(this.makeTermProposal(functionSymbol, functionSymbol.node.getParameters(), existingNode));\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.makeTermProposal = function (symbol, parameters, existingNode) {\n        var decl = symbol.node;\n        var params = parameters.getChildren().map(function (c) {\n            return (c instanceof nodes.FunctionParameter) ? c.getName() : c.getText();\n        });\n        var insertText = symbol.name + '(' + params.map(function (p, index) { return '${' + (index + 1) + ':' + p + '}'; }).join(', ') + ')';\n        return {\n            label: symbol.name,\n            detail: symbol.name + '(' + params.join(', ') + ')',\n            textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n            insertTextFormat: SnippetFormat,\n            kind: CompletionItemKind.Function,\n            sortText: SortTexts.Term\n        };\n    };\n    CSSCompletion.prototype.getCompletionsForSupportsCondition = function (supportsCondition, result) {\n        var child = supportsCondition.findFirstChildBeforeOffset(this.offset);\n        if (child) {\n            if (child instanceof nodes.Declaration) {\n                if (!isDefined(child.colonPosition) || this.offset <= child.colonPosition) {\n                    return this.getCompletionsForDeclarationProperty(child, result);\n                }\n                else {\n                    return this.getCompletionsForDeclarationValue(child, result);\n                }\n            }\n            else if (child instanceof nodes.SupportsCondition) {\n                return this.getCompletionsForSupportsCondition(child, result);\n            }\n        }\n        if (isDefined(supportsCondition.lParent) && this.offset > supportsCondition.lParent && (!isDefined(supportsCondition.rParent) || this.offset <= supportsCondition.rParent)) {\n            return this.getCompletionsForDeclarationProperty(null, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForSupports = function (supports, result) {\n        var declarations = supports.getDeclarations();\n        var inInCondition = !declarations || this.offset <= declarations.offset;\n        if (inInCondition) {\n            var child = supports.findFirstChildBeforeOffset(this.offset);\n            if (child instanceof nodes.SupportsCondition) {\n                return this.getCompletionsForSupportsCondition(child, result);\n            }\n            return result;\n        }\n        return this.getCompletionForTopLevel(result);\n    };\n    CSSCompletion.prototype.getCompletionsForExtendsReference = function (extendsRef, existingNode, result) {\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionForUriLiteralValue = function (uriLiteralNode, result) {\n        var uriValue;\n        var position;\n        var range;\n        // No children, empty value\n        if (!uriLiteralNode.hasChildren()) {\n            uriValue = '';\n            position = this.position;\n            var emptyURIValuePosition = this.textDocument.positionAt(uriLiteralNode.offset + 'url('.length);\n            range = Range.create(emptyURIValuePosition, emptyURIValuePosition);\n        }\n        else {\n            var uriValueNode = uriLiteralNode.getChild(0);\n            uriValue = uriValueNode.getText();\n            position = this.position;\n            range = this.getCompletionRange(uriValueNode);\n        }\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssURILiteralValue) {\n                participant.onCssURILiteralValue({\n                    uriValue: uriValue,\n                    position: position,\n                    range: range\n                });\n            }\n        });\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionForImportPath = function (importPathNode, result) {\n        var _this = this;\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssImportPath) {\n                participant.onCssImportPath({\n                    pathValue: importPathNode.getText(),\n                    position: _this.position,\n                    range: _this.getCompletionRange(importPathNode)\n                });\n            }\n        });\n        return result;\n    };\n    CSSCompletion.prototype.doesSupportMarkdown = function () {\n        var _a, _b, _c;\n        if (!isDefined(this.supportsMarkdown)) {\n            if (!isDefined(this.lsOptions.clientCapabilities)) {\n                this.supportsMarkdown = true;\n                return this.supportsMarkdown;\n            }\n            var documentationFormat = (_c = (_b = (_a = this.lsOptions.clientCapabilities.textDocument) === null || _a === void 0 ? void 0 : _a.completion) === null || _b === void 0 ? void 0 : _b.completionItem) === null || _c === void 0 ? void 0 : _c.documentationFormat;\n            this.supportsMarkdown = Array.isArray(documentationFormat) && documentationFormat.indexOf(MarkupKind.Markdown) !== -1;\n        }\n        return this.supportsMarkdown;\n    };\n    return CSSCompletion;\n}());\nexport { CSSCompletion };\nfunction isDeprecated(entry) {\n    if (entry.status && (entry.status === 'nonstandard' || entry.status === 'obsolete')) {\n        return true;\n    }\n    return false;\n}\n/**\n * Rank number should all be same length strings\n */\nfunction computeRankNumber(n) {\n    var nstr = n.toString();\n    switch (nstr.length) {\n        case 4:\n            return nstr;\n        case 3:\n            return '0' + nstr;\n        case 2:\n            return '00' + nstr;\n        case 1:\n            return '000' + nstr;\n        default:\n            return '0000';\n    }\n}\nvar Set = /** @class */ (function () {\n    function Set() {\n        this.entries = {};\n    }\n    Set.prototype.add = function (entry) {\n        this.entries[entry] = true;\n    };\n    Set.prototype.getEntries = function () {\n        return Object.keys(this.entries);\n    };\n    return Set;\n}());\nfunction moveCursorInsideParenthesis(text) {\n    return text.replace(/\\(\\)$/, \"($1)\");\n}\nfunction collectValues(styleSheet, declaration) {\n    var fullPropertyName = declaration.getFullPropertyName();\n    var entries = new Set();\n    function visitValue(node) {\n        if (node instanceof nodes.Identifier || node instanceof nodes.NumericValue || node instanceof nodes.HexColorValue) {\n            entries.add(node.getText());\n        }\n        return true;\n    }\n    function matchesProperty(decl) {\n        var propertyName = decl.getFullPropertyName();\n        return fullPropertyName === propertyName;\n    }\n    function vistNode(node) {\n        if (node instanceof nodes.Declaration && node !== declaration) {\n            if (matchesProperty(node)) {\n                var value = node.getValue();\n                if (value) {\n                    value.accept(visitValue);\n                }\n            }\n        }\n        return true;\n    }\n    styleSheet.accept(vistNode);\n    return entries;\n}\nvar ColorValueCollector = /** @class */ (function () {\n    function ColorValueCollector(entries, currentOffset) {\n        this.entries = entries;\n        this.currentOffset = currentOffset;\n        // nothing to do\n    }\n    ColorValueCollector.prototype.visitNode = function (node) {\n        if (node instanceof nodes.HexColorValue || (node instanceof nodes.Function && languageFacts.isColorConstructor(node))) {\n            if (this.currentOffset < node.offset || node.end < this.currentOffset) {\n                this.entries.add(node.getText());\n            }\n        }\n        return true;\n    };\n    return ColorValueCollector;\n}());\nfunction getCurrentWord(document, offset) {\n    var i = offset - 1;\n    var text = document.getText();\n    while (i >= 0 && ' \\t\\n\\r\":{[()]},*>+'.indexOf(text.charAt(i)) === -1) {\n        i--;\n    }\n    return text.substring(i + 1, offset);\n}\nfunction isColorString(s) {\n    // From https://stackoverflow.com/questions/8027423/how-to-check-if-a-string-is-a-valid-hex-color-representation/8027444\n    return (s.toLowerCase() in languageFacts.colors) || /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { editor } from './fillers/monaco-editor-core.js';\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(defaults) {\n        var _this = this;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = window.setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = editor.createWebWorker({\n                // module that exports the create() method and returns a `CSSWorker` instance\n                moduleId: 'vs/language/css/cssWorker',\n                label: this._defaults.languageId,\n                // passed in to the create() method\n                createData: {\n                    languageSettings: this._defaults.diagnosticsOptions,\n                    languageId: this._defaults.languageId\n                }\n            });\n            this._client = this._worker.getProxy();\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return this._getClient()\n            .then(function (client) {\n            _client = client;\n        })\n            .then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        })\n            .then(function (_) { return _client; });\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { TokenType, Scanner } from './cssScanner.js';\nimport * as nodes from './cssNodes.js';\nimport { ParseError } from './cssErrors.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { isDefined } from '../utils/objects.js';\n/// <summary>\n/// A parser for the css core specification. See for reference:\n/// https://www.w3.org/TR/CSS21/grammar.html\n/// http://www.w3.org/TR/CSS21/syndata.html#tokenization\n/// </summary>\nvar Parser = /** @class */ (function () {\n    function Parser(scnr) {\n        if (scnr === void 0) { scnr = new Scanner(); }\n        this.keyframeRegex = /^@(\\-(webkit|ms|moz|o)\\-)?keyframes$/i;\n        this.scanner = scnr;\n        this.token = { type: TokenType.EOF, offset: -1, len: 0, text: '' };\n        this.prevToken = undefined;\n    }\n    Parser.prototype.peekIdent = function (text) {\n        return TokenType.Ident === this.token.type && text.length === this.token.text.length && text === this.token.text.toLowerCase();\n    };\n    Parser.prototype.peekKeyword = function (text) {\n        return TokenType.AtKeyword === this.token.type && text.length === this.token.text.length && text === this.token.text.toLowerCase();\n    };\n    Parser.prototype.peekDelim = function (text) {\n        return TokenType.Delim === this.token.type && text === this.token.text;\n    };\n    Parser.prototype.peek = function (type) {\n        return type === this.token.type;\n    };\n    Parser.prototype.peekRegExp = function (type, regEx) {\n        if (type !== this.token.type) {\n            return false;\n        }\n        return regEx.test(this.token.text);\n    };\n    Parser.prototype.hasWhitespace = function () {\n        return !!this.prevToken && (this.prevToken.offset + this.prevToken.len !== this.token.offset);\n    };\n    Parser.prototype.consumeToken = function () {\n        this.prevToken = this.token;\n        this.token = this.scanner.scan();\n    };\n    Parser.prototype.mark = function () {\n        return {\n            prev: this.prevToken,\n            curr: this.token,\n            pos: this.scanner.pos()\n        };\n    };\n    Parser.prototype.restoreAtMark = function (mark) {\n        this.prevToken = mark.prev;\n        this.token = mark.curr;\n        this.scanner.goBackTo(mark.pos);\n    };\n    Parser.prototype.try = function (func) {\n        var pos = this.mark();\n        var node = func();\n        if (!node) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return node;\n    };\n    Parser.prototype.acceptOneKeyword = function (keywords) {\n        if (TokenType.AtKeyword === this.token.type) {\n            for (var _i = 0, keywords_1 = keywords; _i < keywords_1.length; _i++) {\n                var keyword = keywords_1[_i];\n                if (keyword.length === this.token.text.length && keyword === this.token.text.toLowerCase()) {\n                    this.consumeToken();\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Parser.prototype.accept = function (type) {\n        if (type === this.token.type) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptIdent = function (text) {\n        if (this.peekIdent(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptKeyword = function (text) {\n        if (this.peekKeyword(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptDelim = function (text) {\n        if (this.peekDelim(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptRegexp = function (regEx) {\n        if (regEx.test(this.token.text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype._parseRegexp = function (regEx) {\n        var node = this.createNode(nodes.NodeType.Identifier);\n        do { } while (this.acceptRegexp(regEx));\n        return this.finish(node);\n    };\n    Parser.prototype.acceptUnquotedString = function () {\n        var pos = this.scanner.pos();\n        this.scanner.goBackTo(this.token.offset);\n        var unquoted = this.scanner.scanUnquotedString();\n        if (unquoted) {\n            this.token = unquoted;\n            this.consumeToken();\n            return true;\n        }\n        this.scanner.goBackTo(pos);\n        return false;\n    };\n    Parser.prototype.resync = function (resyncTokens, resyncStopTokens) {\n        while (true) {\n            if (resyncTokens && resyncTokens.indexOf(this.token.type) !== -1) {\n                this.consumeToken();\n                return true;\n            }\n            else if (resyncStopTokens && resyncStopTokens.indexOf(this.token.type) !== -1) {\n                return true;\n            }\n            else {\n                if (this.token.type === TokenType.EOF) {\n                    return false;\n                }\n                this.token = this.scanner.scan();\n            }\n        }\n    };\n    Parser.prototype.createNode = function (nodeType) {\n        return new nodes.Node(this.token.offset, this.token.len, nodeType);\n    };\n    Parser.prototype.create = function (ctor) {\n        return new ctor(this.token.offset, this.token.len);\n    };\n    Parser.prototype.finish = function (node, error, resyncTokens, resyncStopTokens) {\n        // parseNumeric misuses error for boolean flagging (however the real error mustn't be a false)\n        // + nodelist offsets mustn't be modified, because there is a offset hack in rulesets for smartselection\n        if (!(node instanceof nodes.Nodelist)) {\n            if (error) {\n                this.markError(node, error, resyncTokens, resyncStopTokens);\n            }\n            // set the node end position\n            if (this.prevToken) {\n                // length with more elements belonging together\n                var prevEnd = this.prevToken.offset + this.prevToken.len;\n                node.length = prevEnd > node.offset ? prevEnd - node.offset : 0; // offset is taken from current token, end from previous: Use 0 for empty nodes\n            }\n        }\n        return node;\n    };\n    Parser.prototype.markError = function (node, error, resyncTokens, resyncStopTokens) {\n        if (this.token !== this.lastErrorToken) { // do not report twice on the same token\n            node.addIssue(new nodes.Marker(node, error, nodes.Level.Error, undefined, this.token.offset, this.token.len));\n            this.lastErrorToken = this.token;\n        }\n        if (resyncTokens || resyncStopTokens) {\n            this.resync(resyncTokens, resyncStopTokens);\n        }\n    };\n    Parser.prototype.parseStylesheet = function (textDocument) {\n        var versionId = textDocument.version;\n        var text = textDocument.getText();\n        var textProvider = function (offset, length) {\n            if (textDocument.version !== versionId) {\n                throw new Error('Underlying model has changed, AST is no longer valid');\n            }\n            return text.substr(offset, length);\n        };\n        return this.internalParse(text, this._parseStylesheet, textProvider);\n    };\n    Parser.prototype.internalParse = function (input, parseFunc, textProvider) {\n        this.scanner.setSource(input);\n        this.token = this.scanner.scan();\n        var node = parseFunc.bind(this)();\n        if (node) {\n            if (textProvider) {\n                node.textProvider = textProvider;\n            }\n            else {\n                node.textProvider = function (offset, length) { return input.substr(offset, length); };\n            }\n        }\n        return node;\n    };\n    Parser.prototype._parseStylesheet = function () {\n        var node = this.create(nodes.Stylesheet);\n        while (node.addChild(this._parseStylesheetStart())) {\n            // Parse statements only valid at the beginning of stylesheets.\n        }\n        var inRecovery = false;\n        do {\n            var hasMatch = false;\n            do {\n                hasMatch = false;\n                var statement = this._parseStylesheetStatement();\n                if (statement) {\n                    node.addChild(statement);\n                    hasMatch = true;\n                    inRecovery = false;\n                    if (!this.peek(TokenType.EOF) && this._needsSemicolonAfter(statement) && !this.accept(TokenType.SemiColon)) {\n                        this.markError(node, ParseError.SemiColonExpected);\n                    }\n                }\n                while (this.accept(TokenType.SemiColon) || this.accept(TokenType.CDO) || this.accept(TokenType.CDC)) {\n                    // accept empty statements\n                    hasMatch = true;\n                    inRecovery = false;\n                }\n            } while (hasMatch);\n            if (this.peek(TokenType.EOF)) {\n                break;\n            }\n            if (!inRecovery) {\n                if (this.peek(TokenType.AtKeyword)) {\n                    this.markError(node, ParseError.UnknownAtRule);\n                }\n                else {\n                    this.markError(node, ParseError.RuleOrSelectorExpected);\n                }\n                inRecovery = true;\n            }\n            this.consumeToken();\n        } while (!this.peek(TokenType.EOF));\n        return this.finish(node);\n    };\n    Parser.prototype._parseStylesheetStart = function () {\n        return this._parseCharset();\n    };\n    Parser.prototype._parseStylesheetStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseStylesheetAtStatement(isNested);\n        }\n        return this._parseRuleset(isNested);\n    };\n    Parser.prototype._parseStylesheetAtStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        return this._parseImport()\n            || this._parseMedia(isNested)\n            || this._parsePage()\n            || this._parseFontFace()\n            || this._parseKeyframe()\n            || this._parseSupports(isNested)\n            || this._parseViewPort()\n            || this._parseNamespace()\n            || this._parseDocument()\n            || this._parseUnknownAtRule();\n    };\n    Parser.prototype._tryParseRuleset = function (isNested) {\n        var mark = this.mark();\n        if (this._parseSelector(isNested)) {\n            while (this.accept(TokenType.Comma) && this._parseSelector(isNested)) {\n                // loop\n            }\n            if (this.accept(TokenType.CurlyL)) {\n                this.restoreAtMark(mark);\n                return this._parseRuleset(isNested);\n            }\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parseRuleset = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        var node = this.create(nodes.RuleSet);\n        var selectors = node.getSelectors();\n        if (!selectors.addChild(this._parseSelector(isNested))) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!selectors.addChild(this._parseSelector(isNested))) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseRuleSetDeclarationAtStatement = function () {\n        return this._parseAtApply()\n            || this._parseUnknownAtRule();\n    };\n    Parser.prototype._parseRuleSetDeclaration = function () {\n        // https://www.w3.org/TR/css-syntax-3/#consume-a-list-of-declarations0\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseRuleSetDeclarationAtStatement();\n        }\n        return this._tryParseCustomPropertyDeclaration()\n            || this._parseDeclaration();\n    };\n    /**\n     * Parses declarations like:\n     *   @apply --my-theme;\n     *\n     * Follows https://tabatkins.github.io/specs/css-apply-rule/#using\n     */\n    Parser.prototype._parseAtApply = function () {\n        if (!this.peekKeyword('@apply')) {\n            return null;\n        }\n        var node = this.create(nodes.AtApplyRule);\n        this.consumeToken();\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Variable]))) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._needsSemicolonAfter = function (node) {\n        switch (node.type) {\n            case nodes.NodeType.Keyframe:\n            case nodes.NodeType.ViewPort:\n            case nodes.NodeType.Media:\n            case nodes.NodeType.Ruleset:\n            case nodes.NodeType.Namespace:\n            case nodes.NodeType.If:\n            case nodes.NodeType.For:\n            case nodes.NodeType.Each:\n            case nodes.NodeType.While:\n            case nodes.NodeType.MixinDeclaration:\n            case nodes.NodeType.FunctionDeclaration:\n            case nodes.NodeType.MixinContentDeclaration:\n                return false;\n            case nodes.NodeType.ExtendsReference:\n            case nodes.NodeType.MixinContentReference:\n            case nodes.NodeType.ReturnStatement:\n            case nodes.NodeType.MediaQuery:\n            case nodes.NodeType.Debug:\n            case nodes.NodeType.Import:\n            case nodes.NodeType.AtApplyRule:\n            case nodes.NodeType.CustomPropertyDeclaration:\n                return true;\n            case nodes.NodeType.VariableDeclaration:\n                return node.needsSemicolon;\n            case nodes.NodeType.MixinReference:\n                return !node.getContent();\n            case nodes.NodeType.Declaration:\n                return !node.getNestedProperties();\n        }\n        return false;\n    };\n    Parser.prototype._parseDeclarations = function (parseDeclaration) {\n        var node = this.create(nodes.Declarations);\n        if (!this.accept(TokenType.CurlyL)) {\n            return null;\n        }\n        var decl = parseDeclaration();\n        while (node.addChild(decl)) {\n            if (this.peek(TokenType.CurlyR)) {\n                break;\n            }\n            if (this._needsSemicolonAfter(decl) && !this.accept(TokenType.SemiColon)) {\n                return this.finish(node, ParseError.SemiColonExpected, [TokenType.SemiColon, TokenType.CurlyR]);\n            }\n            // We accepted semicolon token. Link it to declaration.\n            if (decl && this.prevToken && this.prevToken.type === TokenType.SemiColon) {\n                decl.semicolonPosition = this.prevToken.offset;\n            }\n            while (this.accept(TokenType.SemiColon)) {\n                // accept empty statements\n            }\n            decl = parseDeclaration();\n        }\n        if (!this.accept(TokenType.CurlyR)) {\n            return this.finish(node, ParseError.RightCurlyExpected, [TokenType.CurlyR, TokenType.SemiColon]);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseBody = function (node, parseDeclaration) {\n        if (!node.setDeclarations(this._parseDeclarations(parseDeclaration))) {\n            return this.finish(node, ParseError.LeftCurlyExpected, [TokenType.CurlyR, TokenType.SemiColon]);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseSelector = function (isNested) {\n        var node = this.create(nodes.Selector);\n        var hasContent = false;\n        if (isNested) {\n            // nested selectors can start with a combinator\n            hasContent = node.addChild(this._parseCombinator());\n        }\n        while (node.addChild(this._parseSimpleSelector())) {\n            hasContent = true;\n            node.addChild(this._parseCombinator()); // optional\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    Parser.prototype._parseDeclaration = function (resyncStopTokens) {\n        var node = this.create(nodes.Declaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            var stopTokens = resyncStopTokens ? __spreadArrays(resyncStopTokens, [TokenType.SemiColon]) : [TokenType.SemiColon];\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon], stopTokens);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        if (!node.setValue(this._parseExpr())) {\n            return this.finish(node, ParseError.PropertyValueExpected);\n        }\n        node.addChild(this._parsePrio());\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._tryParseCustomPropertyDeclaration = function () {\n        if (!this.peekRegExp(TokenType.Ident, /^--/)) {\n            return null;\n        }\n        var node = this.create(nodes.CustomPropertyDeclaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon]);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        var mark = this.mark();\n        if (this.peek(TokenType.CurlyL)) {\n            // try to parse it as nested declaration\n            var propertySet = this.create(nodes.CustomPropertySet);\n            var declarations = this._parseDeclarations(this._parseRuleSetDeclaration.bind(this));\n            if (propertySet.setDeclarations(declarations) && !declarations.isErroneous(true)) {\n                propertySet.addChild(this._parsePrio());\n                if (this.peek(TokenType.SemiColon)) {\n                    this.finish(propertySet);\n                    node.setPropertySet(propertySet);\n                    node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n                    return this.finish(node);\n                }\n            }\n            this.restoreAtMark(mark);\n        }\n        // try tp parse as expression\n        var expression = this._parseExpr();\n        if (expression && !expression.isErroneous(true)) {\n            this._parsePrio();\n            if (this.peek(TokenType.SemiColon)) {\n                node.setValue(expression);\n                node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n                return this.finish(node);\n            }\n        }\n        this.restoreAtMark(mark);\n        node.addChild(this._parseCustomPropertyValue());\n        node.addChild(this._parsePrio());\n        if (isDefined(node.colonPosition) && this.token.offset === node.colonPosition + 1) {\n            return this.finish(node, ParseError.PropertyValueExpected);\n        }\n        return this.finish(node);\n    };\n    /**\n     * Parse custom property values.\n     *\n     * Based on https://www.w3.org/TR/css-variables/#syntax\n     *\n     * This code is somewhat unusual, as the allowed syntax is incredibly broad,\n     * parsing almost any sequence of tokens, save for a small set of exceptions.\n     * Unbalanced delimitors, invalid tokens, and declaration\n     * terminators like semicolons and !important directives (when not inside\n     * of delimitors).\n     */\n    Parser.prototype._parseCustomPropertyValue = function () {\n        var node = this.create(nodes.Node);\n        var isTopLevel = function () { return curlyDepth === 0 && parensDepth === 0 && bracketsDepth === 0; };\n        var curlyDepth = 0;\n        var parensDepth = 0;\n        var bracketsDepth = 0;\n        done: while (true) {\n            switch (this.token.type) {\n                case TokenType.SemiColon:\n                    // A semicolon only ends things if we're not inside a delimitor.\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.Exclamation:\n                    // An exclamation ends the value if we're not inside delims.\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.CurlyL:\n                    curlyDepth++;\n                    break;\n                case TokenType.CurlyR:\n                    curlyDepth--;\n                    if (curlyDepth < 0) {\n                        // The property value has been terminated without a semicolon, and\n                        // this is the last declaration in the ruleset.\n                        if (parensDepth === 0 && bracketsDepth === 0) {\n                            break done;\n                        }\n                        return this.finish(node, ParseError.LeftCurlyExpected);\n                    }\n                    break;\n                case TokenType.ParenthesisL:\n                    parensDepth++;\n                    break;\n                case TokenType.ParenthesisR:\n                    parensDepth--;\n                    if (parensDepth < 0) {\n                        return this.finish(node, ParseError.LeftParenthesisExpected);\n                    }\n                    break;\n                case TokenType.BracketL:\n                    bracketsDepth++;\n                    break;\n                case TokenType.BracketR:\n                    bracketsDepth--;\n                    if (bracketsDepth < 0) {\n                        return this.finish(node, ParseError.LeftSquareBracketExpected);\n                    }\n                    break;\n                case TokenType.BadString: // fall through\n                    break done;\n                case TokenType.EOF:\n                    // We shouldn't have reached the end of input, something is\n                    // unterminated.\n                    var error = ParseError.RightCurlyExpected;\n                    if (bracketsDepth > 0) {\n                        error = ParseError.RightSquareBracketExpected;\n                    }\n                    else if (parensDepth > 0) {\n                        error = ParseError.RightParenthesisExpected;\n                    }\n                    return this.finish(node, error);\n            }\n            this.consumeToken();\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._tryToParseDeclaration = function () {\n        var mark = this.mark();\n        if (this._parseProperty() && this.accept(TokenType.Colon)) {\n            // looks like a declaration, go ahead\n            this.restoreAtMark(mark);\n            return this._parseDeclaration();\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parseProperty = function () {\n        var node = this.create(nodes.Property);\n        var mark = this.mark();\n        if (this.acceptDelim('*') || this.acceptDelim('_')) {\n            // support for  IE 5.x, 6 and 7 star hack: see http://en.wikipedia.org/wiki/CSS_filter#Star_hack\n            if (this.hasWhitespace()) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (node.setIdentifier(this._parsePropertyIdentifier())) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parsePropertyIdentifier = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseCharset = function () {\n        if (!this.peek(TokenType.Charset)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken(); // charset\n        if (!this.accept(TokenType.String)) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import')) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken(); // @import\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamespace = function () {\n        // http://www.w3.org/TR/css3-namespace/\n        // namespace  : NAMESPACE_SYM S* [IDENT S*]? [STRING|URI] S* ';' S*\n        if (!this.peekKeyword('@namespace')) {\n            return null;\n        }\n        var node = this.create(nodes.Namespace);\n        this.consumeToken(); // @namespace\n        if (!node.addChild(this._parseURILiteral())) { // url literal also starts with ident\n            node.addChild(this._parseIdent()); // optional prefix\n            if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n                return this.finish(node, ParseError.URIExpected, [TokenType.SemiColon]);\n            }\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseFontFace = function () {\n        if (!this.peekKeyword('@font-face')) {\n            return null;\n        }\n        var node = this.create(nodes.FontFace);\n        this.consumeToken(); // @font-face\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseViewPort = function () {\n        if (!this.peekKeyword('@-ms-viewport') &&\n            !this.peekKeyword('@-o-viewport') &&\n            !this.peekKeyword('@viewport')) {\n            return null;\n        }\n        var node = this.create(nodes.ViewPort);\n        this.consumeToken(); // @-ms-viewport\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseKeyframe = function () {\n        if (!this.peekRegExp(TokenType.AtKeyword, this.keyframeRegex)) {\n            return null;\n        }\n        var node = this.create(nodes.Keyframe);\n        var atNode = this.create(nodes.Node);\n        this.consumeToken(); // atkeyword\n        node.setKeyword(this.finish(atNode));\n        if (atNode.matches('@-ms-keyframes')) { // -ms-keyframes never existed\n            this.markError(atNode, ParseError.UnknownKeyword);\n        }\n        if (!node.setIdentifier(this._parseKeyframeIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, this._parseKeyframeSelector.bind(this));\n    };\n    Parser.prototype._parseKeyframeIdent = function () {\n        return this._parseIdent([nodes.ReferenceType.Keyframe]);\n    };\n    Parser.prototype._parseKeyframeSelector = function () {\n        var node = this.create(nodes.KeyframeSelector);\n        if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n                return this.finish(node, ParseError.PercentageExpected);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._tryParseKeyframeSelector = function () {\n        var node = this.create(nodes.KeyframeSelector);\n        var pos = this.mark();\n        if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n                this.restoreAtMark(pos);\n                return null;\n            }\n        }\n        if (!this.peek(TokenType.CurlyL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseSupports = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        // SUPPORTS_SYM S* supports_condition '{' S* ruleset* '}' S*\n        if (!this.peekKeyword('@supports')) {\n            return null;\n        }\n        var node = this.create(nodes.Supports);\n        this.consumeToken(); // @supports\n        node.addChild(this._parseSupportsCondition());\n        return this._parseBody(node, this._parseSupportsDeclaration.bind(this, isNested));\n    };\n    Parser.prototype._parseSupportsDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (isNested) {\n            // if nested, the body can contain rulesets, but also declarations\n            return this._tryParseRuleset(true)\n                || this._tryToParseDeclaration()\n                || this._parseStylesheetStatement(true);\n        }\n        return this._parseStylesheetStatement(false);\n    };\n    Parser.prototype._parseSupportsCondition = function () {\n        // supports_condition : supports_negation | supports_conjunction | supports_disjunction | supports_condition_in_parens ;\n        // supports_condition_in_parens: ( '(' S* supports_condition S* ')' ) | supports_declaration_condition | general_enclosed ;\n        // supports_negation: NOT S+ supports_condition_in_parens ;\n        // supports_conjunction: supports_condition_in_parens ( S+ AND S+ supports_condition_in_parens )+;\n        // supports_disjunction: supports_condition_in_parens ( S+ OR S+ supports_condition_in_parens )+;\n        // supports_declaration_condition: '(' S* declaration ')';\n        // general_enclosed: ( FUNCTION | '(' ) ( any | unused )* ')' ;\n        var node = this.create(nodes.SupportsCondition);\n        if (this.acceptIdent('not')) {\n            node.addChild(this._parseSupportsConditionInParens());\n        }\n        else {\n            node.addChild(this._parseSupportsConditionInParens());\n            if (this.peekRegExp(TokenType.Ident, /^(and|or)$/i)) {\n                var text = this.token.text.toLowerCase();\n                while (this.acceptIdent(text)) {\n                    node.addChild(this._parseSupportsConditionInParens());\n                }\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseSupportsConditionInParens = function () {\n        var node = this.create(nodes.SupportsCondition);\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (this.prevToken) {\n                node.lParent = this.prevToken.offset;\n            }\n            if (!node.addChild(this._tryToParseDeclaration())) {\n                if (!this._parseSupportsCondition()) {\n                    return this.finish(node, ParseError.ConditionExpected);\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.ParenthesisR], []);\n            }\n            if (this.prevToken) {\n                node.rParent = this.prevToken.offset;\n            }\n            return this.finish(node);\n        }\n        else if (this.peek(TokenType.Ident)) {\n            var pos = this.mark();\n            this.consumeToken();\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var openParentCount = 1;\n                while (this.token.type !== TokenType.EOF && openParentCount !== 0) {\n                    if (this.token.type === TokenType.ParenthesisL) {\n                        openParentCount++;\n                    }\n                    else if (this.token.type === TokenType.ParenthesisR) {\n                        openParentCount--;\n                    }\n                    this.consumeToken();\n                }\n                return this.finish(node);\n            }\n            else {\n                this.restoreAtMark(pos);\n            }\n        }\n        return this.finish(node, ParseError.LeftParenthesisExpected, [], [TokenType.ParenthesisL]);\n    };\n    Parser.prototype._parseMediaDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (isNested) {\n            // if nested, the body can contain rulesets, but also declarations\n            return this._tryParseRuleset(true)\n                || this._tryToParseDeclaration()\n                || this._parseStylesheetStatement(true);\n        }\n        return this._parseStylesheetStatement(false);\n    };\n    Parser.prototype._parseMedia = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        // MEDIA_SYM S* media_query_list '{' S* ruleset* '}' S*\n        // media_query_list : S* [media_query [ ',' S* media_query ]* ]?\n        if (!this.peekKeyword('@media')) {\n            return null;\n        }\n        var node = this.create(nodes.Media);\n        this.consumeToken(); // @media\n        if (!node.addChild(this._parseMediaQueryList())) {\n            return this.finish(node, ParseError.MediaQueryExpected);\n        }\n        return this._parseBody(node, this._parseMediaDeclaration.bind(this, isNested));\n    };\n    Parser.prototype._parseMediaQueryList = function () {\n        var node = this.create(nodes.Medialist);\n        if (!node.addChild(this._parseMediaQuery([TokenType.CurlyL]))) {\n            return this.finish(node, ParseError.MediaQueryExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseMediaQuery([TokenType.CurlyL]))) {\n                return this.finish(node, ParseError.MediaQueryExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseMediaQuery = function (resyncStopToken) {\n        // http://www.w3.org/TR/css3-mediaqueries/\n        // media_query : [ONLY | NOT]? S* IDENT S* [ AND S* expression ]* | expression [ AND S* expression ]*\n        // expression : '(' S* IDENT S* [ ':' S* expr ]? ')' S*\n        var node = this.create(nodes.MediaQuery);\n        var parseExpression = true;\n        var hasContent = false;\n        if (!this.peek(TokenType.ParenthesisL)) {\n            if (this.acceptIdent('only') || this.acceptIdent('not')) {\n                // optional\n            }\n            if (!node.addChild(this._parseIdent())) {\n                return null;\n            }\n            hasContent = true;\n            parseExpression = this.acceptIdent('and');\n        }\n        while (parseExpression) {\n            // Allow short-circuting for other language constructs.\n            if (node.addChild(this._parseMediaContentStart())) {\n                parseExpression = this.acceptIdent('and');\n                continue;\n            }\n            if (!this.accept(TokenType.ParenthesisL)) {\n                if (hasContent) {\n                    return this.finish(node, ParseError.LeftParenthesisExpected, [], resyncStopToken);\n                }\n                return null;\n            }\n            if (!node.addChild(this._parseMediaFeatureName())) {\n                return this.finish(node, ParseError.IdentifierExpected, [], resyncStopToken);\n            }\n            if (this.accept(TokenType.Colon)) {\n                if (!node.addChild(this._parseExpr())) {\n                    return this.finish(node, ParseError.TermExpected, [], resyncStopToken);\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [], resyncStopToken);\n            }\n            parseExpression = this.acceptIdent('and');\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseMediaContentStart = function () {\n        return null;\n    };\n    Parser.prototype._parseMediaFeatureName = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseMedium = function () {\n        var node = this.create(nodes.Node);\n        if (node.addChild(this._parseIdent())) {\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    Parser.prototype._parsePageDeclaration = function () {\n        return this._parsePageMarginBox() || this._parseRuleSetDeclaration();\n    };\n    Parser.prototype._parsePage = function () {\n        // http://www.w3.org/TR/css3-page/\n        // page_rule : PAGE_SYM S* page_selector_list '{' S* page_body '}' S*\n        // page_body :  /* Can be empty */ declaration? [ ';' S* page_body ]? | page_margin_box page_body\n        if (!this.peekKeyword('@page')) {\n            return null;\n        }\n        var node = this.create(nodes.Page);\n        this.consumeToken();\n        if (node.addChild(this._parsePageSelector())) {\n            while (this.accept(TokenType.Comma)) {\n                if (!node.addChild(this._parsePageSelector())) {\n                    return this.finish(node, ParseError.IdentifierExpected);\n                }\n            }\n        }\n        return this._parseBody(node, this._parsePageDeclaration.bind(this));\n    };\n    Parser.prototype._parsePageMarginBox = function () {\n        // page_margin_box :  margin_sym S* '{' S* declaration? [ ';' S* declaration? ]* '}' S*\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.PageBoxMarginBox);\n        if (!this.acceptOneKeyword(languageFacts.pageBoxDirectives)) {\n            this.markError(node, ParseError.UnknownAtRule, [], [TokenType.CurlyL]);\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parsePageSelector = function () {\n        // page_selector : pseudo_page+ | IDENT pseudo_page*\n        // pseudo_page :  ':' [ \"left\" | \"right\" | \"first\" | \"blank\" ];\n        if (!this.peek(TokenType.Ident) && !this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        node.addChild(this._parseIdent()); // optional ident\n        if (this.accept(TokenType.Colon)) {\n            if (!node.addChild(this._parseIdent())) { // optional ident\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseDocument = function () {\n        // -moz-document is experimental but has been pushed to css4\n        if (!this.peekKeyword('@-moz-document')) {\n            return null;\n        }\n        var node = this.create(nodes.Document);\n        this.consumeToken(); // @-moz-document\n        this.resync([], [TokenType.CurlyL]); // ignore all the rules\n        return this._parseBody(node, this._parseStylesheetStatement.bind(this));\n    };\n    // https://www.w3.org/TR/css-syntax-3/#consume-an-at-rule\n    Parser.prototype._parseUnknownAtRule = function () {\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.UnknownAtRule);\n        node.addChild(this._parseUnknownAtRuleName());\n        var isTopLevel = function () { return curlyDepth === 0 && parensDepth === 0 && bracketsDepth === 0; };\n        var curlyLCount = 0;\n        var curlyDepth = 0;\n        var parensDepth = 0;\n        var bracketsDepth = 0;\n        done: while (true) {\n            switch (this.token.type) {\n                case TokenType.SemiColon:\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.EOF:\n                    if (curlyDepth > 0) {\n                        return this.finish(node, ParseError.RightCurlyExpected);\n                    }\n                    else if (bracketsDepth > 0) {\n                        return this.finish(node, ParseError.RightSquareBracketExpected);\n                    }\n                    else if (parensDepth > 0) {\n                        return this.finish(node, ParseError.RightParenthesisExpected);\n                    }\n                    else {\n                        return this.finish(node);\n                    }\n                case TokenType.CurlyL:\n                    curlyLCount++;\n                    curlyDepth++;\n                    break;\n                case TokenType.CurlyR:\n                    curlyDepth--;\n                    // End of at-rule, consume CurlyR and return node\n                    if (curlyLCount > 0 && curlyDepth === 0) {\n                        this.consumeToken();\n                        if (bracketsDepth > 0) {\n                            return this.finish(node, ParseError.RightSquareBracketExpected);\n                        }\n                        else if (parensDepth > 0) {\n                            return this.finish(node, ParseError.RightParenthesisExpected);\n                        }\n                        break done;\n                    }\n                    if (curlyDepth < 0) {\n                        // The property value has been terminated without a semicolon, and\n                        // this is the last declaration in the ruleset.\n                        if (parensDepth === 0 && bracketsDepth === 0) {\n                            break done;\n                        }\n                        return this.finish(node, ParseError.LeftCurlyExpected);\n                    }\n                    break;\n                case TokenType.ParenthesisL:\n                    parensDepth++;\n                    break;\n                case TokenType.ParenthesisR:\n                    parensDepth--;\n                    if (parensDepth < 0) {\n                        return this.finish(node, ParseError.LeftParenthesisExpected);\n                    }\n                    break;\n                case TokenType.BracketL:\n                    bracketsDepth++;\n                    break;\n                case TokenType.BracketR:\n                    bracketsDepth--;\n                    if (bracketsDepth < 0) {\n                        return this.finish(node, ParseError.LeftSquareBracketExpected);\n                    }\n                    break;\n            }\n            this.consumeToken();\n        }\n        return node;\n    };\n    Parser.prototype._parseUnknownAtRuleName = function () {\n        var node = this.create(nodes.Node);\n        if (this.accept(TokenType.AtKeyword)) {\n            return this.finish(node);\n        }\n        return node;\n    };\n    Parser.prototype._parseOperator = function () {\n        // these are operators for binary expressions\n        if (this.peekDelim('/') ||\n            this.peekDelim('*') ||\n            this.peekDelim('+') ||\n            this.peekDelim('-') ||\n            this.peek(TokenType.Dashmatch) ||\n            this.peek(TokenType.Includes) ||\n            this.peek(TokenType.SubstringOperator) ||\n            this.peek(TokenType.PrefixOperator) ||\n            this.peek(TokenType.SuffixOperator) ||\n            this.peekDelim('=')) { // doesn't stick to the standard here\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    Parser.prototype._parseUnaryOperator = function () {\n        if (!this.peekDelim('+') && !this.peekDelim('-')) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseCombinator = function () {\n        if (this.peekDelim('>')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            var mark = this.mark();\n            if (!this.hasWhitespace() && this.acceptDelim('>')) {\n                if (!this.hasWhitespace() && this.acceptDelim('>')) {\n                    node.type = nodes.NodeType.SelectorCombinatorShadowPiercingDescendant;\n                    return this.finish(node);\n                }\n                this.restoreAtMark(mark);\n            }\n            node.type = nodes.NodeType.SelectorCombinatorParent;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('+')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            node.type = nodes.NodeType.SelectorCombinatorSibling;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('~')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            node.type = nodes.NodeType.SelectorCombinatorAllSiblings;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('/')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            var mark = this.mark();\n            if (!this.hasWhitespace() && this.acceptIdent('deep') && !this.hasWhitespace() && this.acceptDelim('/')) {\n                node.type = nodes.NodeType.SelectorCombinatorShadowPiercingDescendant;\n                return this.finish(node);\n            }\n            this.restoreAtMark(mark);\n        }\n        return null;\n    };\n    Parser.prototype._parseSimpleSelector = function () {\n        // simple_selector\n        //  : element_name [ HASH | class | attrib | pseudo ]* | [ HASH | class | attrib | pseudo ]+ ;\n        var node = this.create(nodes.SimpleSelector);\n        var c = 0;\n        if (node.addChild(this._parseElementName())) {\n            c++;\n        }\n        while ((c === 0 || !this.hasWhitespace()) && node.addChild(this._parseSimpleSelectorBody())) {\n            c++;\n        }\n        return c > 0 ? this.finish(node) : null;\n    };\n    Parser.prototype._parseSimpleSelectorBody = function () {\n        return this._parsePseudo() || this._parseHash() || this._parseClass() || this._parseAttrib();\n    };\n    Parser.prototype._parseSelectorIdent = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseHash = function () {\n        if (!this.peek(TokenType.Hash) && !this.peekDelim('#')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.IdentifierSelector);\n        if (this.acceptDelim('#')) {\n            if (this.hasWhitespace() || !node.addChild(this._parseSelectorIdent())) {\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n        }\n        else {\n            this.consumeToken(); // TokenType.Hash\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseClass = function () {\n        // class: '.' IDENT ;\n        if (!this.peekDelim('.')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.ClassSelector);\n        this.consumeToken(); // '.'\n        if (this.hasWhitespace() || !node.addChild(this._parseSelectorIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseElementName = function () {\n        // element_name: (ns? '|')? IDENT | '*';\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.ElementNameSelector);\n        node.addChild(this._parseNamespacePrefix());\n        if (!node.addChild(this._parseSelectorIdent()) && !this.acceptDelim('*')) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamespacePrefix = function () {\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.NamespacePrefix);\n        if (!node.addChild(this._parseIdent()) && !this.acceptDelim('*')) {\n            // ns is optional\n        }\n        if (!this.acceptDelim('|')) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseAttrib = function () {\n        // attrib : '[' S* IDENT S* [ [ '=' | INCLUDES | DASHMATCH ] S*   [ IDENT | STRING ] S* ]? ']'\n        if (!this.peek(TokenType.BracketL)) {\n            return null;\n        }\n        var node = this.create(nodes.AttributeSelector);\n        this.consumeToken(); // BracketL\n        // Optional attrib namespace\n        node.setNamespacePrefix(this._parseNamespacePrefix());\n        if (!node.setIdentifier(this._parseIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        if (node.setOperator(this._parseOperator())) {\n            node.setValue(this._parseBinaryExpr());\n            this.acceptIdent('i'); // case insensitive matching\n        }\n        if (!this.accept(TokenType.BracketR)) {\n            return this.finish(node, ParseError.RightSquareBracketExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parsePseudo = function () {\n        var _this = this;\n        // pseudo: ':' [ IDENT | FUNCTION S* [IDENT S*]? ')' ]\n        var node = this._tryParsePseudoIdentifier();\n        if (node) {\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var tryAsSelector = function () {\n                    var selectors = _this.create(nodes.Node);\n                    if (!selectors.addChild(_this._parseSelector(false))) {\n                        return null;\n                    }\n                    while (_this.accept(TokenType.Comma) && selectors.addChild(_this._parseSelector(false))) {\n                        // loop\n                    }\n                    if (_this.peek(TokenType.ParenthesisR)) {\n                        return _this.finish(selectors);\n                    }\n                    return null;\n                };\n                node.addChild(this.try(tryAsSelector) || this._parseBinaryExpr());\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    return this.finish(node, ParseError.RightParenthesisExpected);\n                }\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._tryParsePseudoIdentifier = function () {\n        if (!this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.PseudoSelector);\n        this.consumeToken(); // Colon\n        if (this.hasWhitespace()) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        // optional, support ::\n        if (this.accept(TokenType.Colon) && this.hasWhitespace()) {\n            this.markError(node, ParseError.IdentifierExpected);\n        }\n        if (!node.addChild(this._parseIdent())) {\n            this.markError(node, ParseError.IdentifierExpected);\n        }\n        return node;\n    };\n    Parser.prototype._tryParsePrio = function () {\n        var mark = this.mark();\n        var prio = this._parsePrio();\n        if (prio) {\n            return prio;\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parsePrio = function () {\n        if (!this.peek(TokenType.Exclamation)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Prio);\n        if (this.accept(TokenType.Exclamation) && this.acceptIdent('important')) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseExpr = function (stopOnComma) {\n        if (stopOnComma === void 0) { stopOnComma = false; }\n        var node = this.create(nodes.Expression);\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return null;\n        }\n        while (true) {\n            if (this.peek(TokenType.Comma)) { // optional\n                if (stopOnComma) {\n                    return this.finish(node);\n                }\n                this.consumeToken();\n            }\n            if (!node.addChild(this._parseBinaryExpr())) {\n                break;\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamedLine = function () {\n        // https://www.w3.org/TR/css-grid-1/#named-lines\n        if (!this.peek(TokenType.BracketL)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.GridLine);\n        this.consumeToken();\n        while (node.addChild(this._parseIdent())) {\n            // repeat\n        }\n        if (!this.accept(TokenType.BracketR)) {\n            return this.finish(node, ParseError.RightSquareBracketExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseBinaryExpr = function (preparsedLeft, preparsedOper) {\n        var node = this.create(nodes.BinaryExpression);\n        if (!node.setLeft((preparsedLeft || this._parseTerm()))) {\n            return null;\n        }\n        if (!node.setOperator(preparsedOper || this._parseOperator())) {\n            return this.finish(node);\n        }\n        if (!node.setRight(this._parseTerm())) {\n            return this.finish(node, ParseError.TermExpected);\n        }\n        // things needed for multiple binary expressions\n        node = this.finish(node);\n        var operator = this._parseOperator();\n        if (operator) {\n            node = this._parseBinaryExpr(node, operator);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseTerm = function () {\n        var node = this.create(nodes.Term);\n        node.setOperator(this._parseUnaryOperator()); // optional\n        if (node.setExpression(this._parseTermExpression())) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseTermExpression = function () {\n        return this._parseURILiteral() || // url before function\n            this._parseFunction() || // function before ident\n            this._parseIdent() ||\n            this._parseStringLiteral() ||\n            this._parseNumeric() ||\n            this._parseHexColor() ||\n            this._parseOperation() ||\n            this._parseNamedLine();\n    };\n    Parser.prototype._parseOperation = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken(); // ParenthesisL\n        node.addChild(this._parseExpr());\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNumeric = function () {\n        if (this.peek(TokenType.Num) ||\n            this.peek(TokenType.Percentage) ||\n            this.peek(TokenType.Resolution) ||\n            this.peek(TokenType.Length) ||\n            this.peek(TokenType.EMS) ||\n            this.peek(TokenType.EXS) ||\n            this.peek(TokenType.Angle) ||\n            this.peek(TokenType.Time) ||\n            this.peek(TokenType.Dimension) ||\n            this.peek(TokenType.Freq)) {\n            var node = this.create(nodes.NumericValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseStringLiteral = function () {\n        if (!this.peek(TokenType.String) && !this.peek(TokenType.BadString)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.StringLiteral);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseURILiteral = function () {\n        if (!this.peekRegExp(TokenType.Ident, /^url(-prefix)?$/i)) {\n            return null;\n        }\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.URILiteral);\n        this.accept(TokenType.Ident);\n        if (this.hasWhitespace() || !this.peek(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        this.scanner.inURL = true;\n        this.consumeToken(); // consume ()\n        node.addChild(this._parseURLArgument()); // argument is optional\n        this.scanner.inURL = false;\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseURLArgument = function () {\n        var node = this.create(nodes.Node);\n        if (!this.accept(TokenType.String) && !this.accept(TokenType.BadString) && !this.acceptUnquotedString()) {\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseIdent = function (referenceTypes) {\n        if (!this.peek(TokenType.Ident)) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        if (referenceTypes) {\n            node.referenceTypes = referenceTypes;\n        }\n        node.isCustomProperty = this.peekRegExp(TokenType.Ident, /^--/);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunction = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Function);\n        if (!node.setIdentifier(this._parseFunctionIdentifier())) {\n            return null;\n        }\n        if (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (node.getArguments().addChild(this._parseFunctionArgument())) {\n            while (this.accept(TokenType.Comma)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getArguments().addChild(this._parseFunctionArgument())) {\n                    this.markError(node, ParseError.ExpressionExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunctionIdentifier = function () {\n        if (!this.peek(TokenType.Ident)) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        node.referenceTypes = [nodes.ReferenceType.Function];\n        if (this.acceptIdent('progid')) {\n            // support for IE7 specific filters: 'progid:DXImageTransform.Microsoft.MotionBlur(strength=13, direction=310)'\n            if (this.accept(TokenType.Colon)) {\n                while (this.accept(TokenType.Ident) && this.acceptDelim('.')) {\n                    // loop\n                }\n            }\n            return this.finish(node);\n        }\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunctionArgument = function () {\n        var node = this.create(nodes.FunctionArgument);\n        if (node.setValue(this._parseExpr(true))) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseHexColor = function () {\n        if (this.peekRegExp(TokenType.Hash, /^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/g)) {\n            var node = this.create(nodes.HexColorValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    return Parser;\n}());\nexport { Parser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nodes from '../parser/cssNodes.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { SelectorPrinting } from './selectorPrinting.js';\nimport { startsWith } from '../utils/strings.js';\nimport { Range, MarkupKind } from '../cssLanguageTypes.js';\nimport { isDefined } from '../utils/objects.js';\nvar CSSHover = /** @class */ (function () {\n    function CSSHover(clientCapabilities, cssDataManager) {\n        this.clientCapabilities = clientCapabilities;\n        this.cssDataManager = cssDataManager;\n        this.selectorPrinting = new SelectorPrinting(cssDataManager);\n    }\n    CSSHover.prototype.doHover = function (document, position, stylesheet) {\n        function getRange(node) {\n            return Range.create(document.positionAt(node.offset), document.positionAt(node.end));\n        }\n        var offset = document.offsetAt(position);\n        var nodepath = nodes.getNodePath(stylesheet, offset);\n        /**\n         * nodepath is top-down\n         * Build up the hover by appending inner node's information\n         */\n        var hover = null;\n        for (var i = 0; i < nodepath.length; i++) {\n            var node = nodepath[i];\n            if (node instanceof nodes.Selector) {\n                hover = {\n                    contents: this.selectorPrinting.selectorToMarkedString(node),\n                    range: getRange(node)\n                };\n                break;\n            }\n            if (node instanceof nodes.SimpleSelector) {\n                /**\n                 * Some sass specific at rules such as `@at-root` are parsed as `SimpleSelector`\n                 */\n                if (!startsWith(node.getText(), '@')) {\n                    hover = {\n                        contents: this.selectorPrinting.simpleSelectorToMarkedString(node),\n                        range: getRange(node)\n                    };\n                }\n                break;\n            }\n            if (node instanceof nodes.Declaration) {\n                var propertyName = node.getFullPropertyName();\n                var entry = this.cssDataManager.getProperty(propertyName);\n                if (entry) {\n                    var contents = languageFacts.getEntryDescription(entry, this.doesSupportMarkdown());\n                    if (contents) {\n                        hover = {\n                            contents: contents,\n                            range: getRange(node)\n                        };\n                    }\n                    else {\n                        hover = null;\n                    }\n                }\n                continue;\n            }\n            if (node instanceof nodes.UnknownAtRule) {\n                var atRuleName = node.getText();\n                var entry = this.cssDataManager.getAtDirective(atRuleName);\n                if (entry) {\n                    var contents = languageFacts.getEntryDescription(entry, this.doesSupportMarkdown());\n                    if (contents) {\n                        hover = {\n                            contents: contents,\n                            range: getRange(node)\n                        };\n                    }\n                    else {\n                        hover = null;\n                    }\n                }\n                continue;\n            }\n            if (node instanceof nodes.Node && node.type === nodes.NodeType.PseudoSelector) {\n                var selectorName = node.getText();\n                var entry = selectorName.slice(0, 2) === '::'\n                    ? this.cssDataManager.getPseudoElement(selectorName)\n                    : this.cssDataManager.getPseudoClass(selectorName);\n                if (entry) {\n                    var contents = languageFacts.getEntryDescription(entry, this.doesSupportMarkdown());\n                    if (contents) {\n                        hover = {\n                            contents: contents,\n                            range: getRange(node)\n                        };\n                    }\n                    else {\n                        hover = null;\n                    }\n                }\n                continue;\n            }\n        }\n        if (hover) {\n            hover.contents = this.convertContents(hover.contents);\n        }\n        return hover;\n    };\n    CSSHover.prototype.convertContents = function (contents) {\n        if (!this.doesSupportMarkdown()) {\n            if (typeof contents === 'string') {\n                return contents;\n            }\n            // MarkupContent\n            else if ('kind' in contents) {\n                return {\n                    kind: 'plaintext',\n                    value: contents.value\n                };\n            }\n            // MarkedString[]\n            else if (Array.isArray(contents)) {\n                return contents.map(function (c) {\n                    return typeof c === 'string' ? c : c.value;\n                });\n            }\n            // MarkedString\n            else {\n                return contents.value;\n            }\n        }\n        return contents;\n    };\n    CSSHover.prototype.doesSupportMarkdown = function () {\n        if (!isDefined(this.supportsMarkdown)) {\n            if (!isDefined(this.clientCapabilities)) {\n                this.supportsMarkdown = true;\n                return this.supportsMarkdown;\n            }\n            var hover = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.hover;\n            this.supportsMarkdown = hover && hover.contentFormat && Array.isArray(hover.contentFormat) && hover.contentFormat.indexOf(MarkupKind.Markdown) !== -1;\n        }\n        return this.supportsMarkdown;\n    };\n    return CSSHover;\n}());\nexport { CSSHover };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { DocumentHighlightKind, Location, Range, SymbolKind, TextEdit, FileType } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nimport * as nodes from '../parser/cssNodes.js';\nimport { Symbols } from '../parser/cssSymbolScope.js';\nimport { getColorValue, hslFromColor } from '../languageFacts/facts.js';\nimport { startsWith } from '../utils/strings.js';\nimport { dirname, joinPath } from '../utils/resources.js';\nvar localize = nls.loadMessageBundle();\nvar CSSNavigation = /** @class */ (function () {\n    function CSSNavigation(fileSystemProvider) {\n        this.fileSystemProvider = fileSystemProvider;\n    }\n    CSSNavigation.prototype.findDefinition = function (document, position, stylesheet) {\n        var symbols = new Symbols(stylesheet);\n        var offset = document.offsetAt(position);\n        var node = nodes.getNodeAtOffset(stylesheet, offset);\n        if (!node) {\n            return null;\n        }\n        var symbol = symbols.findSymbolFromNode(node);\n        if (!symbol) {\n            return null;\n        }\n        return {\n            uri: document.uri,\n            range: getRange(symbol.node, document)\n        };\n    };\n    CSSNavigation.prototype.findReferences = function (document, position, stylesheet) {\n        var highlights = this.findDocumentHighlights(document, position, stylesheet);\n        return highlights.map(function (h) {\n            return {\n                uri: document.uri,\n                range: h.range\n            };\n        });\n    };\n    CSSNavigation.prototype.findDocumentHighlights = function (document, position, stylesheet) {\n        var result = [];\n        var offset = document.offsetAt(position);\n        var node = nodes.getNodeAtOffset(stylesheet, offset);\n        if (!node || node.type === nodes.NodeType.Stylesheet || node.type === nodes.NodeType.Declarations) {\n            return result;\n        }\n        if (node.type === nodes.NodeType.Identifier && node.parent && node.parent.type === nodes.NodeType.ClassSelector) {\n            node = node.parent;\n        }\n        var symbols = new Symbols(stylesheet);\n        var symbol = symbols.findSymbolFromNode(node);\n        var name = node.getText();\n        stylesheet.accept(function (candidate) {\n            if (symbol) {\n                if (symbols.matchesSymbol(candidate, symbol)) {\n                    result.push({\n                        kind: getHighlightKind(candidate),\n                        range: getRange(candidate, document)\n                    });\n                    return false;\n                }\n            }\n            else if (node && node.type === candidate.type && candidate.matches(name)) {\n                // Same node type and data\n                result.push({\n                    kind: getHighlightKind(candidate),\n                    range: getRange(candidate, document)\n                });\n            }\n            return true;\n        });\n        return result;\n    };\n    CSSNavigation.prototype.isRawStringDocumentLinkNode = function (node) {\n        return node.type === nodes.NodeType.Import;\n    };\n    CSSNavigation.prototype.findDocumentLinks = function (document, stylesheet, documentContext) {\n        var links = this.findUnresolvedLinks(document, stylesheet);\n        for (var i = 0; i < links.length; i++) {\n            var target = links[i].target;\n            if (target && !(/^\\w+:\\/\\//g.test(target))) {\n                var resolved = documentContext.resolveReference(target, document.uri);\n                if (resolved) {\n                    links[i].target = resolved;\n                }\n            }\n        }\n        return links;\n    };\n    CSSNavigation.prototype.findDocumentLinks2 = function (document, stylesheet, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var links, resolvedLinks, _i, links_1, link, target, resolvedTarget;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        links = this.findUnresolvedLinks(document, stylesheet);\n                        resolvedLinks = [];\n                        _i = 0, links_1 = links;\n                        _a.label = 1;\n                    case 1:\n                        if (!(_i < links_1.length)) return [3 /*break*/, 5];\n                        link = links_1[_i];\n                        target = link.target;\n                        if (!(target && !(/^\\w+:\\/\\//g.test(target)))) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.resolveRelativeReference(target, document.uri, documentContext)];\n                    case 2:\n                        resolvedTarget = _a.sent();\n                        if (resolvedTarget !== undefined) {\n                            link.target = resolvedTarget;\n                            resolvedLinks.push(link);\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        resolvedLinks.push(link);\n                        _a.label = 4;\n                    case 4:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 5: return [2 /*return*/, resolvedLinks];\n                }\n            });\n        });\n    };\n    CSSNavigation.prototype.findUnresolvedLinks = function (document, stylesheet) {\n        var _this = this;\n        var result = [];\n        var collect = function (uriStringNode) {\n            var rawUri = uriStringNode.getText();\n            var range = getRange(uriStringNode, document);\n            // Make sure the range is not empty\n            if (range.start.line === range.end.line && range.start.character === range.end.character) {\n                return;\n            }\n            if (startsWith(rawUri, \"'\") || startsWith(rawUri, \"\\\"\")) {\n                rawUri = rawUri.slice(1, -1);\n            }\n            result.push({ target: rawUri, range: range });\n        };\n        stylesheet.accept(function (candidate) {\n            if (candidate.type === nodes.NodeType.URILiteral) {\n                var first = candidate.getChild(0);\n                if (first) {\n                    collect(first);\n                }\n                return false;\n            }\n            /**\n             * In @import, it is possible to include links that do not use `url()`\n             * For example, `@import 'foo.css';`\n             */\n            if (candidate.parent && _this.isRawStringDocumentLinkNode(candidate.parent)) {\n                var rawText = candidate.getText();\n                if (startsWith(rawText, \"'\") || startsWith(rawText, \"\\\"\")) {\n                    collect(candidate);\n                }\n                return false;\n            }\n            return true;\n        });\n        return result;\n    };\n    CSSNavigation.prototype.findDocumentSymbols = function (document, stylesheet) {\n        var result = [];\n        stylesheet.accept(function (node) {\n            var entry = {\n                name: null,\n                kind: SymbolKind.Class,\n                location: null\n            };\n            var locationNode = node;\n            if (node instanceof nodes.Selector) {\n                entry.name = node.getText();\n                locationNode = node.findAParent(nodes.NodeType.Ruleset, nodes.NodeType.ExtendsReference);\n                if (locationNode) {\n                    entry.location = Location.create(document.uri, getRange(locationNode, document));\n                    result.push(entry);\n                }\n                return false;\n            }\n            else if (node instanceof nodes.VariableDeclaration) {\n                entry.name = node.getName();\n                entry.kind = SymbolKind.Variable;\n            }\n            else if (node instanceof nodes.MixinDeclaration) {\n                entry.name = node.getName();\n                entry.kind = SymbolKind.Method;\n            }\n            else if (node instanceof nodes.FunctionDeclaration) {\n                entry.name = node.getName();\n                entry.kind = SymbolKind.Function;\n            }\n            else if (node instanceof nodes.Keyframe) {\n                entry.name = localize('literal.keyframes', \"@keyframes {0}\", node.getName());\n            }\n            else if (node instanceof nodes.FontFace) {\n                entry.name = localize('literal.fontface', \"@font-face\");\n            }\n            else if (node instanceof nodes.Media) {\n                var mediaList = node.getChild(0);\n                if (mediaList instanceof nodes.Medialist) {\n                    entry.name = '@media ' + mediaList.getText();\n                    entry.kind = SymbolKind.Module;\n                }\n            }\n            if (entry.name) {\n                entry.location = Location.create(document.uri, getRange(locationNode, document));\n                result.push(entry);\n            }\n            return true;\n        });\n        return result;\n    };\n    CSSNavigation.prototype.findDocumentColors = function (document, stylesheet) {\n        var result = [];\n        stylesheet.accept(function (node) {\n            var colorInfo = getColorInformation(node, document);\n            if (colorInfo) {\n                result.push(colorInfo);\n            }\n            return true;\n        });\n        return result;\n    };\n    CSSNavigation.prototype.getColorPresentations = function (document, stylesheet, color, range) {\n        var result = [];\n        var red256 = Math.round(color.red * 255), green256 = Math.round(color.green * 255), blue256 = Math.round(color.blue * 255);\n        var label;\n        if (color.alpha === 1) {\n            label = \"rgb(\" + red256 + \", \" + green256 + \", \" + blue256 + \")\";\n        }\n        else {\n            label = \"rgba(\" + red256 + \", \" + green256 + \", \" + blue256 + \", \" + color.alpha + \")\";\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, label) });\n        if (color.alpha === 1) {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256);\n        }\n        else {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256) + toTwoDigitHex(Math.round(color.alpha * 255));\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, label) });\n        var hsl = hslFromColor(color);\n        if (hsl.a === 1) {\n            label = \"hsl(\" + hsl.h + \", \" + Math.round(hsl.s * 100) + \"%, \" + Math.round(hsl.l * 100) + \"%)\";\n        }\n        else {\n            label = \"hsla(\" + hsl.h + \", \" + Math.round(hsl.s * 100) + \"%, \" + Math.round(hsl.l * 100) + \"%, \" + hsl.a + \")\";\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, label) });\n        return result;\n    };\n    CSSNavigation.prototype.doRename = function (document, position, newName, stylesheet) {\n        var _a;\n        var highlights = this.findDocumentHighlights(document, position, stylesheet);\n        var edits = highlights.map(function (h) { return TextEdit.replace(h.range, newName); });\n        return {\n            changes: (_a = {}, _a[document.uri] = edits, _a)\n        };\n    };\n    CSSNavigation.prototype.resolveRelativeReference = function (ref, documentUri, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var moduleName, rootFolderUri, documentFolderUri, modulePath, pathWithinModule;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(ref[0] === '~' && ref[1] !== '/' && this.fileSystemProvider)) return [3 /*break*/, 3];\n                        ref = ref.substring(1);\n                        if (!startsWith(documentUri, 'file://')) return [3 /*break*/, 2];\n                        moduleName = getModuleNameFromPath(ref);\n                        rootFolderUri = documentContext.resolveReference('/', documentUri);\n                        documentFolderUri = dirname(documentUri);\n                        return [4 /*yield*/, this.resolvePathToModule(moduleName, documentFolderUri, rootFolderUri)];\n                    case 1:\n                        modulePath = _a.sent();\n                        if (modulePath) {\n                            pathWithinModule = ref.substring(moduleName.length + 1);\n                            return [2 /*return*/, joinPath(modulePath, pathWithinModule)];\n                        }\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, documentContext.resolveReference(ref, documentUri)];\n                    case 3: return [2 /*return*/, documentContext.resolveReference(ref, documentUri)];\n                }\n            });\n        });\n    };\n    CSSNavigation.prototype.resolvePathToModule = function (_moduleName, documentFolderUri, rootFolderUri) {\n        return __awaiter(this, void 0, void 0, function () {\n            var packPath;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        packPath = joinPath(documentFolderUri, 'node_modules', _moduleName, 'package.json');\n                        return [4 /*yield*/, this.fileExists(packPath)];\n                    case 1:\n                        if (_a.sent()) {\n                            return [2 /*return*/, dirname(packPath)];\n                        }\n                        else if (rootFolderUri && documentFolderUri.startsWith(rootFolderUri) && (documentFolderUri.length !== rootFolderUri.length)) {\n                            return [2 /*return*/, this.resolvePathToModule(_moduleName, dirname(documentFolderUri), rootFolderUri)];\n                        }\n                        return [2 /*return*/, undefined];\n                }\n            });\n        });\n    };\n    CSSNavigation.prototype.fileExists = function (uri) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stat, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.fileSystemProvider) {\n                            return [2 /*return*/, false];\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.fileSystemProvider.stat(uri)];\n                    case 2:\n                        stat = _a.sent();\n                        if (stat.type === FileType.Unknown && stat.size === -1) {\n                            return [2 /*return*/, false];\n                        }\n                        return [2 /*return*/, true];\n                    case 3:\n                        err_1 = _a.sent();\n                        return [2 /*return*/, false];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return CSSNavigation;\n}());\nexport { CSSNavigation };\nfunction getColorInformation(node, document) {\n    var color = getColorValue(node);\n    if (color) {\n        var range = getRange(node, document);\n        return { color: color, range: range };\n    }\n    return null;\n}\nfunction getRange(node, document) {\n    return Range.create(document.positionAt(node.offset), document.positionAt(node.end));\n}\nfunction getHighlightKind(node) {\n    if (node.type === nodes.NodeType.Selector) {\n        return DocumentHighlightKind.Write;\n    }\n    if (node instanceof nodes.Identifier) {\n        if (node.parent && node.parent instanceof nodes.Property) {\n            if (node.isCustomProperty) {\n                return DocumentHighlightKind.Write;\n            }\n        }\n    }\n    if (node.parent) {\n        switch (node.parent.type) {\n            case nodes.NodeType.FunctionDeclaration:\n            case nodes.NodeType.MixinDeclaration:\n            case nodes.NodeType.Keyframe:\n            case nodes.NodeType.VariableDeclaration:\n            case nodes.NodeType.FunctionParameter:\n                return DocumentHighlightKind.Write;\n        }\n    }\n    return DocumentHighlightKind.Read;\n}\nfunction toTwoDigitHex(n) {\n    var r = n.toString(16);\n    return r.length !== 2 ? '0' + r : r;\n}\nfunction getModuleNameFromPath(path) {\n    // If a scoped module (starts with @) then get up until second instance of '/', otherwise get until first instance of '/'\n    if (path[0] === '@') {\n        return path.substring(0, path.indexOf('/', path.indexOf('/') + 1));\n    }\n    return path.substring(0, path.indexOf('/'));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TokenType, Scanner } from './cssScanner.js';\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _DLR = '$'.charCodeAt(0);\nvar _HSH = '#'.charCodeAt(0);\nvar _CUL = '{'.charCodeAt(0);\nvar _EQS = '='.charCodeAt(0);\nvar _BNG = '!'.charCodeAt(0);\nvar _LAN = '<'.charCodeAt(0);\nvar _RAN = '>'.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar _ATS = '@'.charCodeAt(0);\nvar customTokenValue = TokenType.CustomToken;\nexport var VariableName = customTokenValue++;\nexport var InterpolationFunction = customTokenValue++;\nexport var Default = customTokenValue++;\nexport var EqualsOperator = customTokenValue++;\nexport var NotEqualsOperator = customTokenValue++;\nexport var GreaterEqualsOperator = customTokenValue++;\nexport var SmallerEqualsOperator = customTokenValue++;\nexport var Ellipsis = customTokenValue++;\nexport var Module = customTokenValue++;\nvar SCSSScanner = /** @class */ (function (_super) {\n    __extends(SCSSScanner, _super);\n    function SCSSScanner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SCSSScanner.prototype.scanNext = function (offset) {\n        // scss variable\n        if (this.stream.advanceIfChar(_DLR)) {\n            var content = ['$'];\n            if (this.ident(content)) {\n                return this.finishToken(offset, VariableName, content.join(''));\n            }\n            else {\n                this.stream.goBackTo(offset);\n            }\n        }\n        // scss: interpolation function #{..})\n        if (this.stream.advanceIfChars([_HSH, _CUL])) {\n            return this.finishToken(offset, InterpolationFunction);\n        }\n        // operator ==\n        if (this.stream.advanceIfChars([_EQS, _EQS])) {\n            return this.finishToken(offset, EqualsOperator);\n        }\n        // operator !=\n        if (this.stream.advanceIfChars([_BNG, _EQS])) {\n            return this.finishToken(offset, NotEqualsOperator);\n        }\n        // operators <, <=\n        if (this.stream.advanceIfChar(_LAN)) {\n            if (this.stream.advanceIfChar(_EQS)) {\n                return this.finishToken(offset, SmallerEqualsOperator);\n            }\n            return this.finishToken(offset, TokenType.Delim);\n        }\n        // ooperators >, >=\n        if (this.stream.advanceIfChar(_RAN)) {\n            if (this.stream.advanceIfChar(_EQS)) {\n                return this.finishToken(offset, GreaterEqualsOperator);\n            }\n            return this.finishToken(offset, TokenType.Delim);\n        }\n        // ellipis\n        if (this.stream.advanceIfChars([_DOT, _DOT, _DOT])) {\n            return this.finishToken(offset, Ellipsis);\n        }\n        return _super.prototype.scanNext.call(this, offset);\n    };\n    SCSSScanner.prototype.comment = function () {\n        if (_super.prototype.comment.call(this)) {\n            return true;\n        }\n        if (!this.inURL && this.stream.advanceIfChars([_FSL, _FSL])) {\n            this.stream.advanceWhileChar(function (ch) {\n                switch (ch) {\n                    case _NWL:\n                    case _CAR:\n                    case _LFD:\n                        return false;\n                    default:\n                        return true;\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return SCSSScanner;\n}(Scanner));\nexport { SCSSScanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nodes from '../parser/cssNodes.js';\nimport { difference } from '../utils/strings.js';\nimport { Rules } from '../services/lintRules.js';\nimport { Command, TextEdit, CodeAction, CodeActionKind, TextDocumentEdit, VersionedTextDocumentIdentifier } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar CSSCodeActions = /** @class */ (function () {\n    function CSSCodeActions(cssDataManager) {\n        this.cssDataManager = cssDataManager;\n    }\n    CSSCodeActions.prototype.doCodeActions = function (document, range, context, stylesheet) {\n        return this.doCodeActions2(document, range, context, stylesheet).map(function (ca) {\n            var textDocumentEdit = ca.edit && ca.edit.documentChanges && ca.edit.documentChanges[0];\n            return Command.create(ca.title, '_css.applyCodeAction', document.uri, document.version, textDocumentEdit && textDocumentEdit.edits);\n        });\n    };\n    CSSCodeActions.prototype.doCodeActions2 = function (document, range, context, stylesheet) {\n        var result = [];\n        if (context.diagnostics) {\n            for (var _i = 0, _a = context.diagnostics; _i < _a.length; _i++) {\n                var diagnostic = _a[_i];\n                this.appendFixesForMarker(document, stylesheet, diagnostic, result);\n            }\n        }\n        return result;\n    };\n    CSSCodeActions.prototype.getFixesForUnknownProperty = function (document, property, marker, result) {\n        var propertyName = property.getName();\n        var candidates = [];\n        this.cssDataManager.getProperties().forEach(function (p) {\n            var score = difference(propertyName, p.name);\n            if (score >= propertyName.length / 2 /*score_lim*/) {\n                candidates.push({ property: p.name, score: score });\n            }\n        });\n        // Sort in descending order.\n        candidates.sort(function (a, b) {\n            return b.score - a.score || a.property.localeCompare(b.property);\n        });\n        var maxActions = 3;\n        for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\n            var candidate = candidates_1[_i];\n            var propertyName_1 = candidate.property;\n            var title = localize('css.codeaction.rename', \"Rename to '{0}'\", propertyName_1);\n            var edit = TextEdit.replace(marker.range, propertyName_1);\n            var documentIdentifier = VersionedTextDocumentIdentifier.create(document.uri, document.version);\n            var workspaceEdit = { documentChanges: [TextDocumentEdit.create(documentIdentifier, [edit])] };\n            var codeAction = CodeAction.create(title, workspaceEdit, CodeActionKind.QuickFix);\n            codeAction.diagnostics = [marker];\n            result.push(codeAction);\n            if (--maxActions <= 0) {\n                return;\n            }\n        }\n    };\n    CSSCodeActions.prototype.appendFixesForMarker = function (document, stylesheet, marker, result) {\n        if (marker.code !== Rules.UnknownProperty.id) {\n            return;\n        }\n        var offset = document.offsetAt(marker.range.start);\n        var end = document.offsetAt(marker.range.end);\n        var nodepath = nodes.getNodePath(stylesheet, offset);\n        for (var i = nodepath.length - 1; i >= 0; i--) {\n            var node = nodepath[i];\n            if (node instanceof nodes.Declaration) {\n                var property = node.getProperty();\n                if (property && property.offset === offset && property.end === end) {\n                    this.getFixesForUnknownProperty(document, property, marker, result);\n                    return;\n                }\n            }\n        }\n    };\n    return CSSCodeActions;\n}());\nexport { CSSCodeActions };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nodes from '../parser/cssNodes.js';\nimport { LintConfigurationSettings, Rules } from './lintRules.js';\nimport { LintVisitor } from './lint.js';\nimport { Range, DiagnosticSeverity } from '../cssLanguageTypes.js';\nvar CSSValidation = /** @class */ (function () {\n    function CSSValidation(cssDataManager) {\n        this.cssDataManager = cssDataManager;\n    }\n    CSSValidation.prototype.configure = function (settings) {\n        this.settings = settings;\n    };\n    CSSValidation.prototype.doValidation = function (document, stylesheet, settings) {\n        if (settings === void 0) { settings = this.settings; }\n        if (settings && settings.validate === false) {\n            return [];\n        }\n        var entries = [];\n        entries.push.apply(entries, nodes.ParseErrorCollector.entries(stylesheet));\n        entries.push.apply(entries, LintVisitor.entries(stylesheet, document, new LintConfigurationSettings(settings && settings.lint), this.cssDataManager));\n        var ruleIds = [];\n        for (var r in Rules) {\n            ruleIds.push(Rules[r].id);\n        }\n        function toDiagnostic(marker) {\n            var range = Range.create(document.positionAt(marker.getOffset()), document.positionAt(marker.getOffset() + marker.getLength()));\n            var source = document.languageId;\n            return {\n                code: marker.getRule().id,\n                source: source,\n                message: marker.getMessage(),\n                severity: marker.getLevel() === nodes.Level.Warning ? DiagnosticSeverity.Warning : DiagnosticSeverity.Error,\n                range: range\n            };\n        }\n        return entries.filter(function (entry) { return entry.getLevel() !== nodes.Level.Ignore; }).map(toDiagnostic);\n    };\n    return CSSValidation;\n}());\nexport { CSSValidation };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as scssScanner from './scssScanner.js';\nimport { TokenType } from './cssScanner.js';\nimport * as cssParser from './cssParser.js';\nimport * as nodes from './cssNodes.js';\nimport { SCSSParseError } from './scssErrors.js';\nimport { ParseError } from './cssErrors.js';\n/// <summary>\n/// A parser for scss\n/// http://sass-lang.com/documentation/file.SASS_REFERENCE.html\n/// </summary>\nvar SCSSParser = /** @class */ (function (_super) {\n    __extends(SCSSParser, _super);\n    function SCSSParser() {\n        return _super.call(this, new scssScanner.SCSSScanner()) || this;\n    }\n    SCSSParser.prototype._parseStylesheetStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseWarnAndDebug() // @warn, @debug and @error statements\n                || this._parseControlStatement() // @if, @while, @for, @each\n                || this._parseMixinDeclaration() // @mixin\n                || this._parseMixinContent() // @content\n                || this._parseMixinReference() // @include\n                || this._parseFunctionDeclaration() // @function\n                || this._parseForward() // @forward\n                || this._parseUse() // @use\n                || this._parseRuleset(isNested) // @at-rule\n                || _super.prototype._parseStylesheetAtStatement.call(this, isNested);\n        }\n        return this._parseRuleset(true) || this._parseVariableDeclaration();\n    };\n    SCSSParser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import')) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken();\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n                return this.finish(node, ParseError.URIOrStringExpected);\n            }\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    // scss variables: $font-size: 12px;\n    SCSSParser.prototype._parseVariableDeclaration = function (panic) {\n        if (panic === void 0) { panic = []; }\n        if (!this.peek(scssScanner.VariableName)) {\n            return null;\n        }\n        var node = this.create(nodes.VariableDeclaration);\n        if (!node.setVariable(this._parseVariable())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        if (!node.setValue(this._parseExpr())) {\n            return this.finish(node, ParseError.VariableValueExpected, [], panic);\n        }\n        while (this.peek(TokenType.Exclamation)) {\n            if (node.addChild(this._tryParsePrio())) {\n                // !important\n            }\n            else {\n                this.consumeToken();\n                if (!this.peekRegExp(TokenType.Ident, /^(default|global)$/)) {\n                    return this.finish(node, ParseError.UnknownKeyword);\n                }\n                this.consumeToken();\n            }\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMediaContentStart = function () {\n        return this._parseInterpolation();\n    };\n    SCSSParser.prototype._parseMediaFeatureName = function () {\n        return this._parseModuleMember()\n            || this._parseFunction() // function before ident\n            || this._parseIdent()\n            || this._parseVariable();\n    };\n    SCSSParser.prototype._parseKeyframeSelector = function () {\n        return this._tryParseKeyframeSelector()\n            || this._parseControlStatement(this._parseKeyframeSelector.bind(this))\n            || this._parseVariableDeclaration()\n            || this._parseMixinContent();\n    };\n    SCSSParser.prototype._parseVariable = function () {\n        if (!this.peek(scssScanner.VariableName)) {\n            return null;\n        }\n        var node = this.create(nodes.Variable);\n        this.consumeToken();\n        return node;\n    };\n    SCSSParser.prototype._parseModuleMember = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Module);\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Module]))) {\n            return null;\n        }\n        if (this.hasWhitespace()\n            || !this.acceptDelim('.')\n            || this.hasWhitespace()) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (!node.addChild(this._parseVariable() || this._parseFunction())) {\n            return this.finish(node, ParseError.IdentifierOrVariableExpected);\n        }\n        return node;\n    };\n    SCSSParser.prototype._parseIdent = function (referenceTypes) {\n        var _this = this;\n        if (!this.peek(TokenType.Ident) && !this.peek(scssScanner.InterpolationFunction) && !this.peekDelim('-')) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        node.referenceTypes = referenceTypes;\n        node.isCustomProperty = this.peekRegExp(TokenType.Ident, /^--/);\n        var hasContent = false;\n        var indentInterpolation = function () {\n            var pos = _this.mark();\n            if (_this.acceptDelim('-')) {\n                if (!_this.hasWhitespace()) {\n                    _this.acceptDelim('-');\n                }\n                if (_this.hasWhitespace()) {\n                    _this.restoreAtMark(pos);\n                    return null;\n                }\n            }\n            return _this._parseInterpolation();\n        };\n        while (this.accept(TokenType.Ident) || node.addChild(indentInterpolation()) || (hasContent && this.acceptRegexp(/[\\w-]/))) {\n            hasContent = true;\n            if (this.hasWhitespace()) {\n                break;\n            }\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    SCSSParser.prototype._parseTermExpression = function () {\n        return this._parseModuleMember() ||\n            this._parseVariable() ||\n            this._parseSelectorCombinator() ||\n            //this._tryParsePrio() ||\n            _super.prototype._parseTermExpression.call(this);\n    };\n    SCSSParser.prototype._parseInterpolation = function () {\n        if (this.peek(scssScanner.InterpolationFunction)) {\n            var node = this.create(nodes.Interpolation);\n            this.consumeToken();\n            if (!node.addChild(this._parseExpr()) && !this._parseSelectorCombinator()) {\n                if (this.accept(TokenType.CurlyR)) {\n                    return this.finish(node);\n                }\n                return this.finish(node, ParseError.ExpressionExpected);\n            }\n            if (!this.accept(TokenType.CurlyR)) {\n                return this.finish(node, ParseError.RightCurlyExpected);\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseOperator = function () {\n        if (this.peek(scssScanner.EqualsOperator) || this.peek(scssScanner.NotEqualsOperator)\n            || this.peek(scssScanner.GreaterEqualsOperator) || this.peek(scssScanner.SmallerEqualsOperator)\n            || this.peekDelim('>') || this.peekDelim('<')\n            || this.peekIdent('and') || this.peekIdent('or')\n            || this.peekDelim('%')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseOperator.call(this);\n    };\n    SCSSParser.prototype._parseUnaryOperator = function () {\n        if (this.peekIdent('not')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseUnaryOperator.call(this);\n    };\n    SCSSParser.prototype._parseRuleSetDeclaration = function () {\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseKeyframe() // nested @keyframe\n                || this._parseImport() // nested @import\n                || this._parseMedia(true) // nested @media\n                || this._parseFontFace() // nested @font-face\n                || this._parseWarnAndDebug() // @warn, @debug and @error statements\n                || this._parseControlStatement() // @if, @while, @for, @each\n                || this._parseFunctionDeclaration() // @function\n                || this._parseExtends() // @extends\n                || this._parseMixinReference() // @include\n                || this._parseMixinContent() // @content\n                || this._parseMixinDeclaration() // nested @mixin\n                || this._parseRuleset(true) // @at-rule\n                || this._parseSupports(true) // @supports\n                || _super.prototype._parseRuleSetDeclarationAtStatement.call(this);\n        }\n        return this._parseVariableDeclaration() // variable declaration\n            || this._tryParseRuleset(true) // nested ruleset\n            || _super.prototype._parseRuleSetDeclaration.call(this); // try css ruleset declaration as last so in the error case, the ast will contain a declaration\n    };\n    SCSSParser.prototype._parseDeclaration = function (resyncStopTokens) {\n        var node = this.create(nodes.Declaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon], resyncStopTokens);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        var hasContent = false;\n        if (node.setValue(this._parseExpr())) {\n            hasContent = true;\n            node.addChild(this._parsePrio());\n        }\n        if (this.peek(TokenType.CurlyL)) {\n            node.setNestedProperties(this._parseNestedProperties());\n        }\n        else {\n            if (!hasContent) {\n                return this.finish(node, ParseError.PropertyValueExpected);\n            }\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseNestedProperties = function () {\n        var node = this.create(nodes.NestedProperties);\n        return this._parseBody(node, this._parseDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseExtends = function () {\n        if (this.peekKeyword('@extend')) {\n            var node = this.create(nodes.ExtendsReference);\n            this.consumeToken();\n            if (!node.getSelectors().addChild(this._parseSimpleSelector())) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n            while (this.accept(TokenType.Comma)) {\n                node.getSelectors().addChild(this._parseSimpleSelector());\n            }\n            if (this.accept(TokenType.Exclamation)) {\n                if (!this.acceptIdent('optional')) {\n                    return this.finish(node, ParseError.UnknownKeyword);\n                }\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseSimpleSelectorBody = function () {\n        return this._parseSelectorCombinator() || this._parseSelectorPlaceholder() || _super.prototype._parseSimpleSelectorBody.call(this);\n    };\n    SCSSParser.prototype._parseSelectorCombinator = function () {\n        if (this.peekDelim('&')) {\n            var node = this.createNode(nodes.NodeType.SelectorCombinator);\n            this.consumeToken();\n            while (!this.hasWhitespace() && (this.acceptDelim('-') || this.accept(TokenType.Num) || this.accept(TokenType.Dimension) || node.addChild(this._parseIdent()) || this.acceptDelim('&'))) {\n                //  support &-foo-1\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseSelectorPlaceholder = function () {\n        if (this.peekDelim('%')) {\n            var node = this.createNode(nodes.NodeType.SelectorPlaceholder);\n            this.consumeToken();\n            this._parseIdent();\n            return this.finish(node);\n        }\n        else if (this.peekKeyword('@at-root')) {\n            var node = this.createNode(nodes.NodeType.SelectorPlaceholder);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseElementName = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseElementName.call(this);\n        if (node && !this.hasWhitespace() && this.peek(TokenType.ParenthesisL)) { // for #49589\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return node;\n    };\n    SCSSParser.prototype._tryParsePseudoIdentifier = function () {\n        return this._parseInterpolation() || _super.prototype._tryParsePseudoIdentifier.call(this); // for #49589\n    };\n    SCSSParser.prototype._parseWarnAndDebug = function () {\n        if (!this.peekKeyword('@debug')\n            && !this.peekKeyword('@warn')\n            && !this.peekKeyword('@error')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Debug);\n        this.consumeToken(); // @debug, @warn or @error\n        node.addChild(this._parseExpr()); // optional\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseControlStatement = function (parseStatement) {\n        if (parseStatement === void 0) { parseStatement = this._parseRuleSetDeclaration.bind(this); }\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        return this._parseIfStatement(parseStatement) || this._parseForStatement(parseStatement)\n            || this._parseEachStatement(parseStatement) || this._parseWhileStatement(parseStatement);\n    };\n    SCSSParser.prototype._parseIfStatement = function (parseStatement) {\n        if (!this.peekKeyword('@if')) {\n            return null;\n        }\n        return this._internalParseIfStatement(parseStatement);\n    };\n    SCSSParser.prototype._internalParseIfStatement = function (parseStatement) {\n        var node = this.create(nodes.IfStatement);\n        this.consumeToken(); // @if or if\n        if (!node.setExpression(this._parseExpr(true))) {\n            return this.finish(node, ParseError.ExpressionExpected);\n        }\n        this._parseBody(node, parseStatement);\n        if (this.acceptKeyword('@else')) {\n            if (this.peekIdent('if')) {\n                node.setElseClause(this._internalParseIfStatement(parseStatement));\n            }\n            else if (this.peek(TokenType.CurlyL)) {\n                var elseNode = this.create(nodes.ElseStatement);\n                this._parseBody(elseNode, parseStatement);\n                node.setElseClause(elseNode);\n            }\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForStatement = function (parseStatement) {\n        if (!this.peekKeyword('@for')) {\n            return null;\n        }\n        var node = this.create(nodes.ForStatement);\n        this.consumeToken(); // @for\n        if (!node.setVariable(this._parseVariable())) {\n            return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n        }\n        if (!this.acceptIdent('from')) {\n            return this.finish(node, SCSSParseError.FromExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        if (!this.acceptIdent('to') && !this.acceptIdent('through')) {\n            return this.finish(node, SCSSParseError.ThroughOrToExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseEachStatement = function (parseStatement) {\n        if (!this.peekKeyword('@each')) {\n            return null;\n        }\n        var node = this.create(nodes.EachStatement);\n        this.consumeToken(); // @each\n        var variables = node.getVariables();\n        if (!variables.addChild(this._parseVariable())) {\n            return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!variables.addChild(this._parseVariable())) {\n                return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n            }\n        }\n        this.finish(variables);\n        if (!this.acceptIdent('in')) {\n            return this.finish(node, SCSSParseError.InExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseWhileStatement = function (parseStatement) {\n        if (!this.peekKeyword('@while')) {\n            return null;\n        }\n        var node = this.create(nodes.WhileStatement);\n        this.consumeToken(); // @while\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseFunctionBodyDeclaration = function () {\n        return this._parseVariableDeclaration() || this._parseReturnStatement() || this._parseWarnAndDebug()\n            || this._parseControlStatement(this._parseFunctionBodyDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseFunctionDeclaration = function () {\n        if (!this.peekKeyword('@function')) {\n            return null;\n        }\n        var node = this.create(nodes.FunctionDeclaration);\n        this.consumeToken(); // @function\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Function]))) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        if (!this.accept(TokenType.ParenthesisL)) {\n            return this.finish(node, ParseError.LeftParenthesisExpected, [TokenType.CurlyR]);\n        }\n        if (node.getParameters().addChild(this._parseParameterDeclaration())) {\n            while (this.accept(TokenType.Comma)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getParameters().addChild(this._parseParameterDeclaration())) {\n                    return this.finish(node, ParseError.VariableNameExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, this._parseFunctionBodyDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseReturnStatement = function () {\n        if (!this.peekKeyword('@return')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.ReturnStatement);\n        this.consumeToken(); // @function\n        if (!node.addChild(this._parseExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinDeclaration = function () {\n        if (!this.peekKeyword('@mixin')) {\n            return null;\n        }\n        var node = this.create(nodes.MixinDeclaration);\n        this.consumeToken();\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Mixin]))) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (node.getParameters().addChild(this._parseParameterDeclaration())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getParameters().addChild(this._parseParameterDeclaration())) {\n                        return this.finish(node, ParseError.VariableNameExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.CurlyR]);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseParameterDeclaration = function () {\n        var node = this.create(nodes.FunctionParameter);\n        if (!node.setIdentifier(this._parseVariable())) {\n            return null;\n        }\n        if (this.accept(scssScanner.Ellipsis)) {\n            // ok\n        }\n        if (this.accept(TokenType.Colon)) {\n            if (!node.setDefaultValue(this._parseExpr(true))) {\n                return this.finish(node, ParseError.VariableValueExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n            }\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinContent = function () {\n        if (!this.peekKeyword('@content')) {\n            return null;\n        }\n        var node = this.create(nodes.MixinContentReference);\n        this.consumeToken();\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (node.getArguments().addChild(this._parseFunctionArgument())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getArguments().addChild(this._parseFunctionArgument())) {\n                        return this.finish(node, ParseError.ExpressionExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinReference = function () {\n        if (!this.peekKeyword('@include')) {\n            return null;\n        }\n        var node = this.create(nodes.MixinReference);\n        this.consumeToken();\n        // Could be module or mixin identifier, set as mixin as default.\n        var firstIdent = this._parseIdent([nodes.ReferenceType.Mixin]);\n        if (!node.setIdentifier(firstIdent)) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        // Is a module accessor.\n        if (!this.hasWhitespace() && this.acceptDelim('.') && !this.hasWhitespace()) {\n            var secondIdent = this._parseIdent([nodes.ReferenceType.Mixin]);\n            if (!secondIdent) {\n                return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n            }\n            var moduleToken = this.create(nodes.Module);\n            // Re-purpose first matched ident as identifier for module token.\n            firstIdent.referenceTypes = [nodes.ReferenceType.Module];\n            moduleToken.setIdentifier(firstIdent);\n            // Override identifier with second ident.\n            node.setIdentifier(secondIdent);\n            node.addChild(moduleToken);\n        }\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (node.getArguments().addChild(this._parseFunctionArgument())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getArguments().addChild(this._parseFunctionArgument())) {\n                        return this.finish(node, ParseError.ExpressionExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected);\n            }\n        }\n        if (this.peekIdent('using') || this.peek(TokenType.CurlyL)) {\n            node.setContent(this._parseMixinContentDeclaration());\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinContentDeclaration = function () {\n        var node = this.create(nodes.MixinContentDeclaration);\n        if (this.acceptIdent('using')) {\n            if (!this.accept(TokenType.ParenthesisL)) {\n                return this.finish(node, ParseError.LeftParenthesisExpected, [TokenType.CurlyL]);\n            }\n            if (node.getParameters().addChild(this._parseParameterDeclaration())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getParameters().addChild(this._parseParameterDeclaration())) {\n                        return this.finish(node, ParseError.VariableNameExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.CurlyL]);\n            }\n        }\n        if (this.peek(TokenType.CurlyL)) {\n            this._parseBody(node, this._parseMixinReferenceBodyStatement.bind(this));\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinReferenceBodyStatement = function () {\n        return this._tryParseKeyframeSelector() || this._parseRuleSetDeclaration();\n    };\n    SCSSParser.prototype._parseFunctionArgument = function () {\n        // [variableName ':'] expression | variableName '...'\n        var node = this.create(nodes.FunctionArgument);\n        var pos = this.mark();\n        var argument = this._parseVariable();\n        if (argument) {\n            if (!this.accept(TokenType.Colon)) {\n                if (this.accept(scssScanner.Ellipsis)) { // optional\n                    node.setValue(argument);\n                    return this.finish(node);\n                }\n                else {\n                    this.restoreAtMark(pos);\n                }\n            }\n            else {\n                node.setIdentifier(argument);\n            }\n        }\n        if (node.setValue(this._parseExpr(true))) {\n            this.accept(scssScanner.Ellipsis); // #43746\n            node.addChild(this._parsePrio()); // #9859\n            return this.finish(node);\n        }\n        else if (node.setValue(this._tryParsePrio())) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseURLArgument = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseURLArgument.call(this);\n        if (!node || !this.peek(TokenType.ParenthesisR)) {\n            this.restoreAtMark(pos);\n            var node_1 = this.create(nodes.Node);\n            node_1.addChild(this._parseBinaryExpr());\n            return this.finish(node_1);\n        }\n        return node;\n    };\n    SCSSParser.prototype._parseOperation = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken();\n        while (node.addChild(this._parseListElement())) {\n            this.accept(TokenType.Comma); // optional\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseListElement = function () {\n        var node = this.create(nodes.ListEntry);\n        var child = this._parseBinaryExpr();\n        if (!child) {\n            return null;\n        }\n        if (this.accept(TokenType.Colon)) {\n            node.setKey(child);\n            if (!node.setValue(this._parseBinaryExpr())) {\n                return this.finish(node, ParseError.ExpressionExpected);\n            }\n        }\n        else {\n            node.setValue(child);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseUse = function () {\n        if (!this.peekKeyword('@use')) {\n            return null;\n        }\n        var node = this.create(nodes.Use);\n        this.consumeToken(); // @use\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            if (!this.peekRegExp(TokenType.Ident, /as|with/)) {\n                return this.finish(node, ParseError.UnknownKeyword);\n            }\n            if (this.acceptIdent('as') &&\n                (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Module])) && !this.acceptDelim('*'))) {\n                return this.finish(node, ParseError.IdentifierOrWildcardExpected);\n            }\n            if (this.acceptIdent('with')) {\n                if (!this.accept(TokenType.ParenthesisL)) {\n                    return this.finish(node, ParseError.LeftParenthesisExpected, [TokenType.ParenthesisR]);\n                }\n                // First variable statement, no comma.\n                if (!node.getParameters().addChild(this._parseModuleConfigDeclaration())) {\n                    return this.finish(node, ParseError.VariableNameExpected);\n                }\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getParameters().addChild(this._parseModuleConfigDeclaration())) {\n                        return this.finish(node, ParseError.VariableNameExpected);\n                    }\n                }\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    return this.finish(node, ParseError.RightParenthesisExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.SemiColon) && !this.accept(TokenType.EOF)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseModuleConfigDeclaration = function () {\n        var node = this.create(nodes.ModuleConfiguration);\n        if (!node.setIdentifier(this._parseVariable())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon) || !node.setValue(this._parseExpr(true))) {\n            return this.finish(node, ParseError.VariableValueExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForward = function () {\n        if (!this.peekKeyword('@forward')) {\n            return null;\n        }\n        var node = this.create(nodes.Forward);\n        this.consumeToken();\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            if (!this.peekRegExp(TokenType.Ident, /as|hide|show/)) {\n                return this.finish(node, ParseError.UnknownKeyword);\n            }\n            if (this.acceptIdent('as')) {\n                var identifier = this._parseIdent([nodes.ReferenceType.Forward]);\n                if (!node.setIdentifier(identifier)) {\n                    return this.finish(node, ParseError.IdentifierExpected);\n                }\n                // Wildcard must be the next character after the identifier string.\n                if (this.hasWhitespace() || !this.acceptDelim('*')) {\n                    return this.finish(node, ParseError.WildcardExpected);\n                }\n            }\n            if (this.peekIdent('hide') || this.peekIdent('show')) {\n                if (!node.addChild(this._parseForwardVisibility())) {\n                    return this.finish(node, ParseError.IdentifierOrVariableExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.SemiColon) && !this.accept(TokenType.EOF)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForwardVisibility = function () {\n        var node = this.create(nodes.ForwardVisibility);\n        // Assume to be \"hide\" or \"show\".\n        node.setIdentifier(this._parseIdent());\n        while (node.addChild(this._parseVariable() || this._parseIdent())) {\n            // Consume all variables and idents ahead.\n        }\n        // More than just identifier \n        return node.getChildren().length > 1 ? node : null;\n    };\n    SCSSParser.prototype._parseSupportsCondition = function () {\n        return this._parseInterpolation() || _super.prototype._parseSupportsCondition.call(this);\n    };\n    return SCSSParser;\n}(cssParser.Parser));\nexport { SCSSParser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CSSCompletion } from './cssCompletion.js';\nimport * as nodes from '../parser/cssNodes.js';\nimport { CompletionItemKind, TextEdit, InsertTextFormat } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar SCSSCompletion = /** @class */ (function (_super) {\n    __extends(SCSSCompletion, _super);\n    function SCSSCompletion(lsServiceOptions, cssDataManager) {\n        var _this = _super.call(this, '$', lsServiceOptions, cssDataManager) || this;\n        addReferencesToDocumentation(SCSSCompletion.scssModuleLoaders);\n        addReferencesToDocumentation(SCSSCompletion.scssModuleBuiltIns);\n        return _this;\n    }\n    SCSSCompletion.prototype.isImportPathParent = function (type) {\n        return type === nodes.NodeType.Forward\n            || type === nodes.NodeType.Use\n            || _super.prototype.isImportPathParent.call(this, type);\n    };\n    SCSSCompletion.prototype.getCompletionForImportPath = function (importPathNode, result) {\n        var parentType = importPathNode.getParent().type;\n        if (parentType === nodes.NodeType.Forward || parentType === nodes.NodeType.Use) {\n            for (var _i = 0, _a = SCSSCompletion.scssModuleBuiltIns; _i < _a.length; _i++) {\n                var p = _a[_i];\n                var item = {\n                    label: p.label,\n                    documentation: p.documentation,\n                    textEdit: TextEdit.replace(this.getCompletionRange(importPathNode), \"'\" + p.label + \"'\"),\n                    kind: CompletionItemKind.Module\n                };\n                result.items.push(item);\n            }\n        }\n        return _super.prototype.getCompletionForImportPath.call(this, importPathNode, result);\n    };\n    SCSSCompletion.prototype.createReplaceFunction = function () {\n        var tabStopCounter = 1;\n        return function (_match, p1) {\n            return '\\\\' + p1 + ': ${' + tabStopCounter++ + ':' + (SCSSCompletion.variableDefaults[p1] || '') + '}';\n        };\n    };\n    SCSSCompletion.prototype.createFunctionProposals = function (proposals, existingNode, sortToEnd, result) {\n        for (var _i = 0, proposals_1 = proposals; _i < proposals_1.length; _i++) {\n            var p = proposals_1[_i];\n            var insertText = p.func.replace(/\\[?(\\$\\w+)\\]?/g, this.createReplaceFunction());\n            var label = p.func.substr(0, p.func.indexOf('('));\n            var item = {\n                label: label,\n                detail: p.func,\n                documentation: p.desc,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                insertTextFormat: InsertTextFormat.Snippet,\n                kind: CompletionItemKind.Function\n            };\n            if (sortToEnd) {\n                item.sortText = 'z';\n            }\n            result.items.push(item);\n        }\n        return result;\n    };\n    SCSSCompletion.prototype.getCompletionsForSelector = function (ruleSet, isNested, result) {\n        this.createFunctionProposals(SCSSCompletion.selectorFuncs, null, true, result);\n        return _super.prototype.getCompletionsForSelector.call(this, ruleSet, isNested, result);\n    };\n    SCSSCompletion.prototype.getTermProposals = function (entry, existingNode, result) {\n        var functions = SCSSCompletion.builtInFuncs;\n        if (entry) {\n            functions = functions.filter(function (f) { return !f.type || !entry.restrictions || entry.restrictions.indexOf(f.type) !== -1; });\n        }\n        this.createFunctionProposals(functions, existingNode, true, result);\n        return _super.prototype.getTermProposals.call(this, entry, existingNode, result);\n    };\n    SCSSCompletion.prototype.getColorProposals = function (entry, existingNode, result) {\n        this.createFunctionProposals(SCSSCompletion.colorProposals, existingNode, false, result);\n        return _super.prototype.getColorProposals.call(this, entry, existingNode, result);\n    };\n    SCSSCompletion.prototype.getCompletionsForDeclarationProperty = function (declaration, result) {\n        this.getCompletionForAtDirectives(result);\n        this.getCompletionsForSelector(null, true, result);\n        return _super.prototype.getCompletionsForDeclarationProperty.call(this, declaration, result);\n    };\n    SCSSCompletion.prototype.getCompletionsForExtendsReference = function (_extendsRef, existingNode, result) {\n        var symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Rule);\n        for (var _i = 0, symbols_1 = symbols; _i < symbols_1.length; _i++) {\n            var symbol = symbols_1[_i];\n            var suggest = {\n                label: symbol.name,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), symbol.name),\n                kind: CompletionItemKind.Function,\n            };\n            result.items.push(suggest);\n        }\n        return result;\n    };\n    SCSSCompletion.prototype.getCompletionForAtDirectives = function (result) {\n        var _a;\n        (_a = result.items).push.apply(_a, SCSSCompletion.scssAtDirectives);\n        return result;\n    };\n    SCSSCompletion.prototype.getCompletionForTopLevel = function (result) {\n        this.getCompletionForAtDirectives(result);\n        this.getCompletionForModuleLoaders(result);\n        _super.prototype.getCompletionForTopLevel.call(this, result);\n        return result;\n    };\n    SCSSCompletion.prototype.getCompletionForModuleLoaders = function (result) {\n        var _a;\n        (_a = result.items).push.apply(_a, SCSSCompletion.scssModuleLoaders);\n        return result;\n    };\n    SCSSCompletion.variableDefaults = {\n        '$red': '1',\n        '$green': '2',\n        '$blue': '3',\n        '$alpha': '1.0',\n        '$color': '#000000',\n        '$weight': '0.5',\n        '$hue': '0',\n        '$saturation': '0%',\n        '$lightness': '0%',\n        '$degrees': '0',\n        '$amount': '0',\n        '$string': '\"\"',\n        '$substring': '\"s\"',\n        '$number': '0',\n        '$limit': '1'\n    };\n    SCSSCompletion.colorProposals = [\n        { func: 'red($color)', desc: localize('scss.builtin.red', 'Gets the red component of a color.') },\n        { func: 'green($color)', desc: localize('scss.builtin.green', 'Gets the green component of a color.') },\n        { func: 'blue($color)', desc: localize('scss.builtin.blue', 'Gets the blue component of a color.') },\n        { func: 'mix($color, $color, [$weight])', desc: localize('scss.builtin.mix', 'Mixes two colors together.') },\n        { func: 'hue($color)', desc: localize('scss.builtin.hue', 'Gets the hue component of a color.') },\n        { func: 'saturation($color)', desc: localize('scss.builtin.saturation', 'Gets the saturation component of a color.') },\n        { func: 'lightness($color)', desc: localize('scss.builtin.lightness', 'Gets the lightness component of a color.') },\n        { func: 'adjust-hue($color, $degrees)', desc: localize('scss.builtin.adjust-hue', 'Changes the hue of a color.') },\n        { func: 'lighten($color, $amount)', desc: localize('scss.builtin.lighten', 'Makes a color lighter.') },\n        { func: 'darken($color, $amount)', desc: localize('scss.builtin.darken', 'Makes a color darker.') },\n        { func: 'saturate($color, $amount)', desc: localize('scss.builtin.saturate', 'Makes a color more saturated.') },\n        { func: 'desaturate($color, $amount)', desc: localize('scss.builtin.desaturate', 'Makes a color less saturated.') },\n        { func: 'grayscale($color)', desc: localize('scss.builtin.grayscale', 'Converts a color to grayscale.') },\n        { func: 'complement($color)', desc: localize('scss.builtin.complement', 'Returns the complement of a color.') },\n        { func: 'invert($color)', desc: localize('scss.builtin.invert', 'Returns the inverse of a color.') },\n        { func: 'alpha($color)', desc: localize('scss.builtin.alpha', 'Gets the opacity component of a color.') },\n        { func: 'opacity($color)', desc: 'Gets the alpha component (opacity) of a color.' },\n        { func: 'rgba($color, $alpha)', desc: localize('scss.builtin.rgba', 'Changes the alpha component for a color.') },\n        { func: 'opacify($color, $amount)', desc: localize('scss.builtin.opacify', 'Makes a color more opaque.') },\n        { func: 'fade-in($color, $amount)', desc: localize('scss.builtin.fade-in', 'Makes a color more opaque.') },\n        { func: 'transparentize($color, $amount)', desc: localize('scss.builtin.transparentize', 'Makes a color more transparent.') },\n        { func: 'fade-out($color, $amount)', desc: localize('scss.builtin.fade-out', 'Makes a color more transparent.') },\n        { func: 'adjust-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])', desc: localize('scss.builtin.adjust-color', 'Increases or decreases one or more components of a color.') },\n        { func: 'scale-color($color, [$red], [$green], [$blue], [$saturation], [$lightness], [$alpha])', desc: localize('scss.builtin.scale-color', 'Fluidly scales one or more properties of a color.') },\n        { func: 'change-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])', desc: localize('scss.builtin.change-color', 'Changes one or more properties of a color.') },\n        { func: 'ie-hex-str($color)', desc: localize('scss.builtin.ie-hex-str', 'Converts a color into the format understood by IE filters.') }\n    ];\n    SCSSCompletion.selectorFuncs = [\n        { func: 'selector-nest($selectors)', desc: localize('scss.builtin.selector-nest', 'Nests selector beneath one another like they would be nested in the stylesheet.') },\n        { func: 'selector-append($selectors)', desc: localize('scss.builtin.selector-append', 'Appends selectors to one another without spaces in between.') },\n        { func: 'selector-extend($selector, $extendee, $extender)', desc: localize('scss.builtin.selector-extend', 'Extends $extendee with $extender within $selector.') },\n        { func: 'selector-replace($selector, $original, $replacement)', desc: localize('scss.builtin.selector-replace', 'Replaces $original with $replacement within $selector.') },\n        { func: 'selector-unify($selector1, $selector2)', desc: localize('scss.builtin.selector-unify', 'Unifies two selectors to produce a selector that matches elements matched by both.') },\n        { func: 'is-superselector($super, $sub)', desc: localize('scss.builtin.is-superselector', 'Returns whether $super matches all the elements $sub does, and possibly more.') },\n        { func: 'simple-selectors($selector)', desc: localize('scss.builtin.simple-selectors', 'Returns the simple selectors that comprise a compound selector.') },\n        { func: 'selector-parse($selector)', desc: localize('scss.builtin.selector-parse', 'Parses a selector into the format returned by &.') }\n    ];\n    SCSSCompletion.builtInFuncs = [\n        { func: 'unquote($string)', desc: localize('scss.builtin.unquote', 'Removes quotes from a string.') },\n        { func: 'quote($string)', desc: localize('scss.builtin.quote', 'Adds quotes to a string.') },\n        { func: 'str-length($string)', desc: localize('scss.builtin.str-length', 'Returns the number of characters in a string.') },\n        { func: 'str-insert($string, $insert, $index)', desc: localize('scss.builtin.str-insert', 'Inserts $insert into $string at $index.') },\n        { func: 'str-index($string, $substring)', desc: localize('scss.builtin.str-index', 'Returns the index of the first occurance of $substring in $string.') },\n        { func: 'str-slice($string, $start-at, [$end-at])', desc: localize('scss.builtin.str-slice', 'Extracts a substring from $string.') },\n        { func: 'to-upper-case($string)', desc: localize('scss.builtin.to-upper-case', 'Converts a string to upper case.') },\n        { func: 'to-lower-case($string)', desc: localize('scss.builtin.to-lower-case', 'Converts a string to lower case.') },\n        { func: 'percentage($number)', desc: localize('scss.builtin.percentage', 'Converts a unitless number to a percentage.'), type: 'percentage' },\n        { func: 'round($number)', desc: localize('scss.builtin.round', 'Rounds a number to the nearest whole number.') },\n        { func: 'ceil($number)', desc: localize('scss.builtin.ceil', 'Rounds a number up to the next whole number.') },\n        { func: 'floor($number)', desc: localize('scss.builtin.floor', 'Rounds a number down to the previous whole number.') },\n        { func: 'abs($number)', desc: localize('scss.builtin.abs', 'Returns the absolute value of a number.') },\n        { func: 'min($numbers)', desc: localize('scss.builtin.min', 'Finds the minimum of several numbers.') },\n        { func: 'max($numbers)', desc: localize('scss.builtin.max', 'Finds the maximum of several numbers.') },\n        { func: 'random([$limit])', desc: localize('scss.builtin.random', 'Returns a random number.') },\n        { func: 'length($list)', desc: localize('scss.builtin.length', 'Returns the length of a list.') },\n        { func: 'nth($list, $n)', desc: localize('scss.builtin.nth', 'Returns a specific item in a list.') },\n        { func: 'set-nth($list, $n, $value)', desc: localize('scss.builtin.set-nth', 'Replaces the nth item in a list.') },\n        { func: 'join($list1, $list2, [$separator])', desc: localize('scss.builtin.join', 'Joins together two lists into one.') },\n        { func: 'append($list1, $val, [$separator])', desc: localize('scss.builtin.append', 'Appends a single value onto the end of a list.') },\n        { func: 'zip($lists)', desc: localize('scss.builtin.zip', 'Combines several lists into a single multidimensional list.') },\n        { func: 'index($list, $value)', desc: localize('scss.builtin.index', 'Returns the position of a value within a list.') },\n        { func: 'list-separator(#list)', desc: localize('scss.builtin.list-separator', 'Returns the separator of a list.') },\n        { func: 'map-get($map, $key)', desc: localize('scss.builtin.map-get', 'Returns the value in a map associated with a given key.') },\n        { func: 'map-merge($map1, $map2)', desc: localize('scss.builtin.map-merge', 'Merges two maps together into a new map.') },\n        { func: 'map-remove($map, $keys)', desc: localize('scss.builtin.map-remove', 'Returns a new map with keys removed.') },\n        { func: 'map-keys($map)', desc: localize('scss.builtin.map-keys', 'Returns a list of all keys in a map.') },\n        { func: 'map-values($map)', desc: localize('scss.builtin.map-values', 'Returns a list of all values in a map.') },\n        { func: 'map-has-key($map, $key)', desc: localize('scss.builtin.map-has-key', 'Returns whether a map has a value associated with a given key.') },\n        { func: 'keywords($args)', desc: localize('scss.builtin.keywords', 'Returns the keywords passed to a function that takes variable arguments.') },\n        { func: 'feature-exists($feature)', desc: localize('scss.builtin.feature-exists', 'Returns whether a feature exists in the current Sass runtime.') },\n        { func: 'variable-exists($name)', desc: localize('scss.builtin.variable-exists', 'Returns whether a variable with the given name exists in the current scope.') },\n        { func: 'global-variable-exists($name)', desc: localize('scss.builtin.global-variable-exists', 'Returns whether a variable with the given name exists in the global scope.') },\n        { func: 'function-exists($name)', desc: localize('scss.builtin.function-exists', 'Returns whether a function with the given name exists.') },\n        { func: 'mixin-exists($name)', desc: localize('scss.builtin.mixin-exists', 'Returns whether a mixin with the given name exists.') },\n        { func: 'inspect($value)', desc: localize('scss.builtin.inspect', 'Returns the string representation of a value as it would be represented in Sass.') },\n        { func: 'type-of($value)', desc: localize('scss.builtin.type-of', 'Returns the type of a value.') },\n        { func: 'unit($number)', desc: localize('scss.builtin.unit', 'Returns the unit(s) associated with a number.') },\n        { func: 'unitless($number)', desc: localize('scss.builtin.unitless', 'Returns whether a number has units.') },\n        { func: 'comparable($number1, $number2)', desc: localize('scss.builtin.comparable', 'Returns whether two numbers can be added, subtracted, or compared.') },\n        { func: 'call($name, $args)', desc: localize('scss.builtin.call', 'Dynamically calls a Sass function.') }\n    ];\n    SCSSCompletion.scssAtDirectives = [\n        {\n            label: \"@extend\",\n            documentation: localize(\"scss.builtin.@extend\", \"Inherits the styles of another selector.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@at-root\",\n            documentation: localize(\"scss.builtin.@at-root\", \"Causes one or more rules to be emitted at the root of the document.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@debug\",\n            documentation: localize(\"scss.builtin.@debug\", \"Prints the value of an expression to the standard error output stream. Useful for debugging complicated Sass files.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@warn\",\n            documentation: localize(\"scss.builtin.@warn\", \"Prints the value of an expression to the standard error output stream. Useful for libraries that need to warn users of deprecations or recovering from minor mixin usage mistakes. Warnings can be turned off with the `--quiet` command-line option or the `:quiet` Sass option.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@error\",\n            documentation: localize(\"scss.builtin.@error\", \"Throws the value of an expression as a fatal error with stack trace. Useful for validating arguments to mixins and functions.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@if\",\n            documentation: localize(\"scss.builtin.@if\", \"Includes the body if the expression does not evaluate to `false` or `null`.\"),\n            insertText: \"@if ${1:expr} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@for\",\n            documentation: localize(\"scss.builtin.@for\", \"For loop that repeatedly outputs a set of styles for each `$var` in the `from/through` or `from/to` clause.\"),\n            insertText: \"@for \\\\$${1:var} from ${2:start} ${3|to,through|} ${4:end} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@each\",\n            documentation: localize(\"scss.builtin.@each\", \"Each loop that sets `$var` to each item in the list or map, then outputs the styles it contains using that value of `$var`.\"),\n            insertText: \"@each \\\\$${1:var} in ${2:list} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@while\",\n            documentation: localize(\"scss.builtin.@while\", \"While loop that takes an expression and repeatedly outputs the nested styles until the statement evaluates to `false`.\"),\n            insertText: \"@while ${1:condition} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@mixin\",\n            documentation: localize(\"scss.builtin.@mixin\", \"Defines styles that can be re-used throughout the stylesheet with `@include`.\"),\n            insertText: \"@mixin ${1:name} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@include\",\n            documentation: localize(\"scss.builtin.@include\", \"Includes the styles defined by another mixin into the current rule.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@function\",\n            documentation: localize(\"scss.builtin.@function\", \"Defines complex operations that can be re-used throughout stylesheets.\"),\n            kind: CompletionItemKind.Keyword\n        }\n    ];\n    SCSSCompletion.scssModuleLoaders = [\n        {\n            label: \"@use\",\n            documentation: localize(\"scss.builtin.@use\", \"Loads mixins, functions, and variables from other Sass stylesheets as 'modules', and combines CSS from multiple stylesheets together.\"),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/at-rules/use' }],\n            insertText: \"@use '$0';\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@forward\",\n            documentation: localize(\"scss.builtin.@forward\", \"Loads a Sass stylesheet and makes its mixins, functions, and variables available when this stylesheet is loaded with the @use rule.\"),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/at-rules/forward' }],\n            insertText: \"@forward '$0';\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n    ];\n    SCSSCompletion.scssModuleBuiltIns = [\n        {\n            label: 'sass:math',\n            documentation: localize('scss.builtin.sass:math', 'Provides functions that operate on numbers.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/math' }]\n        },\n        {\n            label: 'sass:string',\n            documentation: localize('scss.builtin.sass:string', 'Makes it easy to combine, search, or split apart strings.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/string' }]\n        },\n        {\n            label: 'sass:color',\n            documentation: localize('scss.builtin.sass:color', 'Generates new colors based on existing ones, making it easy to build color themes.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/color' }]\n        },\n        {\n            label: 'sass:list',\n            documentation: localize('scss.builtin.sass:list', 'Lets you access and modify values in lists.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/list' }]\n        },\n        {\n            label: 'sass:map',\n            documentation: localize('scss.builtin.sass:map', 'Makes it possible to look up the value associated with a key in a map, and much more.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/map' }]\n        },\n        {\n            label: 'sass:selector',\n            documentation: localize('scss.builtin.sass:selector', 'Provides access to Sasss powerful selector engine.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/selector' }]\n        },\n        {\n            label: 'sass:meta',\n            documentation: localize('scss.builtin.sass:meta', 'Exposes the details of Sasss inner workings.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/meta' }]\n        },\n    ];\n    return SCSSCompletion;\n}(CSSCompletion));\nexport { SCSSCompletion };\n/**\n * Todo @Pine: Remove this and do it through custom data\n */\nfunction addReferencesToDocumentation(items) {\n    items.forEach(function (i) {\n        if (i.documentation && i.references && i.references.length > 0) {\n            var markdownDoc = typeof i.documentation === 'string'\n                ? { kind: 'markdown', value: i.documentation }\n                : { kind: 'markdown', value: i.documentation.value };\n            markdownDoc.value += '\\n\\n';\n            markdownDoc.value += i.references\n                .map(function (r) {\n                return \"[\" + r.name + \"](\" + r.url + \")\";\n            })\n                .join(' | ');\n            i.documentation = markdownDoc;\n        }\n    });\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as scanner from './cssScanner.js';\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _TIC = '`'.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar customTokenValue = scanner.TokenType.CustomToken;\nexport var Ellipsis = customTokenValue++;\nvar LESSScanner = /** @class */ (function (_super) {\n    __extends(LESSScanner, _super);\n    function LESSScanner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LESSScanner.prototype.scanNext = function (offset) {\n        // LESS: escaped JavaScript code `const a = \"dddd\"`\n        var tokenType = this.escapedJavaScript();\n        if (tokenType !== null) {\n            return this.finishToken(offset, tokenType);\n        }\n        if (this.stream.advanceIfChars([_DOT, _DOT, _DOT])) {\n            return this.finishToken(offset, Ellipsis);\n        }\n        return _super.prototype.scanNext.call(this, offset);\n    };\n    LESSScanner.prototype.comment = function () {\n        if (_super.prototype.comment.call(this)) {\n            return true;\n        }\n        if (!this.inURL && this.stream.advanceIfChars([_FSL, _FSL])) {\n            this.stream.advanceWhileChar(function (ch) {\n                switch (ch) {\n                    case _NWL:\n                    case _CAR:\n                    case _LFD:\n                        return false;\n                    default:\n                        return true;\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    LESSScanner.prototype.escapedJavaScript = function () {\n        var ch = this.stream.peekChar();\n        if (ch === _TIC) {\n            this.stream.advance(1);\n            this.stream.advanceWhileChar(function (ch) { return ch !== _TIC; });\n            return this.stream.advanceIfChar(_TIC) ? scanner.TokenType.EscapedJavaScript : scanner.TokenType.BadEscapedJavaScript;\n        }\n        return null;\n    };\n    return LESSScanner;\n}(scanner.Scanner));\nexport { LESSScanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as lessScanner from './lessScanner.js';\nimport { TokenType } from './cssScanner.js';\nimport * as cssParser from './cssParser.js';\nimport * as nodes from './cssNodes.js';\nimport { ParseError } from './cssErrors.js';\n/// <summary>\n/// A parser for LESS\n/// http://lesscss.org/\n/// </summary>\nvar LESSParser = /** @class */ (function (_super) {\n    __extends(LESSParser, _super);\n    function LESSParser() {\n        return _super.call(this, new lessScanner.LESSScanner()) || this;\n    }\n    LESSParser.prototype._parseStylesheetStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseVariableDeclaration()\n                || this._parsePlugin()\n                || _super.prototype._parseStylesheetAtStatement.call(this, isNested);\n        }\n        return this._tryParseMixinDeclaration()\n            || this._tryParseMixinReference()\n            || this._parseFunction()\n            || this._parseRuleset(true);\n    };\n    LESSParser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import') && !this.peekKeyword('@import-once') /* deprecated in less 1.4.1 */) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken();\n        // less 1.4.1: @import (css) \"lib\"\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (!this.accept(TokenType.Ident)) {\n                return this.finish(node, ParseError.IdentifierExpected, [TokenType.SemiColon]);\n            }\n            do {\n                if (!this.accept(TokenType.Comma)) {\n                    break;\n                }\n            } while (this.accept(TokenType.Ident));\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.SemiColon]);\n            }\n        }\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected, [TokenType.SemiColon]);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parsePlugin = function () {\n        if (!this.peekKeyword('@plugin')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Plugin);\n        this.consumeToken(); // @import\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseMediaQuery = function (resyncStopToken) {\n        var node = _super.prototype._parseMediaQuery.call(this, resyncStopToken);\n        if (!node) {\n            var node_1 = this.create(nodes.MediaQuery);\n            if (node_1.addChild(this._parseVariable())) {\n                return this.finish(node_1);\n            }\n            return null;\n        }\n        return node;\n    };\n    LESSParser.prototype._parseMediaDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        return this._tryParseRuleset(isNested)\n            || this._tryToParseDeclaration()\n            || this._tryParseMixinDeclaration()\n            || this._tryParseMixinReference()\n            || this._parseDetachedRuleSetMixin()\n            || this._parseStylesheetStatement(isNested);\n    };\n    LESSParser.prototype._parseMediaFeatureName = function () {\n        return this._parseIdent() || this._parseVariable();\n    };\n    LESSParser.prototype._parseVariableDeclaration = function (panic) {\n        if (panic === void 0) { panic = []; }\n        var node = this.create(nodes.VariableDeclaration);\n        var mark = this.mark();\n        if (!node.setVariable(this._parseVariable(true))) {\n            return null;\n        }\n        if (this.accept(TokenType.Colon)) {\n            if (this.prevToken) {\n                node.colonPosition = this.prevToken.offset;\n            }\n            if (node.setValue(this._parseDetachedRuleSet())) {\n                node.needsSemicolon = false;\n            }\n            else if (!node.setValue(this._parseExpr())) {\n                return this.finish(node, ParseError.VariableValueExpected, [], panic);\n            }\n            node.addChild(this._parsePrio());\n        }\n        else {\n            this.restoreAtMark(mark);\n            return null; // at keyword, but no ':', not a variable declaration but some at keyword\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseDetachedRuleSet = function () {\n        var mark = this.mark();\n        // \"Anonymous mixin\" used in each() and possibly a generic type in the future\n        if (this.peekDelim('#') || this.peekDelim('.')) {\n            this.consumeToken();\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var node = this.create(nodes.MixinDeclaration);\n                if (node.getParameters().addChild(this._parseMixinParameter())) {\n                    while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                        if (this.peek(TokenType.ParenthesisR)) {\n                            break;\n                        }\n                        if (!node.getParameters().addChild(this._parseMixinParameter())) {\n                            this.markError(node, ParseError.IdentifierExpected, [], [TokenType.ParenthesisR]);\n                        }\n                    }\n                }\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    this.restoreAtMark(mark);\n                    return null;\n                }\n            }\n            else {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (!this.peek(TokenType.CurlyL)) {\n            return null;\n        }\n        var content = this.create(nodes.BodyDeclaration);\n        this._parseBody(content, this._parseDetachedRuleSetBody.bind(this));\n        return this.finish(content);\n    };\n    LESSParser.prototype._parseDetachedRuleSetBody = function () {\n        return this._tryParseKeyframeSelector() || this._parseRuleSetDeclaration();\n    };\n    LESSParser.prototype._addLookupChildren = function (node) {\n        if (!node.addChild(this._parseLookupValue())) {\n            return false;\n        }\n        var expectsValue = false;\n        while (true) {\n            if (this.peek(TokenType.BracketL)) {\n                expectsValue = true;\n            }\n            if (!node.addChild(this._parseLookupValue())) {\n                break;\n            }\n            expectsValue = false;\n        }\n        return !expectsValue;\n    };\n    LESSParser.prototype._parseLookupValue = function () {\n        var node = this.create(nodes.Node);\n        var mark = this.mark();\n        if (!this.accept(TokenType.BracketL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (((node.addChild(this._parseVariable(false, true)) ||\n            node.addChild(this._parsePropertyIdentifier())) &&\n            this.accept(TokenType.BracketR)) || this.accept(TokenType.BracketR)) {\n            return node;\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    LESSParser.prototype._parseVariable = function (declaration, insideLookup) {\n        if (declaration === void 0) { declaration = false; }\n        if (insideLookup === void 0) { insideLookup = false; }\n        var isPropertyReference = !declaration && this.peekDelim('$');\n        if (!this.peekDelim('@') && !isPropertyReference && !this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.Variable);\n        var mark = this.mark();\n        while (this.acceptDelim('@') || (!declaration && this.acceptDelim('$'))) {\n            if (this.hasWhitespace()) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (!this.accept(TokenType.AtKeyword) && !this.accept(TokenType.Ident)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!insideLookup && this.peek(TokenType.BracketL)) {\n            if (!this._addLookupChildren(node)) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        return node;\n    };\n    LESSParser.prototype._parseTermExpression = function () {\n        return this._parseVariable() ||\n            this._parseEscaped() ||\n            _super.prototype._parseTermExpression.call(this) || // preference for colors before mixin references\n            this._tryParseMixinReference(false);\n    };\n    LESSParser.prototype._parseEscaped = function () {\n        if (this.peek(TokenType.EscapedJavaScript) ||\n            this.peek(TokenType.BadEscapedJavaScript)) {\n            var node = this.createNode(nodes.NodeType.EscapedValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        if (this.peekDelim('~')) {\n            var node = this.createNode(nodes.NodeType.EscapedValue);\n            this.consumeToken();\n            if (this.accept(TokenType.String) || this.accept(TokenType.EscapedJavaScript)) {\n                return this.finish(node);\n            }\n            else {\n                return this.finish(node, ParseError.TermExpected);\n            }\n        }\n        return null;\n    };\n    LESSParser.prototype._parseOperator = function () {\n        var node = this._parseGuardOperator();\n        if (node) {\n            return node;\n        }\n        else {\n            return _super.prototype._parseOperator.call(this);\n        }\n    };\n    LESSParser.prototype._parseGuardOperator = function () {\n        if (this.peekDelim('>')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('=');\n            return node;\n        }\n        else if (this.peekDelim('=')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('<');\n            return node;\n        }\n        else if (this.peekDelim('<')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('=');\n            return node;\n        }\n        return null;\n    };\n    LESSParser.prototype._parseRuleSetDeclaration = function () {\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseKeyframe()\n                || this._parseMedia(true)\n                || this._parseImport()\n                || this._parseSupports(true) // @supports\n                || this._parseDetachedRuleSetMixin() // less detached ruleset mixin\n                || this._parseVariableDeclaration() // Variable declarations\n                || _super.prototype._parseRuleSetDeclarationAtStatement.call(this);\n        }\n        return this._tryParseMixinDeclaration()\n            || this._tryParseRuleset(true) // nested ruleset\n            || this._tryParseMixinReference() // less mixin reference\n            || this._parseFunction()\n            || this._parseExtend() // less extend declaration\n            || _super.prototype._parseRuleSetDeclaration.call(this); // try css ruleset declaration as the last option\n    };\n    LESSParser.prototype._parseKeyframeIdent = function () {\n        return this._parseIdent([nodes.ReferenceType.Keyframe]) || this._parseVariable();\n    };\n    LESSParser.prototype._parseKeyframeSelector = function () {\n        return this._parseDetachedRuleSetMixin() // less detached ruleset mixin\n            || _super.prototype._parseKeyframeSelector.call(this);\n    };\n    LESSParser.prototype._parseSimpleSelectorBody = function () {\n        return this._parseSelectorCombinator() || _super.prototype._parseSimpleSelectorBody.call(this);\n    };\n    LESSParser.prototype._parseSelector = function (isNested) {\n        // CSS Guards\n        var node = this.create(nodes.Selector);\n        var hasContent = false;\n        if (isNested) {\n            // nested selectors can start with a combinator\n            hasContent = node.addChild(this._parseCombinator());\n        }\n        while (node.addChild(this._parseSimpleSelector())) {\n            hasContent = true;\n            var mark = this.mark();\n            if (node.addChild(this._parseGuard()) && this.peek(TokenType.CurlyL)) {\n                break;\n            }\n            this.restoreAtMark(mark);\n            node.addChild(this._parseCombinator()); // optional\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    LESSParser.prototype._parseSelectorCombinator = function () {\n        if (this.peekDelim('&')) {\n            var node = this.createNode(nodes.NodeType.SelectorCombinator);\n            this.consumeToken();\n            while (!this.hasWhitespace() && (this.acceptDelim('-') || this.accept(TokenType.Num) || this.accept(TokenType.Dimension) || node.addChild(this._parseIdent()) || this.acceptDelim('&'))) {\n                //  support &-foo\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    LESSParser.prototype._parseSelectorIdent = function () {\n        if (!this.peekInterpolatedIdent()) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.SelectorInterpolation);\n        var hasContent = this._acceptInterpolatedIdent(node);\n        return hasContent ? this.finish(node) : null;\n    };\n    LESSParser.prototype._parsePropertyIdentifier = function (inLookup) {\n        if (inLookup === void 0) { inLookup = false; }\n        var propertyRegex = /^[\\w-]+/;\n        if (!this.peekInterpolatedIdent() && !this.peekRegExp(this.token.type, propertyRegex)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.Identifier);\n        node.isCustomProperty = this.acceptDelim('-') && this.acceptDelim('-');\n        var childAdded = false;\n        if (!inLookup) {\n            if (node.isCustomProperty) {\n                childAdded = this._acceptInterpolatedIdent(node);\n            }\n            else {\n                childAdded = this._acceptInterpolatedIdent(node, propertyRegex);\n            }\n        }\n        else {\n            if (node.isCustomProperty) {\n                childAdded = node.addChild(this._parseIdent());\n            }\n            else {\n                childAdded = node.addChild(this._parseRegexp(propertyRegex));\n            }\n        }\n        if (!childAdded) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!inLookup && !this.hasWhitespace()) {\n            this.acceptDelim('+');\n            if (!this.hasWhitespace()) {\n                this.acceptIdent('_');\n            }\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype.peekInterpolatedIdent = function () {\n        return this.peek(TokenType.Ident) ||\n            this.peekDelim('@') ||\n            this.peekDelim('$') ||\n            this.peekDelim('-');\n    };\n    LESSParser.prototype._acceptInterpolatedIdent = function (node, identRegex) {\n        var _this = this;\n        var hasContent = false;\n        var indentInterpolation = function () {\n            var pos = _this.mark();\n            if (_this.acceptDelim('-')) {\n                if (!_this.hasWhitespace()) {\n                    _this.acceptDelim('-');\n                }\n                if (_this.hasWhitespace()) {\n                    _this.restoreAtMark(pos);\n                    return null;\n                }\n            }\n            return _this._parseInterpolation();\n        };\n        var accept = identRegex ?\n            function () { return _this.acceptRegexp(identRegex); } :\n            function () { return _this.accept(TokenType.Ident); };\n        while (accept() ||\n            node.addChild(this._parseInterpolation() ||\n                this.try(indentInterpolation))) {\n            hasContent = true;\n            if (this.hasWhitespace()) {\n                break;\n            }\n        }\n        return hasContent;\n    };\n    LESSParser.prototype._parseInterpolation = function () {\n        // @{name} Variable or\n        // ${name} Property\n        var mark = this.mark();\n        if (this.peekDelim('@') || this.peekDelim('$')) {\n            var node = this.createNode(nodes.NodeType.Interpolation);\n            this.consumeToken();\n            if (this.hasWhitespace() || !this.accept(TokenType.CurlyL)) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n            if (!node.addChild(this._parseIdent())) {\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n            if (!this.accept(TokenType.CurlyR)) {\n                return this.finish(node, ParseError.RightCurlyExpected);\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    LESSParser.prototype._tryParseMixinDeclaration = function () {\n        var mark = this.mark();\n        var node = this.create(nodes.MixinDeclaration);\n        if (!node.setIdentifier(this._parseMixinDeclarationIdentifier()) || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (node.getParameters().addChild(this._parseMixinParameter())) {\n            while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getParameters().addChild(this._parseMixinParameter())) {\n                    this.markError(node, ParseError.IdentifierExpected, [], [TokenType.ParenthesisR]);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        node.setGuard(this._parseGuard());\n        if (!this.peek(TokenType.CurlyL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this._parseBody(node, this._parseMixInBodyDeclaration.bind(this));\n    };\n    LESSParser.prototype._parseMixInBodyDeclaration = function () {\n        return this._parseFontFace() || this._parseRuleSetDeclaration();\n    };\n    LESSParser.prototype._parseMixinDeclarationIdentifier = function () {\n        var identifier;\n        if (this.peekDelim('#') || this.peekDelim('.')) {\n            identifier = this.create(nodes.Identifier);\n            this.consumeToken(); // # or .\n            if (this.hasWhitespace() || !identifier.addChild(this._parseIdent())) {\n                return null;\n            }\n        }\n        else if (this.peek(TokenType.Hash)) {\n            identifier = this.create(nodes.Identifier);\n            this.consumeToken(); // TokenType.Hash\n        }\n        else {\n            return null;\n        }\n        identifier.referenceTypes = [nodes.ReferenceType.Mixin];\n        return this.finish(identifier);\n    };\n    LESSParser.prototype._parsePseudo = function () {\n        if (!this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.ExtendsReference);\n        this.consumeToken(); // :\n        if (this.acceptIdent('extend')) {\n            return this._completeExtends(node);\n        }\n        this.restoreAtMark(mark);\n        return _super.prototype._parsePseudo.call(this);\n    };\n    LESSParser.prototype._parseExtend = function () {\n        if (!this.peekDelim('&')) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.ExtendsReference);\n        this.consumeToken(); // &\n        if (this.hasWhitespace() || !this.accept(TokenType.Colon) || !this.acceptIdent('extend')) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this._completeExtends(node);\n    };\n    LESSParser.prototype._completeExtends = function (node) {\n        if (!this.accept(TokenType.ParenthesisL)) {\n            return this.finish(node, ParseError.LeftParenthesisExpected);\n        }\n        var selectors = node.getSelectors();\n        if (!selectors.addChild(this._parseSelector(true))) {\n            return this.finish(node, ParseError.SelectorExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!selectors.addChild(this._parseSelector(true))) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseDetachedRuleSetMixin = function () {\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.MixinReference);\n        if (node.addChild(this._parseVariable(true)) && (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL))) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._tryParseMixinReference = function (atRoot) {\n        if (atRoot === void 0) { atRoot = true; }\n        var mark = this.mark();\n        var node = this.create(nodes.MixinReference);\n        var identifier = this._parseMixinDeclarationIdentifier();\n        while (identifier) {\n            this.acceptDelim('>');\n            var nextId = this._parseMixinDeclarationIdentifier();\n            if (nextId) {\n                node.getNamespaces().addChild(identifier);\n                identifier = nextId;\n            }\n            else {\n                break;\n            }\n        }\n        if (!node.setIdentifier(identifier)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        var hasArguments = false;\n        if (this.accept(TokenType.ParenthesisL)) {\n            hasArguments = true;\n            if (node.getArguments().addChild(this._parseMixinArgument())) {\n                while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getArguments().addChild(this._parseMixinArgument())) {\n                        return this.finish(node, ParseError.ExpressionExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected);\n            }\n            identifier.referenceTypes = [nodes.ReferenceType.Mixin];\n        }\n        else {\n            identifier.referenceTypes = [nodes.ReferenceType.Mixin, nodes.ReferenceType.Rule];\n        }\n        if (this.peek(TokenType.BracketL)) {\n            if (!atRoot) {\n                this._addLookupChildren(node);\n            }\n        }\n        else {\n            node.addChild(this._parsePrio());\n        }\n        if (!hasArguments && !this.peek(TokenType.SemiColon) && !this.peek(TokenType.CurlyR) && !this.peek(TokenType.EOF)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseMixinArgument = function () {\n        // [variableName ':'] expression | variableName '...'\n        var node = this.create(nodes.FunctionArgument);\n        var pos = this.mark();\n        var argument = this._parseVariable();\n        if (argument) {\n            if (!this.accept(TokenType.Colon)) {\n                this.restoreAtMark(pos);\n            }\n            else {\n                node.setIdentifier(argument);\n            }\n        }\n        if (node.setValue(this._parseDetachedRuleSet() || this._parseExpr(true))) {\n            return this.finish(node);\n        }\n        this.restoreAtMark(pos);\n        return null;\n    };\n    LESSParser.prototype._parseMixinParameter = function () {\n        var node = this.create(nodes.FunctionParameter);\n        // special rest variable: @rest...\n        if (this.peekKeyword('@rest')) {\n            var restNode = this.create(nodes.Node);\n            this.consumeToken();\n            if (!this.accept(lessScanner.Ellipsis)) {\n                return this.finish(node, ParseError.DotExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n            }\n            node.setIdentifier(this.finish(restNode));\n            return this.finish(node);\n        }\n        // special const args: ...\n        if (this.peek(lessScanner.Ellipsis)) {\n            var varargsNode = this.create(nodes.Node);\n            this.consumeToken();\n            node.setIdentifier(this.finish(varargsNode));\n            return this.finish(node);\n        }\n        var hasContent = false;\n        // default variable declaration: @param: 12 or @name\n        if (node.setIdentifier(this._parseVariable())) {\n            this.accept(TokenType.Colon);\n            hasContent = true;\n        }\n        if (!node.setDefaultValue(this._parseDetachedRuleSet() || this._parseExpr(true)) && !hasContent) {\n            return null;\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseGuard = function () {\n        if (!this.peekIdent('when')) {\n            return null;\n        }\n        var node = this.create(nodes.LessGuard);\n        this.consumeToken(); // when\n        node.isNegated = this.acceptIdent('not');\n        if (!node.getConditions().addChild(this._parseGuardCondition())) {\n            return this.finish(node, ParseError.ConditionExpected);\n        }\n        while (this.acceptIdent('and') || this.accept(TokenType.Comma)) {\n            if (!node.getConditions().addChild(this._parseGuardCondition())) {\n                return this.finish(node, ParseError.ConditionExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseGuardCondition = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.GuardCondition);\n        this.consumeToken(); // ParenthesisL\n        if (!node.addChild(this._parseExpr())) {\n            // empty (?)\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseFunction = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Function);\n        if (!node.setIdentifier(this._parseFunctionIdentifier())) {\n            return null;\n        }\n        if (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (node.getArguments().addChild(this._parseMixinArgument())) {\n            while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getArguments().addChild(this._parseMixinArgument())) {\n                    return this.finish(node, ParseError.ExpressionExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseFunctionIdentifier = function () {\n        if (this.peekDelim('%')) {\n            var node = this.create(nodes.Identifier);\n            node.referenceTypes = [nodes.ReferenceType.Function];\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseFunctionIdentifier.call(this);\n    };\n    LESSParser.prototype._parseURLArgument = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseURLArgument.call(this);\n        if (!node || !this.peek(TokenType.ParenthesisR)) {\n            this.restoreAtMark(pos);\n            var node_2 = this.create(nodes.Node);\n            node_2.addChild(this._parseBinaryExpr());\n            return this.finish(node_2);\n        }\n        return node;\n    };\n    return LESSParser;\n}(cssParser.Parser));\nexport { LESSParser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CSSCompletion } from './cssCompletion.js';\nimport { CompletionItemKind, InsertTextFormat, TextEdit } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar LESSCompletion = /** @class */ (function (_super) {\n    __extends(LESSCompletion, _super);\n    function LESSCompletion(lsOptions, cssDataManager) {\n        return _super.call(this, '@', lsOptions, cssDataManager) || this;\n    }\n    LESSCompletion.prototype.createFunctionProposals = function (proposals, existingNode, sortToEnd, result) {\n        for (var _i = 0, proposals_1 = proposals; _i < proposals_1.length; _i++) {\n            var p = proposals_1[_i];\n            var item = {\n                label: p.name,\n                detail: p.example,\n                documentation: p.description,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), p.name + '($0)'),\n                insertTextFormat: InsertTextFormat.Snippet,\n                kind: CompletionItemKind.Function\n            };\n            if (sortToEnd) {\n                item.sortText = 'z';\n            }\n            result.items.push(item);\n        }\n        return result;\n    };\n    LESSCompletion.prototype.getTermProposals = function (entry, existingNode, result) {\n        var functions = LESSCompletion.builtInProposals;\n        if (entry) {\n            functions = functions.filter(function (f) { return !f.type || !entry.restrictions || entry.restrictions.indexOf(f.type) !== -1; });\n        }\n        this.createFunctionProposals(functions, existingNode, true, result);\n        return _super.prototype.getTermProposals.call(this, entry, existingNode, result);\n    };\n    LESSCompletion.prototype.getColorProposals = function (entry, existingNode, result) {\n        this.createFunctionProposals(LESSCompletion.colorProposals, existingNode, false, result);\n        return _super.prototype.getColorProposals.call(this, entry, existingNode, result);\n    };\n    LESSCompletion.prototype.getCompletionsForDeclarationProperty = function (declaration, result) {\n        this.getCompletionsForSelector(null, true, result);\n        return _super.prototype.getCompletionsForDeclarationProperty.call(this, declaration, result);\n    };\n    LESSCompletion.builtInProposals = [\n        // Boolean functions\n        {\n            'name': 'if',\n            'example': 'if(condition, trueValue [, falseValue]);',\n            'description': localize('less.builtin.if', 'returns one of two values depending on a condition.')\n        },\n        {\n            'name': 'boolean',\n            'example': 'boolean(condition);',\n            'description': localize('less.builtin.boolean', '\"store\" a boolean test for later evaluation in a guard or if().')\n        },\n        // List functions\n        {\n            'name': 'length',\n            'example': 'length(@list);',\n            'description': localize('less.builtin.length', 'returns the number of elements in a value list')\n        },\n        {\n            'name': 'extract',\n            'example': 'extract(@list, index);',\n            'description': localize('less.builtin.extract', 'returns a value at the specified position in the list')\n        },\n        {\n            'name': 'range',\n            'example': 'range([start, ] end [, step]);',\n            'description': localize('less.builtin.range', 'generate a list spanning a range of values')\n        },\n        {\n            'name': 'each',\n            'example': 'each(@list, ruleset);',\n            'description': localize('less.builtin.each', 'bind the evaluation of a ruleset to each member of a list.')\n        },\n        // Other built-ins\n        {\n            'name': 'escape',\n            'example': 'escape(@string);',\n            'description': localize('less.builtin.escape', 'URL encodes a string')\n        },\n        {\n            'name': 'e',\n            'example': 'e(@string);',\n            'description': localize('less.builtin.e', 'escape string content')\n        },\n        {\n            'name': 'replace',\n            'example': 'replace(@string, @pattern, @replacement[, @flags]);',\n            'description': localize('less.builtin.replace', 'string replace')\n        },\n        {\n            'name': 'unit',\n            'example': 'unit(@dimension, [@unit: \\'\\']);',\n            'description': localize('less.builtin.unit', 'remove or change the unit of a dimension')\n        },\n        {\n            'name': 'color',\n            'example': 'color(@string);',\n            'description': localize('less.builtin.color', 'parses a string to a color'),\n            'type': 'color'\n        },\n        {\n            'name': 'convert',\n            'example': 'convert(@value, unit);',\n            'description': localize('less.builtin.convert', 'converts numbers from one type into another')\n        },\n        {\n            'name': 'data-uri',\n            'example': 'data-uri([mimetype,] url);',\n            'description': localize('less.builtin.data-uri', 'inlines a resource and falls back to `url()`'),\n            'type': 'url'\n        },\n        {\n            'name': 'abs',\n            'description': localize('less.builtin.abs', 'absolute value of a number'),\n            'example': 'abs(number);'\n        },\n        {\n            'name': 'acos',\n            'description': localize('less.builtin.acos', 'arccosine - inverse of cosine function'),\n            'example': 'acos(number);'\n        },\n        {\n            'name': 'asin',\n            'description': localize('less.builtin.asin', 'arcsine - inverse of sine function'),\n            'example': 'asin(number);'\n        },\n        {\n            'name': 'ceil',\n            'example': 'ceil(@number);',\n            'description': localize('less.builtin.ceil', 'rounds up to an integer')\n        },\n        {\n            'name': 'cos',\n            'description': localize('less.builtin.cos', 'cosine function'),\n            'example': 'cos(number);'\n        },\n        {\n            'name': 'floor',\n            'description': localize('less.builtin.floor', 'rounds down to an integer'),\n            'example': 'floor(@number);'\n        },\n        {\n            'name': 'percentage',\n            'description': localize('less.builtin.percentage', 'converts to a %, e.g. 0.5 > 50%'),\n            'example': 'percentage(@number);',\n            'type': 'percentage'\n        },\n        {\n            'name': 'round',\n            'description': localize('less.builtin.round', 'rounds a number to a number of places'),\n            'example': 'round(number, [places: 0]);'\n        },\n        {\n            'name': 'sqrt',\n            'description': localize('less.builtin.sqrt', 'calculates square root of a number'),\n            'example': 'sqrt(number);'\n        },\n        {\n            'name': 'sin',\n            'description': localize('less.builtin.sin', 'sine function'),\n            'example': 'sin(number);'\n        },\n        {\n            'name': 'tan',\n            'description': localize('less.builtin.tan', 'tangent function'),\n            'example': 'tan(number);'\n        },\n        {\n            'name': 'atan',\n            'description': localize('less.builtin.atan', 'arctangent - inverse of tangent function'),\n            'example': 'atan(number);'\n        },\n        {\n            'name': 'pi',\n            'description': localize('less.builtin.pi', 'returns pi'),\n            'example': 'pi();'\n        },\n        {\n            'name': 'pow',\n            'description': localize('less.builtin.pow', 'first argument raised to the power of the second argument'),\n            'example': 'pow(@base, @exponent);'\n        },\n        {\n            'name': 'mod',\n            'description': localize('less.builtin.mod', 'first argument modulus second argument'),\n            'example': 'mod(number, number);'\n        },\n        {\n            'name': 'min',\n            'description': localize('less.builtin.min', 'returns the lowest of one or more values'),\n            'example': 'min(@x, @y);'\n        },\n        {\n            'name': 'max',\n            'description': localize('less.builtin.max', 'returns the lowest of one or more values'),\n            'example': 'max(@x, @y);'\n        }\n    ];\n    LESSCompletion.colorProposals = [\n        {\n            'name': 'argb',\n            'example': 'argb(@color);',\n            'description': localize('less.builtin.argb', 'creates a #AARRGGBB')\n        },\n        {\n            'name': 'hsl',\n            'example': 'hsl(@hue, @saturation, @lightness);',\n            'description': localize('less.builtin.hsl', 'creates a color')\n        },\n        {\n            'name': 'hsla',\n            'example': 'hsla(@hue, @saturation, @lightness, @alpha);',\n            'description': localize('less.builtin.hsla', 'creates a color')\n        },\n        {\n            'name': 'hsv',\n            'example': 'hsv(@hue, @saturation, @value);',\n            'description': localize('less.builtin.hsv', 'creates a color')\n        },\n        {\n            'name': 'hsva',\n            'example': 'hsva(@hue, @saturation, @value, @alpha);',\n            'description': localize('less.builtin.hsva', 'creates a color')\n        },\n        {\n            'name': 'hue',\n            'example': 'hue(@color);',\n            'description': localize('less.builtin.hue', 'returns the `hue` channel of `@color` in the HSL space')\n        },\n        {\n            'name': 'saturation',\n            'example': 'saturation(@color);',\n            'description': localize('less.builtin.saturation', 'returns the `saturation` channel of `@color` in the HSL space')\n        },\n        {\n            'name': 'lightness',\n            'example': 'lightness(@color);',\n            'description': localize('less.builtin.lightness', 'returns the `lightness` channel of `@color` in the HSL space')\n        },\n        {\n            'name': 'hsvhue',\n            'example': 'hsvhue(@color);',\n            'description': localize('less.builtin.hsvhue', 'returns the `hue` channel of `@color` in the HSV space')\n        },\n        {\n            'name': 'hsvsaturation',\n            'example': 'hsvsaturation(@color);',\n            'description': localize('less.builtin.hsvsaturation', 'returns the `saturation` channel of `@color` in the HSV space')\n        },\n        {\n            'name': 'hsvvalue',\n            'example': 'hsvvalue(@color);',\n            'description': localize('less.builtin.hsvvalue', 'returns the `value` channel of `@color` in the HSV space')\n        },\n        {\n            'name': 'red',\n            'example': 'red(@color);',\n            'description': localize('less.builtin.red', 'returns the `red` channel of `@color`')\n        },\n        {\n            'name': 'green',\n            'example': 'green(@color);',\n            'description': localize('less.builtin.green', 'returns the `green` channel of `@color`')\n        },\n        {\n            'name': 'blue',\n            'example': 'blue(@color);',\n            'description': localize('less.builtin.blue', 'returns the `blue` channel of `@color`')\n        },\n        {\n            'name': 'alpha',\n            'example': 'alpha(@color);',\n            'description': localize('less.builtin.alpha', 'returns the `alpha` channel of `@color`')\n        },\n        {\n            'name': 'luma',\n            'example': 'luma(@color);',\n            'description': localize('less.builtin.luma', 'returns the `luma` value (perceptual brightness) of `@color`')\n        },\n        {\n            'name': 'saturate',\n            'example': 'saturate(@color, 10%);',\n            'description': localize('less.builtin.saturate', 'return `@color` 10% points more saturated')\n        },\n        {\n            'name': 'desaturate',\n            'example': 'desaturate(@color, 10%);',\n            'description': localize('less.builtin.desaturate', 'return `@color` 10% points less saturated')\n        },\n        {\n            'name': 'lighten',\n            'example': 'lighten(@color, 10%);',\n            'description': localize('less.builtin.lighten', 'return `@color` 10% points lighter')\n        },\n        {\n            'name': 'darken',\n            'example': 'darken(@color, 10%);',\n            'description': localize('less.builtin.darken', 'return `@color` 10% points darker')\n        },\n        {\n            'name': 'fadein',\n            'example': 'fadein(@color, 10%);',\n            'description': localize('less.builtin.fadein', 'return `@color` 10% points less transparent')\n        },\n        {\n            'name': 'fadeout',\n            'example': 'fadeout(@color, 10%);',\n            'description': localize('less.builtin.fadeout', 'return `@color` 10% points more transparent')\n        },\n        {\n            'name': 'fade',\n            'example': 'fade(@color, 50%);',\n            'description': localize('less.builtin.fade', 'return `@color` with 50% transparency')\n        },\n        {\n            'name': 'spin',\n            'example': 'spin(@color, 10);',\n            'description': localize('less.builtin.spin', 'return `@color` with a 10 degree larger in hue')\n        },\n        {\n            'name': 'mix',\n            'example': 'mix(@color1, @color2, [@weight: 50%]);',\n            'description': localize('less.builtin.mix', 'return a mix of `@color1` and `@color2`')\n        },\n        {\n            'name': 'greyscale',\n            'example': 'greyscale(@color);',\n            'description': localize('less.builtin.greyscale', 'returns a grey, 100% desaturated color'),\n        },\n        {\n            'name': 'contrast',\n            'example': 'contrast(@color1, [@darkcolor: black], [@lightcolor: white], [@threshold: 43%]);',\n            'description': localize('less.builtin.contrast', 'return `@darkcolor` if `@color1 is> 43% luma` otherwise return `@lightcolor`, see notes')\n        },\n        {\n            'name': 'multiply',\n            'example': 'multiply(@color1, @color2);'\n        },\n        {\n            'name': 'screen',\n            'example': 'screen(@color1, @color2);'\n        },\n        {\n            'name': 'overlay',\n            'example': 'overlay(@color1, @color2);'\n        },\n        {\n            'name': 'softlight',\n            'example': 'softlight(@color1, @color2);'\n        },\n        {\n            'name': 'hardlight',\n            'example': 'hardlight(@color1, @color2);'\n        },\n        {\n            'name': 'difference',\n            'example': 'difference(@color1, @color2);'\n        },\n        {\n            'name': 'exclusion',\n            'example': 'exclusion(@color1, @color2);'\n        },\n        {\n            'name': 'average',\n            'example': 'average(@color1, @color2);'\n        },\n        {\n            'name': 'negation',\n            'example': 'negation(@color1, @color2);'\n        }\n    ];\n    return LESSCompletion;\n}(CSSCompletion));\nexport { LESSCompletion };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as objects from '../utils/objects.js';\nimport { cssData } from '../data/webCustomData.js';\nimport { CSSDataProvider } from './dataProvider.js';\nvar CSSDataManager = /** @class */ (function () {\n    function CSSDataManager(options) {\n        this.dataProviders = [];\n        this._propertySet = {};\n        this._atDirectiveSet = {};\n        this._pseudoClassSet = {};\n        this._pseudoElementSet = {};\n        this._properties = [];\n        this._atDirectives = [];\n        this._pseudoClasses = [];\n        this._pseudoElements = [];\n        this.setDataProviders((options === null || options === void 0 ? void 0 : options.useDefaultDataProvider) !== false, (options === null || options === void 0 ? void 0 : options.customDataProviders) || []);\n    }\n    CSSDataManager.prototype.setDataProviders = function (builtIn, providers) {\n        var _a;\n        this.dataProviders = [];\n        if (builtIn) {\n            this.dataProviders.push(new CSSDataProvider(cssData));\n        }\n        (_a = this.dataProviders).push.apply(_a, providers);\n        this.collectData();\n    };\n    /**\n     * Collect all data  & handle duplicates\n     */\n    CSSDataManager.prototype.collectData = function () {\n        var _this = this;\n        this._propertySet = {};\n        this._atDirectiveSet = {};\n        this._pseudoClassSet = {};\n        this._pseudoElementSet = {};\n        this.dataProviders.forEach(function (provider) {\n            provider.provideProperties().forEach(function (p) {\n                if (!_this._propertySet[p.name]) {\n                    _this._propertySet[p.name] = p;\n                }\n            });\n            provider.provideAtDirectives().forEach(function (p) {\n                if (!_this._atDirectiveSet[p.name]) {\n                    _this._atDirectiveSet[p.name] = p;\n                }\n            });\n            provider.providePseudoClasses().forEach(function (p) {\n                if (!_this._pseudoClassSet[p.name]) {\n                    _this._pseudoClassSet[p.name] = p;\n                }\n            });\n            provider.providePseudoElements().forEach(function (p) {\n                if (!_this._pseudoElementSet[p.name]) {\n                    _this._pseudoElementSet[p.name] = p;\n                }\n            });\n        });\n        this._properties = objects.values(this._propertySet);\n        this._atDirectives = objects.values(this._atDirectiveSet);\n        this._pseudoClasses = objects.values(this._pseudoClassSet);\n        this._pseudoElements = objects.values(this._pseudoElementSet);\n    };\n    CSSDataManager.prototype.getProperty = function (name) { return this._propertySet[name]; };\n    CSSDataManager.prototype.getAtDirective = function (name) { return this._atDirectiveSet[name]; };\n    CSSDataManager.prototype.getPseudoClass = function (name) { return this._pseudoClassSet[name]; };\n    CSSDataManager.prototype.getPseudoElement = function (name) { return this._pseudoElementSet[name]; };\n    CSSDataManager.prototype.getProperties = function () {\n        return this._properties;\n    };\n    CSSDataManager.prototype.getAtDirectives = function () {\n        return this._atDirectives;\n    };\n    CSSDataManager.prototype.getPseudoClasses = function () {\n        return this._pseudoClasses;\n    };\n    CSSDataManager.prototype.getPseudoElements = function () {\n        return this._pseudoElements;\n    };\n    CSSDataManager.prototype.isKnownProperty = function (name) {\n        return name.toLowerCase() in this._propertySet;\n    };\n    CSSDataManager.prototype.isStandardProperty = function (name) {\n        return this.isKnownProperty(name) &&\n            (!this._propertySet[name.toLowerCase()].status || this._propertySet[name.toLowerCase()].status === 'standard');\n    };\n    return CSSDataManager;\n}());\nexport { CSSDataManager };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { CSSNavigation } from './cssNavigation.js';\nimport * as nodes from '../parser/cssNodes.js';\nimport { URI } from '../../vscode-uri/index.js';\nimport { startsWith } from '../utils/strings.js';\nimport { extname } from '../utils/resources.js';\nvar SCSSNavigation = /** @class */ (function (_super) {\n    __extends(SCSSNavigation, _super);\n    function SCSSNavigation(fileSystemProvider) {\n        return _super.call(this, fileSystemProvider) || this;\n    }\n    SCSSNavigation.prototype.isRawStringDocumentLinkNode = function (node) {\n        return (_super.prototype.isRawStringDocumentLinkNode.call(this, node) ||\n            node.type === nodes.NodeType.Use ||\n            node.type === nodes.NodeType.Forward);\n    };\n    SCSSNavigation.prototype.resolveRelativeReference = function (ref, documentUri, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            function toPathVariations(uri) {\n                // No valid path\n                if (uri.path === '') {\n                    return undefined;\n                }\n                // No variation for links that ends with suffix\n                if (uri.path.endsWith('.scss') || uri.path.endsWith('.css')) {\n                    return undefined;\n                }\n                // If a link is like a/, try resolving a/index.scss and a/_index.scss\n                if (uri.path.endsWith('/')) {\n                    return [\n                        uri.with({ path: uri.path + 'index.scss' }).toString(),\n                        uri.with({ path: uri.path + '_index.scss' }).toString()\n                    ];\n                }\n                // Use `uri.path` since it's normalized to use `/` in all platforms\n                var pathFragments = uri.path.split('/');\n                var basename = pathFragments[pathFragments.length - 1];\n                var pathWithoutBasename = uri.path.slice(0, -basename.length);\n                // No variation for links such as _a\n                if (basename.startsWith('_')) {\n                    if (uri.path.endsWith('.scss')) {\n                        return undefined;\n                    }\n                    else {\n                        return [uri.with({ path: uri.path + '.scss' }).toString()];\n                    }\n                }\n                var normalizedBasename = basename + '.scss';\n                var documentUriWithBasename = function (newBasename) {\n                    return uri.with({ path: pathWithoutBasename + newBasename }).toString();\n                };\n                var normalizedPath = documentUriWithBasename(normalizedBasename);\n                var underScorePath = documentUriWithBasename('_' + normalizedBasename);\n                var indexPath = documentUriWithBasename(normalizedBasename.slice(0, -5) + '/index.scss');\n                var indexUnderscoreUri = documentUriWithBasename(normalizedBasename.slice(0, -5) + '/_index.scss');\n                var cssPath = documentUriWithBasename(normalizedBasename.slice(0, -5) + '.css');\n                return [normalizedPath, underScorePath, indexPath, indexUnderscoreUri, cssPath];\n            }\n            var target, parsedUri, pathVariations, j, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (startsWith(ref, 'sass:')) {\n                            return [2 /*return*/, undefined]; // sass library\n                        }\n                        return [4 /*yield*/, _super.prototype.resolveRelativeReference.call(this, ref, documentUri, documentContext)];\n                    case 1:\n                        target = _a.sent();\n                        if (!(this.fileSystemProvider && target && extname(target).length === 0)) return [3 /*break*/, 8];\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 7, , 8]);\n                        parsedUri = URI.parse(target);\n                        pathVariations = toPathVariations(parsedUri);\n                        if (!pathVariations) return [3 /*break*/, 6];\n                        j = 0;\n                        _a.label = 3;\n                    case 3:\n                        if (!(j < pathVariations.length)) return [3 /*break*/, 6];\n                        return [4 /*yield*/, this.fileExists(pathVariations[j])];\n                    case 4:\n                        if (_a.sent()) {\n                            return [2 /*return*/, pathVariations[j]];\n                        }\n                        _a.label = 5;\n                    case 5:\n                        j++;\n                        return [3 /*break*/, 3];\n                    case 6: return [2 /*return*/, undefined];\n                    case 7:\n                        e_1 = _a.sent();\n                        return [3 /*break*/, 8];\n                    case 8: return [2 /*return*/, target];\n                }\n            });\n        });\n    };\n    return SCSSNavigation;\n}(CSSNavigation));\nexport { SCSSNavigation };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as cssService from './_deps/vscode-css-languageservice/cssLanguageService.js';\nimport { languages, editor, Uri, Range, MarkerSeverity } from './fillers/monaco-editor-core.js';\n// --- diagnostics --- ---\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\n        var _this = this;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            var modeId = model.getModeId();\n            if (modeId !== _this._languageId) {\n                return;\n            }\n            var handle;\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\n                window.clearTimeout(handle);\n                handle = window.setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\n            });\n            _this._doValidate(model.uri, modeId);\n        };\n        var onModelRemoved = function (model) {\n            editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var listener = _this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete _this._listener[uriStr];\n            }\n        };\n        this._disposables.push(editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(editor.onWillDisposeModel(onModelRemoved));\n        this._disposables.push(editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        defaults.onDidChange(function (_) {\n            editor.getModels().forEach(function (model) {\n                if (model.getModeId() === _this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        });\n        this._disposables.push({\n            dispose: function () {\n                for (var key in _this._listener) {\n                    _this._listener[key].dispose();\n                }\n            }\n        });\n        editor.getModels().forEach(onModelAdd);\n    }\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\n        this._worker(resource)\n            .then(function (worker) {\n            return worker.doValidation(resource.toString());\n        })\n            .then(function (diagnostics) {\n            var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n            var model = editor.getModel(resource);\n            if (model.getModeId() === languageId) {\n                editor.setModelMarkers(model, languageId, markers);\n            }\n        })\n            .then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case cssService.DiagnosticSeverity.Error:\n            return MarkerSeverity.Error;\n        case cssService.DiagnosticSeverity.Warning:\n            return MarkerSeverity.Warning;\n        case cssService.DiagnosticSeverity.Information:\n            return MarkerSeverity.Info;\n        case cssService.DiagnosticSeverity.Hint:\n            return MarkerSeverity.Hint;\n        default:\n            return MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return {\n        start: {\n            line: range.startLineNumber - 1,\n            character: range.startColumn - 1\n        },\n        end: { line: range.endLineNumber - 1, character: range.endColumn - 1 }\n    };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction isInsertReplaceEdit(edit) {\n    return (typeof edit.insert !== 'undefined' &&\n        typeof edit.replace !== 'undefined');\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = languages.CompletionItemKind;\n    switch (kind) {\n        case cssService.CompletionItemKind.Text:\n            return mItemKind.Text;\n        case cssService.CompletionItemKind.Method:\n            return mItemKind.Method;\n        case cssService.CompletionItemKind.Function:\n            return mItemKind.Function;\n        case cssService.CompletionItemKind.Constructor:\n            return mItemKind.Constructor;\n        case cssService.CompletionItemKind.Field:\n            return mItemKind.Field;\n        case cssService.CompletionItemKind.Variable:\n            return mItemKind.Variable;\n        case cssService.CompletionItemKind.Class:\n            return mItemKind.Class;\n        case cssService.CompletionItemKind.Interface:\n            return mItemKind.Interface;\n        case cssService.CompletionItemKind.Module:\n            return mItemKind.Module;\n        case cssService.CompletionItemKind.Property:\n            return mItemKind.Property;\n        case cssService.CompletionItemKind.Unit:\n            return mItemKind.Unit;\n        case cssService.CompletionItemKind.Value:\n            return mItemKind.Value;\n        case cssService.CompletionItemKind.Enum:\n            return mItemKind.Enum;\n        case cssService.CompletionItemKind.Keyword:\n            return mItemKind.Keyword;\n        case cssService.CompletionItemKind.Snippet:\n            return mItemKind.Snippet;\n        case cssService.CompletionItemKind.Color:\n            return mItemKind.Color;\n        case cssService.CompletionItemKind.File:\n            return mItemKind.File;\n        case cssService.CompletionItemKind.Reference:\n            return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText\n    };\n}\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return [' ', ':'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            var wordInfo = model.getWordUntilPosition(position);\n            var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n            var items = info.items.map(function (entry) {\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText || entry.label,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    documentation: entry.documentation,\n                    detail: entry.detail,\n                    range: wordRange,\n                    kind: toCompletionItemKind(entry.kind)\n                };\n                if (entry.textEdit) {\n                    if (isInsertReplaceEdit(entry.textEdit)) {\n                        item.range = {\n                            insert: toRange(entry.textEdit.insert),\n                            replace: toRange(entry.textEdit.replace)\n                        };\n                    }\n                    else {\n                        item.range = toRange(entry.textEdit.range);\n                    }\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.additionalTextEdits) {\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\n                }\n                if (entry.insertTextFormat === cssService.InsertTextFormat.Snippet) {\n                    item.insertTextRules = languages.CompletionItemInsertTextRule.InsertAsSnippet;\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                suggestions: items\n            };\n        });\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return (thing && typeof thing === 'object' && typeof thing.kind === 'string');\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n            };\n        }\n        return {\n            value: entry.value\n        };\n    }\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- hover ------\nvar HoverAdapter = /** @class */ (function () {\n    function HoverAdapter(_worker) {\n        this._worker = _worker;\n    }\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doHover(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            return {\n                range: toRange(info.range),\n                contents: toMarkedStringArray(info.contents)\n            };\n        });\n    };\n    return HoverAdapter;\n}());\nexport { HoverAdapter };\n// --- document highlights ------\nfunction toDocumentHighlightKind(kind) {\n    switch (kind) {\n        case cssService.DocumentHighlightKind.Read:\n            return languages.DocumentHighlightKind.Read;\n        case cssService.DocumentHighlightKind.Write:\n            return languages.DocumentHighlightKind.Write;\n        case cssService.DocumentHighlightKind.Text:\n            return languages.DocumentHighlightKind.Text;\n    }\n    return languages.DocumentHighlightKind.Text;\n}\nvar DocumentHighlightAdapter = /** @class */ (function () {\n    function DocumentHighlightAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentHighlightAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findDocumentHighlights(resource.toString(), fromPosition(position));\n        })\n            .then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(function (entry) {\n                return {\n                    range: toRange(entry.range),\n                    kind: toDocumentHighlightKind(entry.kind)\n                };\n            });\n        });\n    };\n    return DocumentHighlightAdapter;\n}());\nexport { DocumentHighlightAdapter };\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: Uri.parse(location.uri),\n        range: toRange(location.range)\n    };\n}\nvar DefinitionAdapter = /** @class */ (function () {\n    function DefinitionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findDefinition(resource.toString(), fromPosition(position));\n        })\n            .then(function (definition) {\n            if (!definition) {\n                return;\n            }\n            return [toLocation(definition)];\n        });\n    };\n    return DefinitionAdapter;\n}());\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function () {\n    function ReferenceAdapter(_worker) {\n        this._worker = _worker;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findReferences(resource.toString(), fromPosition(position));\n        })\n            .then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(toLocation);\n        });\n    };\n    return ReferenceAdapter;\n}());\nexport { ReferenceAdapter };\n// --- rename ------\nfunction toWorkspaceEdit(edit) {\n    if (!edit || !edit.changes) {\n        return void 0;\n    }\n    var resourceEdits = [];\n    for (var uri in edit.changes) {\n        var _uri = Uri.parse(uri);\n        // let edits: languages.TextEdit[] = [];\n        for (var _i = 0, _a = edit.changes[uri]; _i < _a.length; _i++) {\n            var e = _a[_i];\n            resourceEdits.push({\n                resource: _uri,\n                edit: {\n                    range: toRange(e.range),\n                    text: e.newText\n                }\n            });\n        }\n    }\n    return {\n        edits: resourceEdits\n    };\n}\nvar RenameAdapter = /** @class */ (function () {\n    function RenameAdapter(_worker) {\n        this._worker = _worker;\n    }\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doRename(resource.toString(), fromPosition(position), newName);\n        })\n            .then(function (edit) {\n            return toWorkspaceEdit(edit);\n        });\n    };\n    return RenameAdapter;\n}());\nexport { RenameAdapter };\n// --- document symbols ------\nfunction toSymbolKind(kind) {\n    var mKind = languages.SymbolKind;\n    switch (kind) {\n        case cssService.SymbolKind.File:\n            return mKind.Array;\n        case cssService.SymbolKind.Module:\n            return mKind.Module;\n        case cssService.SymbolKind.Namespace:\n            return mKind.Namespace;\n        case cssService.SymbolKind.Package:\n            return mKind.Package;\n        case cssService.SymbolKind.Class:\n            return mKind.Class;\n        case cssService.SymbolKind.Method:\n            return mKind.Method;\n        case cssService.SymbolKind.Property:\n            return mKind.Property;\n        case cssService.SymbolKind.Field:\n            return mKind.Field;\n        case cssService.SymbolKind.Constructor:\n            return mKind.Constructor;\n        case cssService.SymbolKind.Enum:\n            return mKind.Enum;\n        case cssService.SymbolKind.Interface:\n            return mKind.Interface;\n        case cssService.SymbolKind.Function:\n            return mKind.Function;\n        case cssService.SymbolKind.Variable:\n            return mKind.Variable;\n        case cssService.SymbolKind.Constant:\n            return mKind.Constant;\n        case cssService.SymbolKind.String:\n            return mKind.String;\n        case cssService.SymbolKind.Number:\n            return mKind.Number;\n        case cssService.SymbolKind.Boolean:\n            return mKind.Boolean;\n        case cssService.SymbolKind.Array:\n            return mKind.Array;\n    }\n    return mKind.Function;\n}\nvar DocumentSymbolAdapter = /** @class */ (function () {\n    function DocumentSymbolAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.findDocumentSymbols(resource.toString()); })\n            .then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                name: item.name,\n                detail: '',\n                containerName: item.containerName,\n                kind: toSymbolKind(item.kind),\n                tags: [],\n                range: toRange(item.location.range),\n                selectionRange: toRange(item.location.range)\n            }); });\n        });\n    };\n    return DocumentSymbolAdapter;\n}());\nexport { DocumentSymbolAdapter };\nvar DocumentColorAdapter = /** @class */ (function () {\n    function DocumentColorAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.findDocumentColors(resource.toString()); })\n            .then(function (infos) {\n            if (!infos) {\n                return;\n            }\n            return infos.map(function (item) { return ({\n                color: item.color,\n                range: toRange(item.range)\n            }); });\n        });\n    };\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range));\n        })\n            .then(function (presentations) {\n            if (!presentations) {\n                return;\n            }\n            return presentations.map(function (presentation) {\n                var item = {\n                    label: presentation.label\n                };\n                if (presentation.textEdit) {\n                    item.textEdit = toTextEdit(presentation.textEdit);\n                }\n                if (presentation.additionalTextEdits) {\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\n                }\n                return item;\n            });\n        });\n    };\n    return DocumentColorAdapter;\n}());\nexport { DocumentColorAdapter };\nvar FoldingRangeAdapter = /** @class */ (function () {\n    function FoldingRangeAdapter(_worker) {\n        this._worker = _worker;\n    }\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.getFoldingRanges(resource.toString(), context); })\n            .then(function (ranges) {\n            if (!ranges) {\n                return;\n            }\n            return ranges.map(function (range) {\n                var result = {\n                    start: range.startLine + 1,\n                    end: range.endLine + 1\n                };\n                if (typeof range.kind !== 'undefined') {\n                    result.kind = toFoldingRangeKind(range.kind);\n                }\n                return result;\n            });\n        });\n    };\n    return FoldingRangeAdapter;\n}());\nexport { FoldingRangeAdapter };\nfunction toFoldingRangeKind(kind) {\n    switch (kind) {\n        case cssService.FoldingRangeKind.Comment:\n            return languages.FoldingRangeKind.Comment;\n        case cssService.FoldingRangeKind.Imports:\n            return languages.FoldingRangeKind.Imports;\n        case cssService.FoldingRangeKind.Region:\n            return languages.FoldingRangeKind.Region;\n    }\n}\nvar SelectionRangeAdapter = /** @class */ (function () {\n    function SelectionRangeAdapter(_worker) {\n        this._worker = _worker;\n    }\n    SelectionRangeAdapter.prototype.provideSelectionRanges = function (model, positions, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.getSelectionRanges(resource.toString(), positions.map(fromPosition)); })\n            .then(function (selectionRanges) {\n            if (!selectionRanges) {\n                return;\n            }\n            return selectionRanges.map(function (selectionRange) {\n                var result = [];\n                while (selectionRange) {\n                    result.push({ range: toRange(selectionRange.range) });\n                    selectionRange = selectionRange.parent;\n                }\n                return result;\n            });\n        });\n    };\n    return SelectionRangeAdapter;\n}());\nexport { SelectionRangeAdapter };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nimport { languages } from './fillers/monaco-editor-core.js';\nexport function setupMode(defaults) {\n    var disposables = [];\n    var providers = [];\n    var client = new WorkerManager(defaults);\n    disposables.push(client);\n    var worker = function () {\n        var uris = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uris[_i] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, uris);\n    };\n    function registerProviders() {\n        var languageId = defaults.languageId, modeConfiguration = defaults.modeConfiguration;\n        disposeAll(providers);\n        if (modeConfiguration.completionItems) {\n            providers.push(languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker)));\n        }\n        if (modeConfiguration.hovers) {\n            providers.push(languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker)));\n        }\n        if (modeConfiguration.documentHighlights) {\n            providers.push(languages.registerDocumentHighlightProvider(languageId, new languageFeatures.DocumentHighlightAdapter(worker)));\n        }\n        if (modeConfiguration.definitions) {\n            providers.push(languages.registerDefinitionProvider(languageId, new languageFeatures.DefinitionAdapter(worker)));\n        }\n        if (modeConfiguration.references) {\n            providers.push(languages.registerReferenceProvider(languageId, new languageFeatures.ReferenceAdapter(worker)));\n        }\n        if (modeConfiguration.documentSymbols) {\n            providers.push(languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker)));\n        }\n        if (modeConfiguration.rename) {\n            providers.push(languages.registerRenameProvider(languageId, new languageFeatures.RenameAdapter(worker)));\n        }\n        if (modeConfiguration.colors) {\n            providers.push(languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker)));\n        }\n        if (modeConfiguration.foldingRanges) {\n            providers.push(languages.registerFoldingRangeProvider(languageId, new languageFeatures.FoldingRangeAdapter(worker)));\n        }\n        if (modeConfiguration.diagnostics) {\n            providers.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\n        }\n        if (modeConfiguration.selectionRanges) {\n            providers.push(languages.registerSelectionRangeProvider(languageId, new languageFeatures.SelectionRangeAdapter(worker)));\n        }\n    }\n    registerProviders();\n    disposables.push(asDisposable(providers));\n    return asDisposable(disposables);\n}\nfunction asDisposable(disposables) {\n    return { dispose: function () { return disposeAll(disposables); } };\n}\nfunction disposeAll(disposables) {\n    while (disposables.length) {\n        disposables.pop().dispose();\n    }\n}\n"],"names":["Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","DiagnosticCode","Diagnostic","Command","TextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","create","line","character","is","value","candidate","Is","objectLiteral","number","one","two","three","four","start","end","Error","uri","range","defined","string","undefined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","color","label","textEdit","additionalTextEdits","typedArray","startLine","endLine","startCharacter","endCharacter","kind","result","location","message","Warning","Information","Hint","Unnecessary","Deprecated","target","severity","code","source","relatedInformation","title","command","args","_i","arguments","length","replace","newText","insert","position","del","textDocument","edits","VersionedTextDocumentIdentifier","Array","isArray","options","overwrite","ignoreIfExists","boolean","oldUri","newUri","recursive","ignoreIfNotExists","changes","documentChanges","every","change","TextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","DocumentSymbol","CodeActionKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","TextDocument","TextEditChangeImpl","this","prototype","push","delete","add","edit","all","clear","splice","WorkspaceChange","workspaceEdit","_this","_textEditChanges","Object","_workspaceEdit","forEach","textEditChange","keys","key","defineProperty","get","enumerable","configurable","getTextEditChange","textDocumentEdit","createFile","checkDocumentChanges","renameFile","deleteFile","version","languageId","text","PlainText","Markdown","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Event","Operator","TypeParameter","items","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","Namespace","Package","String","Number","Boolean","Key","Null","name","containerName","detail","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","diagnostics","only","commandOrEdit","isPreferred","data","tabSize","insertSpaces","parent","mergeSort","compare","p","left","slice","right","leftIdx","rightIdx","i","ret","content","FullTextDocument","lineCount","func","getText","positionAt","offsetAt","applyEdits","document","sortedEdits","a","b","diff","lastModifiedOffset","e","startOffset","endOffset","substring","_uri","_languageId","_version","_content","_lineOffsets","update","event","getLineOffsets","lineOffsets","isLineStart","ch","charAt","offset","Math","max","min","low","high","mid","floor","lineOffset","nextLineOffset","toString","call","check","ClientCapabilities","FileType","changes_1","isIncremental","getWellformedRange","addedLineOffsets","computeLineOffsets","len","apply","concat","isFull","rangeLength","isAtLineStart","textOffset","charCodeAt","getWellformedEdit","spans","sortedEdits_1","map","substr","join","LATEST","completion","completionItem","documentationFormat","hover","contentFormat","extendStatics","NodeType","ReferenceType","__extends","d","setPrototypeOf","__proto__","hasOwnProperty","__","constructor","getNodeAtOffset","node","accept","getNodePath","path","unshift","getParentDeclaration","decl","findParent","Declaration","getValue","encloses","Level","Node","nodeType","Undefined","set","type","getTextProvider","textProvider","matches","str","startsWith","endsWith","visitor","_a","acceptVisitor","visitNode","bind","adoptChild","index","idx","indexOf","attachTo","collectIssues","results","issues","addIssue","issue","hasIssue","rule","some","getRule","isErroneous","c","setNode","field","addChild","updateOffsetAndLength","nodeEnd","hasChildren","getChildren","getChild","addChildren","nodes","nodes_1","findFirstChildBeforeOffset","current","findChildAtOffset","goDeep","getParent","Nodelist","findAParent","types","t","setData","getData","_super","Identifier","isCustomProperty","containsInterpolation","Stylesheet","Declarations","BodyDeclaration","getDeclarations","declarations","setDeclarations","decls","RuleSet","Ruleset","getSelectors","selectors","isNested","Selector","SimpleSelector","AtApplyRule","setIdentifier","getIdentifier","identifier","getName","AbstractDeclaration","CustomPropertyDeclaration","setProperty","getProperty","property","setValue","setPropertySet","getPropertySet","propertySet","CustomPropertySet","getFullPropertyName","propertyName","NestedProperties","parentDecl","getNonPrefixedPropertyName","vendorPrefixEnd","setNestedProperties","getNestedProperties","nestedProperties","Invocation","getArguments","FunctionParameter","setDefaultValue","getDefaultValue","defaultValue","FunctionArgument","IfStatement","If","setExpression","setElseClause","elseClause","ForStatement","For","setVariable","EachStatement","Each","getVariables","variables","WhileStatement","While","ElseStatement","Else","FunctionDeclaration","getParameters","ViewPort","FontFace","Keyframe","setKeyword","keyword","getKeyword","KeyframeSelector","Import","setMedialist","Use","ModuleConfiguration","Forward","ForwardVisibility","Media","Supports","Document","Medialist","getMediums","mediums","MediaQuery","SupportsCondition","Page","PageBoxMarginBox","Expression","BinaryExpression","setLeft","getLeft","setRight","getRight","setOperator","getOperator","operator","Term","getExpression","expression","AttributeSelector","setNamespacePrefix","getNamespacePrefix","namespacePrefix","HexColorValue","_dot","_0","_9","NumericValue","raw","unitIdx","unit","VariableDeclaration","variable","needsSemicolon","getVariable","Interpolation","VariableName","ExtendsReference","MixinContentReference","MixinContentDeclaration","MixinReference","getNamespaces","namespaces","setContent","getContent","MixinDeclaration","setGuard","guard","UnknownAtRule","setAtRuleName","atRuleName","getAtRuleName","ListEntry","setKey","LessGuard","getConditions","conditions","GuardCondition","Marker","level","getLevel","getOffset","getLength","getNode","getMessage","ParseErrorCollector","entries","TokenType","MultiLineStream","from","to","eos","pos","goBackTo","goBack","n","advance","nextChar","peekChar","lookbackChar","advanceIfChar","advanceIfChars","advanceWhileChar","condition","posNow","_f","_z","_A","_F","_Z","_TLD","_HAT","_EQS","_PIP","_MIN","_USC","_PRC","_MUL","_LPA","_RPA","_LAN","_RAN","_ATS","_HSH","_DLR","_BSL","_FSL","_NWL","_CAR","_LFD","_DQO","_SQO","_WSP","_TAB","_SEM","_COL","_CUL","_CUR","_BRL","_BRR","_CMA","_DOT","_BNG","staticTokenTable","SemiColon","Colon","CurlyL","CurlyR","BracketR","BracketL","ParenthesisL","ParenthesisR","Comma","staticUnitTable","EMS","EXS","Length","Angle","Time","Freq","Percentage","Resolution","Scanner","stream","ignoreComment","ignoreWhitespace","inURL","setSource","input","finishToken","scanUnquotedString","_unquotedString","UnquotedString","scan","triviaToken","trivia","EOF","scanNext","CDO","CDC","ident","Ident","_name","keywordText","Charset","AtKeyword","Delim","Hash","Exclamation","_number","dim","toLowerCase","tokenType_1","Dimension","Num","tokenType","_string","Includes","Dashmatch","SubstringOperator","PrefixOperator","SuffixOperator","_whitespace","Whitespace","comment","Comment","success_1","hot_1","npeek","_newline","fromCharCode","_escape","includeNewLines","hexNumCount","hexVal","parseInt","_stringChar","closeQuote","BadString","_unquotedChar","hasContent","matched","_identChar","_minus","_identFirstChar","SortTexts","WorkerManager","defaults","_defaults","_worker","_idleCheckInterval","window","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","dispose","_client","clearInterval","Date","now","_getClient","moduleId","createData","languageSettings","diagnosticsOptions","getProxy","getLanguageServiceWorker","resources","then","client","_","withSyncedResources","Parser","scnr","keyframeRegex","scanner","token","prevToken","peekIdent","peekKeyword","peekDelim","peek","peekRegExp","regEx","test","hasWhitespace","consumeToken","mark","prev","curr","restoreAtMark","try","acceptOneKeyword","keywords","keywords_1","acceptIdent","acceptKeyword","acceptDelim","acceptRegexp","_parseRegexp","createNode","finish","acceptUnquotedString","unquoted","resync","resyncTokens","resyncStopTokens","ctor","error","markError","prevEnd","lastErrorToken","parseStylesheet","versionId","internalParse","_parseStylesheet","parseFunc","_parseStylesheetStart","inRecovery","hasMatch","statement","_parseStylesheetStatement","_needsSemicolonAfter","_parseCharset","_parseStylesheetAtStatement","_parseRuleset","_parseImport","_parseMedia","_parsePage","_parseFontFace","_parseKeyframe","_parseSupports","_parseViewPort","_parseNamespace","_parseDocument","_parseUnknownAtRule","_tryParseRuleset","_parseSelector","_parseBody","_parseRuleSetDeclaration","_parseRuleSetDeclarationAtStatement","_parseAtApply","_tryParseCustomPropertyDeclaration","_parseDeclaration","_parseIdent","_parseDeclarations","parseDeclaration","semicolonPosition","_parseCombinator","_parseSimpleSelector","_parseProperty","stopTokens","s","il","r","k","j","jl","__spreadArrays","colonPosition","_parseExpr","_parsePrio","_parseCustomPropertyValue","curlyDepth","parensDepth","bracketsDepth","done","_tryToParseDeclaration","_parsePropertyIdentifier","_parseURILiteral","_parseStringLiteral","_parseMediaQueryList","atNode","_parseKeyframeIdent","_parseKeyframeSelector","_tryParseKeyframeSelector","_parseSupportsCondition","_parseSupportsDeclaration","_parseSupportsConditionInParens","lParent","rParent","openParentCount","_parseMediaDeclaration","_parseMediaQuery","resyncStopToken","parseExpression","_parseMediaContentStart","_parseMediaFeatureName","_parseMedium","_parsePageDeclaration","_parsePageMarginBox","_parsePageSelector","_parseUnknownAtRuleName","curlyLCount","_parseOperator","_parseUnaryOperator","_parseElementName","_parseSimpleSelectorBody","_parsePseudo","_parseHash","_parseClass","_parseAttrib","_parseSelectorIdent","_parseNamespacePrefix","_parseBinaryExpr","_tryParsePseudoIdentifier","_tryParsePrio","stopOnComma","_parseNamedLine","preparsedLeft","preparsedOper","_parseTerm","_parseTermExpression","_parseFunction","_parseNumeric","_parseHexColor","_parseOperation","_parseURLArgument","referenceTypes","_parseFunctionIdentifier","_parseFunctionArgument","localize","SnippetFormat","CSSCompletion","variablePrefix","lsOptions","cssDataManager","completionParticipants","configure","settings","getSymbolContext","symbolContext","styleSheet","setCompletionParticipants","registeredCompletionParticipants","doComplete2","documentContext","thisArg","_arguments","generator","participant","contributedParticipants","pathCompletionResult","body","f","y","g","sent","trys","ops","next","verb","Symbol","iterator","v","op","TypeError","pop","step","__generator","fileSystemProvider","readDirectory","doComplete","computeCompletions","P","Promise","resolve","reject","fulfilled","rejected","currentWord","getCurrentWord","defaultReplaceRange","nodePath","getCompletionsForDeclarationProperty","getVariableProposals","getCompletionsForExpression","parentRef","getCompletionsForExtendsReference","parentRuleSet","getCompletionsForSelector","getCompletionsForFunctionArgument","getCompletionsForDeclarations","getCompletionsForVariableDeclaration","getCompletionsForRuleSet","getCompletionsForInterpolation","getCompletionsForFunctionDeclaration","getCompletionsForMixinReference","getCompletionsForSupports","getCompletionsForSupportsCondition","getCompletionForUriLiteralValue","getCompletionForTopLevel","isImportPathParent","getCompletionForImportPath","finalize","getCompletionsForStylesheet","findInNodePath","declaration","getPropertyProposals","triggerPropertyValueCompletion","isTriggerPropertyValueCompletionEnabled","completePropertyWithSemicolon","isCompletePropertyWithSemicolonEnabled","getProperties","entry","insertText","retrigger","getCompletionRange","item","doesSupportMarkdown","isDeprecated","insertTextFormat","restrictions","sortTextSuffix","relevance","sortTextPrefix","strings","VendorPrefixed","Normal","sortText","onCssProperty","getCompletionsForDeclarationValue","existingNode","onCssPropertyValue","propertyValue","getColorProposals","getPositionProposals","getRepeatStyleProposals","getLineStyleProposals","getLineWidthProposals","getGeometryBoxProposals","getBoxProposals","getImageProposals","getTimingFunctionProposals","getBasicShapeProposals","getValueEnumProposals","getCSSWideKeywordProposals","getUnitProposals","existingValues","fullPropertyName","Set","visitValue","matchesProperty","collectValues","_b","_c","getEntries","existingValue","getTermProposals","values","insertString","lastIndexOf","Enums","symbols_1","findSymbolsAtOffset","symbol","isColorString","mixinNode","getVariableProposalsForCSSVarFunction","symbols","filter","symbols_2","numMatch","match","restriction","units","units_1","colorValues","ColorValueCollector","_loop_1","tabStop","_match","p1","desc","this_1","repeat","lineStyle","lineWidth","box","image","moveCursorInsideParenthesis","timing","shape","getAtDirectives","ruleSet","getPseudoClasses","getPseudoElements","visited","docText","selector","arg","ref","allMixins_1","mixinSymbol","makeTermProposal","identifierNode","onCssMixinReference","mixinName","allFunctions_1","functionSymbol","params","supportsCondition","child","supports","extendsRef","uriLiteralNode","uriValue","uriValueNode","emptyURIValuePosition","onCssURILiteralValue","importPathNode","onCssImportPath","pathValue","supportsMarkdown","clientCapabilities","status","currentOffset","CSSHover","selectorPrinting","doHover","stylesheet","getRange","nodepath","selectorToMarkedString","simpleSelectorToMarkedString","getAtDirective","selectorName","getPseudoElement","getPseudoClass","convertContents","CSSNavigation","findDefinition","findSymbolFromNode","findReferences","findDocumentHighlights","h","matchesSymbol","getHighlightKind","isRawStringDocumentLinkNode","findDocumentLinks","links","findUnresolvedLinks","resolved","resolveReference","findDocumentLinks2","resolvedLinks","links_1","link","resolvedTarget","resolveRelativeReference","collect","uriStringNode","rawUri","first","rawText","findDocumentSymbols","locationNode","mediaList","findDocumentColors","colorInfo","getColorInformation","getColorPresentations","red256","round","green256","blue256","toTwoDigitHex","hsl","l","doRename","newName","documentUri","moduleName","rootFolderUri","documentFolderUri","modulePath","pathWithinModule","resolvePathToModule","_moduleName","packPath","fileExists","stat","size","CSSCodeActions","doCodeActions","context","doCodeActions2","ca","diagnostic","appendFixesForMarker","getFixesForUnknownProperty","marker","candidates","score","sort","localeCompare","maxActions","candidates_1","propertyName_1","documentIdentifier","codeAction","CSSValidation","doValidation","validate","lint","ruleIds","id","customTokenValue","EqualsOperator","NotEqualsOperator","GreaterEqualsOperator","SmallerEqualsOperator","Ellipsis","SCSSScanner","SCSSParser","_parseWarnAndDebug","_parseControlStatement","_parseMixinDeclaration","_parseMixinContent","_parseMixinReference","_parseFunctionDeclaration","_parseForward","_parseUse","_parseVariableDeclaration","panic","_parseVariable","_parseInterpolation","_parseModuleMember","_parseSelectorCombinator","_parseExtends","_parseNestedProperties","_parseSelectorPlaceholder","parseStatement","_parseIfStatement","_parseForStatement","_parseEachStatement","_parseWhileStatement","_internalParseIfStatement","elseNode","_parseFunctionBodyDeclaration","_parseReturnStatement","_parseParameterDeclaration","firstIdent","secondIdent","moduleToken","_parseMixinContentDeclaration","_parseMixinReferenceBodyStatement","argument","node_1","_parseListElement","_parseModuleConfigDeclaration","_parseForwardVisibility","addReferencesToDocumentation","references","markdownDoc","url","SCSSCompletion","lsServiceOptions","scssModuleLoaders","scssModuleBuiltIns","parentType","createReplaceFunction","tabStopCounter","variableDefaults","createFunctionProposals","proposals","sortToEnd","proposals_1","selectorFuncs","functions","builtInFuncs","colorProposals","getCompletionForAtDirectives","_extendsRef","suggest","scssAtDirectives","getCompletionForModuleLoaders","_TIC","LESSScanner","escapedJavaScript","LESSParser","_parsePlugin","_tryParseMixinDeclaration","_tryParseMixinReference","_parseDetachedRuleSetMixin","_parseDetachedRuleSet","_parseMixinParameter","_parseDetachedRuleSetBody","_addLookupChildren","_parseLookupValue","expectsValue","insideLookup","isPropertyReference","_parseEscaped","_parseGuardOperator","_parseExtend","_parseGuard","peekInterpolatedIdent","_acceptInterpolatedIdent","inLookup","propertyRegex","identRegex","indentInterpolation","_parseMixinDeclarationIdentifier","_parseMixInBodyDeclaration","_completeExtends","atRoot","nextId","hasArguments","_parseMixinArgument","restNode","varargsNode","isNegated","_parseGuardCondition","node_2","LESSCompletion","example","description","builtInProposals","CSSDataManager","dataProviders","_propertySet","_atDirectiveSet","_pseudoClassSet","_pseudoElementSet","_properties","_atDirectives","_pseudoClasses","_pseudoElements","setDataProviders","useDefaultDataProvider","customDataProviders","builtIn","providers","collectData","provider","provideProperties","provideAtDirectives","providePseudoClasses","providePseudoElements","objects","isKnownProperty","isStandardProperty","SCSSNavigation","parsedUri","pathVariations","with","pathFragments","split","basename","pathWithoutBasename","normalizedBasename","documentUriWithBasename","newBasename","toPathVariations","DiagnosticsAdapter","_disposables","_listener","onModelAdd","model","handle","modeId","getModeId","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","uriStr","listener","resource","worker","markers","diag","toSeverity","startLineNumber","startColumn","endLineNumber","endColumn","err","console","lsSeverity","fromPosition","column","lineNumber","toRange","toCompletionItemKind","mItemKind","toTextEdit","CompletionAdapter","provideCompletionItems","info","wordInfo","getWordUntilPosition","wordRange","filterText","insertTextRules","suggestions","toMarkdownString","thing","toMarkedStringArray","HoverAdapter","provideHover","toDocumentHighlightKind","DocumentHighlightAdapter","provideDocumentHighlights","toLocation","DefinitionAdapter","provideDefinition","definition","ReferenceAdapter","provideReferences","RenameAdapter","provideRenameEdits","resourceEdits","toWorkspaceEdit","toSymbolKind","mKind","DocumentSymbolAdapter","provideDocumentSymbols","DocumentColorAdapter","provideDocumentColors","infos","provideColorPresentations","fromRange","presentations","presentation","FoldingRangeAdapter","provideFoldingRanges","getFoldingRanges","ranges","toFoldingRangeKind","SelectionRangeAdapter","provideSelectionRanges","positions","getSelectionRanges","selectionRanges","setupMode","disposables","modeConfiguration","uris","disposeAll","completionItems","hovers","documentHighlights","definitions","documentSymbols","rename","colors","foldingRanges","asDisposable"],"sourceRoot":""}